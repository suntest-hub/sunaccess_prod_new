{"version":3,"file":"src_app_pages_fund-list_fund-list_module_ts.js","mappings":"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","sources":["./src/app/pages/fund-list/fund-list-routing.module.ts","./src/app/pages/fund-list/fund-list.module.ts","./src/app/pages/fund-list/fund-list.page.ts","./src/app/pages/fund-list/fund-list.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FundListPage } from './fund-list.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FundListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FundListPageRoutingModule {}\r\n","import { TranslateModule } from '@ngx-translate/core';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FundListPageRoutingModule } from './fund-list-routing.module';\r\n\r\nimport { FundListPage } from './fund-list.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FundListPageRoutingModule\r\n  ],\r\n  declarations: [FundListPage]\r\n})\r\nexport class FundListPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TranslateConfigService } from 'src/app/services/translate-config.service';\r\nimport { LoggerServiceProvider } from 'src/providers/logger-service/logger-service';\r\nimport { ConfigProvider } from 'src/providers/utils/config';\r\nimport { UtilService } from 'src/providers/utils/utils.service';\r\nimport { FundAllocationsService } from './fundAllocationsService';\r\nimport * as HttpStatus from 'http-status-codes';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-fund-list',\r\n  templateUrl: './fund-list.page.html',\r\n  styleUrls: ['./fund-list.page.scss'],\r\n})\r\nexport class FundListPage implements OnInit {\r\n  selectedLanguage:string;\r\n  fundList :any =[];\r\n  isShowingLoader : any;\r\n  errorMsg:any;\r\n  encryptedPolicyNo :any;\r\n  canTryAgain = false;\r\n  selectedPolicyData : any;\r\n  selectedPlanType : any;\r\n\r\n\r\n  constructor(\r\n    private translateConfigService: TranslateConfigService,\r\n    public translate:TranslateService,\r\n    public logger:LoggerServiceProvider,\r\n    private config: ConfigProvider,\r\n    public utils:UtilService,\r\n    private router: Router,\r\n    public fundAllocationservice : FundAllocationsService\r\n\r\n  ) {\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n      this.translateConfigService.setLanguage('en');\r\n      this.isShowingLoader  =true;\r\n      this.selectedPolicyData = history.state.policyData;\r\n      this.selectedPlanType = this.selectedPolicyData['planType'];\r\n      this.encryptedPolicyNo = this.selectedPolicyData['encryptedPolicyNo'];\r\n      this.utils.analytics(\"fundList\");\r\n      this.config.currentPage.pageName = \"FundListPage\";\r\n   }\r\n   ngOnInit() {\r\n    this.getFundList();\r\n  }\r\n\r\n   ionViewDidLoad() {\r\n    this.logger.log('ionViewDidLoad FundListPage');\r\n    this.getFundList();\r\n  }\r\n  getFundList = function(){\r\n    if(this.utils.isDeviceOnLine()){\r\n      this.canTryAgain = false;\r\n      this.isShowingLoader = true;\r\n      this.errorMsg= \"\";\r\n      this.fundAllocationservice.getFundAllocations(this.encryptedPolicyNo).then(\r\n      (res) =>{\r\n        try {\r\n          this.isShowingLoader=false;\r\n           if (res['responseJSON'] && res['responseJSON']['statusCode'] == HttpStatus.OK) {\r\n             this.fundList = res['responseJSON']['array'];\r\n             if(!(this.fundList.length>0)){\r\n              this.errorMsg = this.translate.instant('generic_msgs.no_data');\r\n             }\r\n           }else{\r\n            this.isShowingLoader=false;\r\n            this.errorMsg = res['responseJSON']['error_description'];\r\n           }\r\n         }catch (e) {\r\n           this.isShowingLoader=false;\r\n           this.canTryAgain = true;\r\n           this.logger.error(\"getFundAllocationsList catch eror : \" + JSON.stringify(e));\r\n           this.errorMsg = this.translate.instant('generic_msgs.server_err');\r\n         }\r\n      }, (err) => {\r\n        this.isShowingLoader=false;\r\n        this.canTryAgain = true;\r\n        this.errorMsg = this.utils.handleServiceException(err);\r\n      });\r\n    }else{\r\n      this.isShowingLoader = false;\r\n      this.canTryAgain = true;\r\n      this.errorMsg= this.translate.instant('generic_msgs.network_err');\r\n     }\r\n}\r\nnavigateToFundDetails(data){\r\n  this.router.navigate(['fund-allocation'], { state: { selectedPolicy:this.selectedPolicyData,fundData:data} });\r\n\r\n  //this.navCtrl.push(FundAllocationPage,{selectedPolicy:this.selectedPolicyData,fundData:data});\r\n}\r\n\r\n\r\n}\r\n","<ion-header mode=\"ios\" >\r\n  <ion-toolbar color=\"primary\" style=\"border-bottom:3px solid white;\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button style=\"padding-left:15px; font-size:0.7rem;\" text=\"\" icon=\"chevron-back-outline\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title class=\"bold-font\">{{selectedPolicyData['policyNumber']}}</ion-title>\r\n   </ion-toolbar >\r\n  <ion-toolbar color=\"primary\" class=\"tabs\">\r\n <ion-row [ngClass]=\"{'bg-conventional' : (selectedPlanType === 'Conventional'),'bg-takaful': (selectedPlanType !== 'Conventional')}\" style=\"margin-bottom: 5px;\">\r\n        <ion-label class=\"sub-header\">{{\"fund_allocations.title\"|translate}}</ion-label>\r\n    </ion-row>\r\n  </ion-toolbar>\r\n\r\n  </ion-header>\r\n\r\n  <ion-content  class=\"app_bg2 ion-padding  \" >\r\n    <section class=\"spinnersection ion-text-center\" *ngIf=\"isShowingLoader\">\r\n      <ion-spinner style=\"height:98%;\" name=\"lines-sharp-small\"></ion-spinner>\r\n    </section>\r\n    <section class=\"errorMsgSection\"  *ngIf=\"!(fundList.length>0) && !isShowingLoader\">\r\n      <span>{{errorMsg}}</span>\r\n      <ion-button *ngIf=\"canTryAgain\" (click)=\"getFundList()\"> {{\"generic_msgs.try_again\" | translate }}</ion-button>\r\n    </section>\r\n\r\n     <div *ngIf=\"fundList.length>0\" class=\"margin_bottom white_container_border_radius padding_15\">\r\n      <ion-list  *ngFor=\"let data of fundList\"  (click)=\"navigateToFundDetails(data)\">\r\n\r\n       <ion-row class=\"cardheader\" style=\"margin-bottom: 10px;\">\r\n           <p>{{data.name}}</p>\r\n       </ion-row>\r\n\r\n      </ion-list>\r\n     </div>\r\n  </ion-content>\r\n\r\n"],"names":["RouterModule","FundListPage","routes","path","component","FundListPageRoutingModule","forChild","imports","exports","TranslateModule","CommonModule","FormsModule","IonicModule","FundListPageModule","declarations","HttpStatus","i0","constructor","translateConfigService","translate","logger","config","utils","router","fundAllocationservice","isDeviceOnLine","canTryAgain","isShowingLoader","errorMsg","getFundAllocations","encryptedPolicyNo","then","res","OK","fundList","length","instant","e","error","JSON","stringify","err","handleServiceException","selectedLanguage","getDefaultLanguage","setLanguage","selectedPolicyData","history","state","policyData","selectedPlanType","analytics","currentPage","pageName","ngOnInit","getFundList","ionViewDidLoad","log","navigateToFundDetails","data","navigate","selectedPolicy","fundData","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}