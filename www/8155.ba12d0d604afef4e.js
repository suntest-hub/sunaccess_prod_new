"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8155],{78155:(Y,p,a)=>{a.r(p),a.d(p,{NewsLetterPageModule:()=>I});var c=a(36895),u=a(24006),s=a(48058),h=a(64228),e=a(98274),m=a(53025),_=a(9999),w=a(40761),L=a(58339),g=a(54463),N=a(43485);function x(n,o){1&n&&(e.TgZ(0,"section",12),e._UZ(1,"ion-spinner",13),e.qZA())}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.getNewsLetter(void 0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"generic_msgs.try_again")))}function v(n,o){if(1&n&&(e.TgZ(0,"section",14)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,P,3,3,"ion-button",15),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMsg),e.xp6(1),e.Q6J("ngIf",t.canTryAgain)}}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-label",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.downloadAndOpenPdf(r))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function T(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"ion-label",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.downloadAndOpenPdf(r))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function b(n,o){if(1&n&&(e.TgZ(0,"ion-row",21),e.YNc(1,M,3,1,"div",22),e.YNc(2,T,3,1,"div",23),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","ios"==t.platfrm_class),e.xp6(1),e.Q6J("ngIf","android"==t.platfrm_class)}}function Z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-infinite-scroll",27),e.NdJ("ionInfinite",function(r){e.CHM(t);const l=e.oxw(2);return e.KtG(l.getMoreNews(r))}),e._UZ(1,"ion-infinite-scroll-content"),e.qZA()}}function A(n,o){if(1&n&&(e.TgZ(0,"section",null,17)(2,"ion-list",18),e.YNc(3,b,3,2,"ion-row",19),e.qZA(),e.YNc(4,Z,2,0,"ion-infinite-scroll",20),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.newsLetterList),e.xp6(1),e.Q6J("ngIf",!t.isLastPageReached)}}const S=[{path:"",component:(()=>{class n{constructor(t,i,r,l,d,C,O,J){this.utils=t,this.getNewsLetterService=r,this.logger=l,this.platform=d,this.downloadFile=C,this.translate=O,this.config=J,this.errorMsg="",this.newsLetterList=[],this.isShowingLoader=!0,this.canTryAgain=!1,this.isServiceCallInProgress=!1,this.isLastPageReached=!1,this.hasRecords=!0,this.pageNum=1,this.downloadAndOpenPdf=function(f){"PDF"===f.fileType?this.downloadFile.downloadFile(f._link):this.utils.openLink(f._link)},this.utils.analytics("newsLetter"),this.config.currentPage.pageName="NewsLetterPage",this.platfrm_class=d.is("ios")?"ios":"android"}ngOnInit(){this.logger.log("ionViewDidLoad NewsLetterPage"),this.getNewsLetter(void 0)}getNewsLetter(t){if(this.utils.isDeviceOnLine()){if(this.pageNum<=this.lastPageIndex)return;this.lastPageIndex=this.pageNum,this.isServiceCallInProgress=!0,this.hasRecords=!0,void 0===t&&(this.canTryAgain=!1,this.isShowingLoader=!0,this.errorMsg=""),this.logger.trace("get NewsLetter--start"),this.getNewsLetterService.getNewsLettersList(this.pageNum).then(i=>{try{if(this.newsLetterList.length>0?this.newsLetterList=this.newsLetterList.concat(i.responseJSON.array):(this.newsLetterList=i.responseJSON.array,this.config.PAGE_SIZE_NewsLetter=i.responseJSON.pageSize),1===this.pageNum){var r=this.content.nativeElement.getBoundingClientRect(),l=this.platform.height();r.height<l&&(this.pageNum++,this.getNewsLetter(void 0))}this.isServiceCallInProgress=!1,this.newsLetterList.length<=0?(void 0===t&&(this.canTryAgain=!1,this.errorMsg=this.translate.instant("generic_msgs.no_data")),i.responseJSON.array.length<this.config.PAGE_SIZE_NewsLetter?(this.isLastPageReached=!0,t&&t.enable(!1)):this.pageNum++):i.responseJSON.array.length<this.config.PAGE_SIZE_NewsLetter?(this.isLastPageReached=!0,t&&t.enable(!1)):this.pageNum++,void 0!==t?t.complete():this.isShowingLoader=!1}catch(d){this.isServiceCallInProgress=!1,void 0===t?(this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.error_err")):t.complete()}},i=>{this.isServiceCallInProgress=!1,void 0===t?(this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.utils.handleServiceException(i)):t.complete()})}else this.isServiceCallInProgress=!1,void 0===t?(this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err")):t.complete()}getMoreNews(t){this.loadMoreTimer&&clearTimeout(this.loadMoreTimer),this.loadMoreTimer=setTimeout(()=>{this.logger.trace("NewsLetterPage --getMoreNews--start--infinite : "+t),console.log("infinite",t),this.isServiceCallInProgress||this.getNewsLetter(t),this.logger.trace("NewsLetterPage--getMoreNews--end"),this.loadMoreTimer=null},800)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.f),e.Y36(_.U),e.Y36(w.w),e.Y36(_.U),e.Y36(s.t4),e.Y36(L.w),e.Y36(g.sK),e.Y36(N.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-news-letter"]],viewQuery:function(t,i){if(1&t&&e.Gf(s.W2,5,e.SBq),2&t){let r;e.iGM(r=e.CRH())&&(i.content=r.first)}},decls:16,vars:9,consts:[["mode","ios"],["color","primary"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],[1,"sub_title","ion-no-padding"],[1,"subheader_bg"],[1,"sub-header"],["padding","","no-bounce","",1,"app_bg2","padding_015"],["class","spinnersection",4,"ngIf"],["class","errorMsgSection",4,"ngIf"],[4,"ngIf"],[1,"spinnersection"],["name","lines-sharp-small",2,"height","98%"],[1,"errorMsgSection"],["style","--background:var(--ion-color-white);",3,"click",4,"ngIf"],[2,"--background","var(--ion-color-white)",3,"click"],["IonContent",""],[1,"white_container_border_radius","text_color_base","font_size_18"],["class","list_item","style","margin-top: -5px;",4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"list_item",2,"margin-top","-5px"],["style","text-align:left;margin-left: -60px !important;",4,"ngIf"],["style","text-align:left;margin-left: -25px !important;",4,"ngIf"],[2,"text-align","left","margin-left","-60px !important"],[1,"link",3,"click"],[2,"text-align","left","margin-left","-25px !important"],[3,"ionInfinite"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-toolbar",5)(8,"ion-row",6)(9,"ion-label",7),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"ion-content",8),e.YNc(13,x,2,0,"section",9),e.YNc(14,v,4,2,"section",10),e.YNc(15,A,5,2,"section",11),e.qZA()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,5,"downloads.download")),e.xp6(5),e.Oqu(e.lcZ(11,7,"newsLetter.title")),e.xp6(3),e.Q6J("ngIf",i.isShowingLoader),e.xp6(1),e.Q6J("ngIf",!(i.newsLetterList.length>0||i.isShowingLoader)),e.xp6(1),e.Q6J("ngIf",i.newsLetterList.length>0))},dependencies:[c.sg,c.O5,s.oU,s.YG,s.Sm,s.W2,s.Gu,s.ju,s.MB,s.Q$,s.q_,s.Nd,s.PQ,s.wd,s.sr,s.cs,g.X$],styles:[".link[_ngcontent-%COMP%]{color:#6095c9;text-decoration:underline;white-space:unset!important;font-size:large;margin-bottom:10px}.label[_ngcontent-%COMP%]{margin:0!important;padding:10px;white-space:unset!important}.list_item[_ngcontent-%COMP%]{border-bottom:1px solid #a2a4a5;margin-top:10px;justify-content:center;line-height:40px;padding-top:5px}.list_item[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.sub_title[_ngcontent-%COMP%]{margin-top:3px!important}.sub-header[_ngcontent-%COMP%]{color:#fff;padding:10px 25px!important;margin:0!important;font-size:1.1rem!important;font-family:Agenda-Regular}.padding_015[_ngcontent-%COMP%]{padding:0 15px}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important;margin:15px;padding:15px}.subheader_bg[_ngcontent-%COMP%]{background:#002d3d;font-family:Agenda-Regular;font-size:1.2rem;color:#fff!important;height:45px!important;display:flex;align-items:center}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(S),h.Bz]}),n})(),I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,u.u5,s.Pc,y,g.aw]}),n})()}}]);