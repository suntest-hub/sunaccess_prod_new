"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6205],{96205:(M,p,n)=>{n.r(p),n.d(p,{PolicyDetailsPageModule:()=>A});var c=n(36895),P=n(24006),r=n(54463),s=n(48058),g=n(64228),d=n(22727),e=n(98274),u=n(45340),h=n(9999),y=n(10293),_=n(53025),f=n(43485);function m(t,a){1&t&&(e.TgZ(0,"section",17),e._UZ(1,"ion-spinner",18),e.qZA())}function T(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ion-button",21),e.NdJ("click",function(){e.CHM(i);const l=e.oxw(2);return e.KtG(l.getPolicyDetails())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"generic_msgs.try_again")))}function D(t,a){if(1&t&&(e.TgZ(0,"section",19)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,T,3,3,"ion-button",20),e.qZA()),2&t){const i=e.oxw();e.xp6(2),e.Oqu(i.errorMsg),e.xp6(1),e.Q6J("ngIf",i.canTryAgain)}}function v(t,a){1&t&&e._UZ(0,"section")}const Z=function(t,a){return{"bg-conventional":t,"bg-takaful":a}},S=[{path:"",component:(()=>{class t{constructor(i,o,l,N,x,w,O){this.router=i,this.translateConfigService=o,this.logger=l,this.policyDetailsServcie=N,this.utils=x,this.translate=w,this.config=O,this.isShowingLoader=!0,this.isServiceSuccess=!1,this.canTryAgain=!1,this.getPolicyDetailsResponse={},this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en"),this.config.currentPage.pageName="PolicyDetailsPage",this.selectedPolicyData=history.state.policyData,this.selectedPlanType=this.selectedPolicyData.planType,this.selectedPolicyNo=this.selectedPolicyData.policyNumber,this.utils.analytics("policyDetails")}ionViewDidLoad(){this.logger.log("ionViewDidLoad PolicyDetailsPage")}ionViewDidEnter(){this.isServiceSuccess||(this.isShowingLoader=!0,this.getPolicyDetails())}navToPlanDescriptionPage(){this.isServiceSuccess&&this.router.navigate(["plan-descriptions"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanBenefitsPage(){this.isServiceSuccess&&this.router.navigate(["plan-benifits"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanContactDetailsPage(){this.isServiceSuccess&&this.router.navigate(["contact-details"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanAgentDetailsPage(){this.isServiceSuccess&&this.router.navigate(["plan-agent-details"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanNominationsPage(){this.isServiceSuccess&&this.router.navigate(["nominations"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanEpaymentInfoPage(){this.isServiceSuccess&&this.router.navigate(["plan-epayment-info"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanAssigneesPage(){this.isServiceSuccess&&this.router.navigate(["plan-assignees"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}navToPlanTrusteesPage(){this.isServiceSuccess&&this.router.navigate(["plan-trustees"],{state:{policyDetailsData:this.getPolicyDetailsResponse,planType:this.selectedPlanType,policyNo:this.selectedPolicyNo}})}getPolicyDetails(){this.utils.isDeviceOnLine()?this.policyDetailsServcie.getPolicyDetails(this.selectedPolicyData.encryptedPolicyNo).then(i=>{this.logger.debug("getPolicyDetails service result : "+JSON.stringify(i));try{this.isShowingLoader=!1,i.responseJSON&&i.responseJSON.statusCode==d.OK?(this.isServiceSuccess=!0,this.getPolicyDetailsResponse=i.responseJSON):(this.isServiceSuccess=!1,this.canTryAgain=!0,this.errorMsg=i.responseJSON.error_description)}catch(o){this.isServiceSuccess=!1,this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.logger.error("getPolicyDetails catch eror : "+JSON.stringify(o))}},i=>{this.logger.error("getPolicyDetails catch eror : "+JSON.stringify(i)),this.isServiceSuccess=!1,this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.utils.handleServiceException(i)}):(this.isServiceSuccess=!1,this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err"))}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g.F0),e.Y36(u.w),e.Y36(h.U),e.Y36(y.H),e.Y36(_.f),e.Y36(r.sK),e.Y36(f.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-policy-details"]],decls:65,vars:32,consts:[["mode","ios"],["color","primary",2,"border-bottom","3px solid white"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["color","primary",1,"tabs"],[2,"margin-bottom","5px",3,"ngClass"],[1,"sub-header"],["padding","","no-bounce","",1,"app_bg","text_color_base"],["class","spinnersection ion-text-center",4,"ngIf"],["class","errorMsgSection white_container_border_radius",4,"ngIf"],[4,"ngIf"],[1,"white_container_border_radius","text_color_base","margin","ion-padding","font_lab"],[1,"font",3,"click"],["size","10",1,"margin_top_bottom_auto","font-size_20"],["size","2",1,"margin_top_bottom_auto","ion-text-center"],[1,"fas","fa-angle-right","font_size_20"],[1,"spinnersection","ion-text-center"],["name","lines-sharp-small",2,"height","98%"],[1,"errorMsgSection","white_container_border_radius"],["style","--background:var(--ion-color-white);",3,"click",4,"ngIf"],[2,"--background","var(--ion-color-white)",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title",4),e._uU(5),e.qZA()(),e.TgZ(6,"ion-toolbar",5)(7,"ion-row",6)(8,"ion-label",7),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"ion-content",8),e.YNc(12,m,2,0,"section",9),e.YNc(13,D,4,2,"section",10),e.YNc(14,v,1,0,"section",11),e.TgZ(15,"ion-list",12)(16,"ion-row",13),e.NdJ("click",function(){return o.navToPlanDescriptionPage()}),e.TgZ(17,"ion-col",14)(18,"ion-label"),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"ion-col",15),e._UZ(22,"i",16),e.qZA()(),e.TgZ(23,"ion-row",13),e.NdJ("click",function(){return o.navToPlanBenefitsPage()}),e.TgZ(24,"ion-col",14)(25,"ion-label"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"ion-col",15),e._UZ(29,"i",16),e.qZA()(),e.TgZ(30,"ion-row",13),e.NdJ("click",function(){return o.navToPlanContactDetailsPage()}),e.TgZ(31,"ion-col",14)(32,"ion-label"),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"ion-col",15),e._UZ(36,"i",16),e.qZA()(),e.TgZ(37,"ion-row",13),e.NdJ("click",function(){return o.navToPlanNominationsPage()}),e.TgZ(38,"ion-col",14)(39,"ion-label"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"ion-col",15),e._UZ(43,"i",16),e.qZA()(),e.TgZ(44,"ion-row",13),e.NdJ("click",function(){return o.navToPlanAssigneesPage()}),e.TgZ(45,"ion-col",14)(46,"ion-label"),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.TgZ(49,"ion-col",15),e._UZ(50,"i",16),e.qZA()(),e.TgZ(51,"ion-row",13),e.NdJ("click",function(){return o.navToPlanTrusteesPage()}),e.TgZ(52,"ion-col",14)(53,"ion-label"),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"ion-col",15),e._UZ(57,"i",16),e.qZA()(),e.TgZ(58,"ion-row",13),e.NdJ("click",function(){return o.navToPlanAgentDetailsPage()}),e.TgZ(59,"ion-col",14)(60,"ion-label"),e._uU(61),e.ALo(62,"translate"),e.qZA()(),e.TgZ(63,"ion-col",15),e._UZ(64,"i",16),e.qZA()()()()),2&i&&(e.xp6(5),e.hij(" ",o.selectedPolicyData.policyNumber,""),e.xp6(2),e.Q6J("ngClass",e.WLB(29,Z,"Conventional"===o.selectedPlanType,"Conventional"!==o.selectedPlanType)),e.xp6(2),e.Oqu(e.lcZ(10,13,"plan_details_page.sub_title")),e.xp6(3),e.Q6J("ngIf",o.isShowingLoader),e.xp6(1),e.Q6J("ngIf",!o.getPolicyDetailsResponse&&!o.isShowingLoader),e.xp6(1),e.Q6J("ngIf",o.getPolicyDetailsResponse&&!o.isShowingLoader),e.xp6(5),e.Oqu(e.lcZ(20,15,"plan_details_page.plan_descriptions")),e.xp6(7),e.Oqu(e.lcZ(27,17,"plan_details_page.benefits")),e.xp6(7),e.Oqu(e.lcZ(34,19,"plan_details_page.cantact_details")),e.xp6(7),e.Oqu(e.lcZ(41,21,"plan_details_page.nominations")),e.xp6(7),e.Oqu(e.lcZ(48,23,"plan_details_page.assignees")),e.xp6(7),e.Oqu(e.lcZ(55,25,"plan_details_page.trustees")),e.xp6(7),e.Oqu(e.lcZ(62,27,"plan_details_page.agent_info")))},dependencies:[c.mk,c.O5,s.oU,s.YG,s.Sm,s.wI,s.W2,s.Gu,s.Q$,s.q_,s.Nd,s.PQ,s.wd,s.sr,s.cs,r.X$],styles:["ion-content[_ngcontent-%COMP%]{--background: url(app_bg_2.54dc544248702eeb.jpg) no-repeat center center / cover}ion-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:center}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.tabs[_ngcontent-%COMP%]{border-top:3px solid color white;--padding-top: -4px;--padding-start: -4px;--padding-end: -4px;--min-height: 44px}.sub-header[_ngcontent-%COMP%]{color:#fff;padding:10px 25px!important;margin:0!important;font-size:.9rem!important;font-family:Agenda-Regular}.text_color_base[_ngcontent-%COMP%]{color:#002d3d}.margin_top_bottom_auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.font_size_20[_ngcontent-%COMP%]{font-size:1.5rem!important}ion-row[_ngcontent-%COMP%]{border-bottom:1px solid #002d3d}ion-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.margin[_ngcontent-%COMP%]{padding:5px;margin:15px}.bold-font[_ngcontent-%COMP%]{margin-top:2px;font-size:20px;font-weight:700;color:#002d3d}.font[_ngcontent-%COMP%]{padding:10px;font-size:15px}.spinnersection[_ngcontent-%COMP%]{display:block;flex-direction:column;justify-content:center;align-items:center;font-size:1.3rem;height:98%}.errorMsgSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:98%;font-size:.8rem;color:#494747!important;padding:0 15px}.font_lab[_ngcontent-%COMP%]{font-size:.9rem!important}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(S),g.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,P.u5,s.Pc,r.aw,b]}),t})()}}]);