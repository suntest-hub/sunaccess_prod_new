"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6926],{26926:(J,h,e)=>{e.r(h),e.d(h,{FundListPageModule:()=>S});var l=e(54463),c=e(36895),f=e(24006),s=e(48058),d=e(64228),m=e(22727),t=e(98274),L=e(45340),P=e(9999),x=e(43485),_=e(53025),y=e(31250);function v(n,o){1&n&&(t.TgZ(0,"section",12),t._UZ(1,"ion-spinner",13),t.qZA())}function b(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",16),t.NdJ("click",function(){t.CHM(i);const g=t.oxw(2);return t.KtG(g.getFundList())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"generic_msgs.try_again"),""))}function F(n,o){if(1&n&&(t.TgZ(0,"section",14)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,b,3,3,"ion-button",15),t.qZA()),2&n){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMsg),t.xp6(1),t.Q6J("ngIf",i.canTryAgain)}}function T(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"ion-list",19),t.NdJ("click",function(){const u=t.CHM(i).$implicit,p=t.oxw(2);return t.KtG(p.navigateToFundDetails(u))}),t.TgZ(1,"ion-row",20)(2,"p"),t._uU(3),t.qZA()()()}if(2&n){const i=o.$implicit;t.xp6(3),t.Oqu(i.name)}}function M(n,o){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,T,4,1,"ion-list",18),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.fundList)}}const A=function(n,o){return{"bg-conventional":n,"bg-takaful":o}},C=[{path:"",component:(()=>{class n{constructor(i,a,g,u,p,Z,w){this.translateConfigService=i,this.translate=a,this.logger=g,this.config=u,this.utils=p,this.router=Z,this.fundAllocationservice=w,this.fundList=[],this.canTryAgain=!1,this.getFundList=function(){this.utils.isDeviceOnLine()?(this.canTryAgain=!1,this.isShowingLoader=!0,this.errorMsg="",this.fundAllocationservice.getFundAllocations(this.encryptedPolicyNo).then(r=>{try{this.isShowingLoader=!1,r.responseJSON&&r.responseJSON.statusCode==m.OK?(this.fundList=r.responseJSON.array,this.fundList.length>0||(this.errorMsg=this.translate.instant("generic_msgs.no_data"))):(this.isShowingLoader=!1,this.errorMsg=r.responseJSON.error_description)}catch(N){this.isShowingLoader=!1,this.canTryAgain=!0,this.logger.error("getFundAllocationsList catch eror : "+JSON.stringify(N)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},r=>{this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.utils.handleServiceException(r)})):(this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err"))},this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en"),this.isShowingLoader=!0,this.selectedPolicyData=history.state.policyData,this.selectedPlanType=this.selectedPolicyData.planType,this.encryptedPolicyNo=this.selectedPolicyData.encryptedPolicyNo,this.utils.analytics("fundList"),this.config.currentPage.pageName="FundListPage"}ngOnInit(){this.getFundList()}ionViewDidLoad(){this.logger.log("ionViewDidLoad FundListPage"),this.getFundList()}navigateToFundDetails(i){this.router.navigate(["fund-allocation"],{state:{selectedPolicy:this.selectedPolicyData,fundData:i}})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(L.w),t.Y36(l.sK),t.Y36(P.U),t.Y36(x.i),t.Y36(_.f),t.Y36(d.F0),t.Y36(y.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-fund-list"]],decls:15,vars:11,consts:[["mode","ios"],["color","primary",2,"border-bottom","3px solid white"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["color","primary",1,"tabs"],[2,"margin-bottom","5px",3,"ngClass"],[1,"sub-header"],[1,"app_bg2","ion-padding"],["class","spinnersection ion-text-center",4,"ngIf"],["class","errorMsgSection",4,"ngIf"],["class","margin_bottom white_container_border_radius padding_15",4,"ngIf"],[1,"spinnersection","ion-text-center"],["name","lines-sharp-small",2,"height","98%"],[1,"errorMsgSection"],["style","--background:var(--ion-color-white);",3,"click",4,"ngIf"],[2,"--background","var(--ion-color-white)",3,"click"],[1,"margin_bottom","white_container_border_radius","padding_15"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"cardheader",2,"margin-bottom","5px"]],template:function(i,a){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5),t.qZA()(),t.TgZ(6,"ion-toolbar",5)(7,"ion-row",6)(8,"ion-label",7),t._uU(9),t.ALo(10,"translate"),t.qZA()()()(),t.TgZ(11,"ion-content",8),t.YNc(12,v,2,0,"section",9),t.YNc(13,F,4,2,"section",10),t.YNc(14,M,2,1,"div",11),t.qZA()),2&i&&(t.xp6(5),t.Oqu(a.selectedPolicyData.policyNumber),t.xp6(2),t.Q6J("ngClass",t.WLB(8,A,"Conventional"===a.selectedPlanType,"Conventional"!==a.selectedPlanType)),t.xp6(2),t.Oqu(t.lcZ(10,6,"fund_allocations.title")),t.xp6(3),t.Q6J("ngIf",a.isShowingLoader),t.xp6(1),t.Q6J("ngIf",!(a.fundList.length>0||a.isShowingLoader)),t.xp6(1),t.Q6J("ngIf",a.fundList.length>0))},dependencies:[c.mk,c.sg,c.O5,s.oU,s.YG,s.Sm,s.W2,s.Gu,s.Q$,s.q_,s.Nd,s.PQ,s.wd,s.sr,s.cs,l.X$],styles:[".app_bg2[_ngcontent-%COMP%]{--background: url(app_bg_2.54dc544248702eeb.jpg) no-repeat center center / cover;background-size:cover;background-repeat:no-repeat;height:100%;background-position:bottom}.sub-header[_ngcontent-%COMP%]{color:#fff;padding:10px 25px!important;margin:0!important;font-size:1.1rem!important;font-family:Agenda-Regular}.tabs[_ngcontent-%COMP%]{border-top:3px solid color white;--padding-top: -4px;--padding-start: -4px;--padding-end: -4px;--min-height: 44px}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.header-conventional[_ngcontent-%COMP%]{background:#002d3d;color:#fff!important}.cardheader[_ngcontent-%COMP%]{padding:5px 15px;background:#002d3d;color:#fff!important}p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;width:100%;font-family:Agenda-Regular;line-height:24px}ion-label[_ngcontent-%COMP%]{margin:1px 1px 1px 0}.margin_bottom[_ngcontent-%COMP%]{margin-bottom:5px}.spinnersection[_ngcontent-%COMP%]{display:block;flex-direction:column;justify-content:center;align-items:center;font-size:1.3rem;height:98%}.padding_15[_ngcontent-%COMP%]{padding:10px 10px 20px}"]}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(C),d.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,f.u5,s.Pc,l.aw,O]}),n})()}}]);