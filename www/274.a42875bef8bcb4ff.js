"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[274],{30274:(j,l,o)=>{o.r(l),o.d(l,{UpdateSecureWordPageModule:()=>I});var g=o(54463),h=o(36895),s=o(24006),i=o(48058),u=o(64228),f=o(15861),S=o(97716),m=o(22727),e=o(98274),_=o(53025),v=o(43485),P=o(47279),x=o(38590),W=o(15342),w=o(9999),C=o(61390),O=o(45340);function M(t,c){1&t&&(e.TgZ(0,"section",8),e._UZ(1,"ion-spinner",9),e.qZA())}function b(t,c){1&t&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"update_secure_word.newSecureWordrequired")))}function U(t,c){1&t&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"update_secure_word.minNewSecureWord")))}function Z(t,c){1&t&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"update_secure_word.maxNewSecureWord")))}function A(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div",10)(1,"form",11)(2,"p",12),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-item",13)(6,"div",14)(7,"img",15),e.NdJ("load",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.loaded=!0)}),e.qZA()()(),e.TgZ(8,"p",16),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"span",17),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"ion-item",18),e._UZ(14,"ion-input",19),e.ALo(15,"translate"),e.qZA(),e.YNc(16,b,4,3,"div",20),e.YNc(17,U,4,3,"div",20),e.YNc(18,Z,4,3,"div",20),e.TgZ(19,"ion-row",21)(20,"ion-col")(21,"ion-button",22),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.changeSecureWord())}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.changeSecureWordForm),e.xp6(2),e.Oqu(e.lcZ(4,10,"update_secure_word.existing_wrd")),e.xp6(4),e.Q6J("src",n.secureWordImage,e.LSH),e.xp6(2),e.hij("",e.lcZ(10,12,"update_secure_word.placeholder_new_wrd")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(15,14,"update_secure_word.placeholder_new_wrd")),e.xp6(2),e.Q6J("ngIf",n.changeSecureWordForm.get("newSecureWord").hasError("required")&&n.changeSecureWordForm.get("newSecureWord").touched),e.xp6(1),e.Q6J("ngIf",n.changeSecureWordForm.get("newSecureWord").hasError("minlength")&&n.changeSecureWordForm.get("newSecureWord").touched),e.xp6(1),e.Q6J("ngIf",n.changeSecureWordForm.get("newSecureWord").hasError("maxlength")&&n.changeSecureWordForm.get("newSecureWord").touched),e.xp6(3),e.Q6J("disabled",!n.changeSecureWordForm.valid),e.xp6(1),e.Oqu(e.lcZ(23,16,"update_secure_word.reset"))}}const L=[{path:"",component:(()=>{class t{constructor(n,r,a,d,p,T,J,Y,N,F,z,D){this.utils=n,this.config=r,this.changeSecureWordService=a,this.alertCtrl=d,this.authHandler=p,this.jsonStore=T,this.logger=J,this.loginService=Y,this.popOverCtrl=N,this.translate=F,this.router=z,this.translateConfigService=D,this.isShowingLoader=!1,this.str1="five",this.gotoDashbaordAfterUpdate=!1,this.secureWordImage="assets/imgs/placeholder-image.png",this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en"),this.utils.analytics("changeSecureWord"),this.config.currentPage.pageName="UpdateSecureWordPage",this.gotoDashbaordAfterUpdate=history.state.gotoDashboard,this.secureWordImage=this.config.secureWordImage,this.utils.dissmisProgressLoader()}ngOnInit(){this.changeSecureWordForm=new s.cw({newSecureWord:new s.NI("",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(10)])})}changeSecureWord(){if(this.changeSecureWordForm.valid){let n=this.changeSecureWordForm.controls.newSecureWord.value.trim();if(this.utils.isDeviceOnLine())this.utils.showProgressLoader(),this.changeSecureWordService.changeSecureWordService(n).then(r=>{try{if(r.responseJSON){if(r.responseJSON.statusCode==m.yI||r.responseJSON.statusCode==m.OK){let a=this.translate.instant("update_secure_word.change_wrd_success_txt"),d=r.responseJSON.userMessage||a;this.isSuccess=!0,this.utils.dissmisProgressLoader(),this.showDialog("",d)}}else{let a=this.translate.instant("update_secure_word.change_pwd_success_txt");this.isSuccess=!0,this.utils.dissmisProgressLoader(),this.showDialog("",a)}}catch(a){this.utils.dissmisProgressLoader(),this.isSuccess=!1,this.logger.error("loginSuccess catch eror : "+JSON.stringify(a));let d=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",d)}},r=>{this.utils.dissmisProgressLoader(),this.isSuccess=!1;let a=this.utils.handleServiceException(r);this.utils.showAlert("",a)});else{this.utils.dissmisProgressLoader(),this.isSuccess=!1;let r=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",r)}}}showDialog(n,r){this.alertCtrl.create({header:n,message:r,buttons:[{text:"Ok",handler:()=>{this.gotoDashbaordAfterUpdate?this.router.navigate(["/dashboard-after-login"],{state:{animate:!0,direction:"forward"}}):this.router.navigate(["/settings"])}}]}).then(p=>p.present())}openPopup(n){var r=this;return(0,f.Z)(function*(){yield(yield r.popOverCtrl.create({component:S.j,showBackdrop:!1,event:n,componentProps:{msg:r.str1},cssClass:"custom-popover"})).present()})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.f),e.Y36(v.i),e.Y36(P.K),e.Y36(i.Br),e.Y36(x.P),e.Y36(W.D),e.Y36(w.U),e.Y36(C.r),e.Y36(i.Dh),e.Y36(g.sK),e.Y36(u.F0),e.Y36(O.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-update-secure-word"]],decls:10,vars:5,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["no-bounce","",1,"app_bg1","text_color_base","padding_15","ion-padding"],["class","spinnersection ion-text-center",4,"ngIf"],["class","white_container_border_radius padding_015",4,"ngIf"],[1,"spinnersection","ion-text-center"],["name","lines-sharp-small",2,"height","98%"],[1,"white_container_border_radius","padding_015"],[3,"formGroup"],["position","stacked",1,"SecureLabel",2,"padding-top","10px","padding-bottom","10px"],["lines","none","lines","none"],[1,"SecurePhrace_div"],["alt","...",1,"SecurePhrace_Img",3,"src","load"],["position","stacked"],[1,"mandatory_star"],["lines","none",1,"border"],["restrict-input","","restrictInput","alphanumericwithspace","type","text","formControlName","newSecureWord",1,"newPassword",3,"placeholder"],["class","fail",4,"ngIf"],["text-center","","align-items-center","",1,"padding_150"],[1,"btn_center",3,"disabled","click"],[1,"fail"]],template:function(n,r){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"ion-content",5),e.YNc(8,M,2,0,"section",6),e.YNc(9,A,24,18,"div",7),e.qZA()),2&n&&(e.xp6(5),e.hij("",e.lcZ(6,3,"update_secure_word.title")," "),e.xp6(3),e.Q6J("ngIf",r.isShowingLoader),e.xp6(1),e.Q6J("ngIf",!r.isShowingLoader))},dependencies:[h.O5,s._Y,s.JJ,s.JL,i.oU,i.YG,i.Sm,i.wI,i.W2,i.Gu,i.pK,i.Ie,i.Nd,i.PQ,i.wd,i.sr,i.j9,i.cs,s.sg,s.u,g.X$],styles:[".app_bg1[_ngcontent-%COMP%]{--background: url(register_bg.35962209e77bb744.jpg) no-repeat center center / cover;background-size:cover;background-repeat:no-repeat;height:100%;background-position:bottom}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.spinnersection[_ngcontent-%COMP%]{display:block;flex-direction:column;justify-content:center;align-items:center;font-size:1.3rem;height:98%}.padding_015[_ngcontent-%COMP%]{padding:0 15px}.padding_15[_ngcontent-%COMP%]{padding:15px}.mandatory_star[_ngcontent-%COMP%]{color:red}.padding_150[_ngcontent-%COMP%]{padding:15px 0!important}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;--border-radius: 10px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important}.item[_ngcontent-%COMP%]{padding-left:0;background:transparent}.item[_ngcontent-%COMP%]   .item-input.ng-valid.item-input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%], .item.item-input.ng-valid.input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%]{border-bottom-color:none!important;box-shadow:none!important}.item-inner[_ngcontent-%COMP%]{padding-right:0!important;border-bottom:none!important}.input[_ngcontent-%COMP%]{border:1px solid #eee;padding:3px 15px;background:white;font-size:1.4rem}.label[_ngcontent-%COMP%]{margin-bottom:5px!important;font-size:1.8rem!important;color:#002d3d!important;font-weight:400}p[_ngcontent-%COMP%]{font-size:1.2rem!important;margin:10px 0 5px}.italic_font[_ngcontent-%COMP%]{font-style:italic;margin:7px 0}.sucess[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#002d3d!important}.fail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red!important}.sucess[_ngcontent-%COMP%], .fail[_ngcontent-%COMP%]{text-align:start!important}form[_ngcontent-%COMP%]{padding:0 15px!important}.newPassword[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{margin:8px 8px 8px 0!important}p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.85em;float:right;padding:5px}.SecurePhrace_div[_ngcontent-%COMP%]{align-items:center;margin:auto;width:100%;text-align:center;height:80px}.SecureLabel[_ngcontent-%COMP%]{margin-bottom:-10px!important;font-size:1.1rem!important}.SecurePhrace_Img[_ngcontent-%COMP%]{margin:auto}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(L),u.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,s.u5,i.Pc,g.aw,s.UX,y]}),t})()}}]);