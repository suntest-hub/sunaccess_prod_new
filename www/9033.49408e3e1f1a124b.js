"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9033],{17343:(Q,N,l)=>{l.d(N,{K:()=>R});var i=l(36895),g=l(48058),f=l(24006),w=l(54463),v=l(98274);let R=(()=>{class S{}return S.\u0275fac=function(q){return new(q||S)},S.\u0275mod=v.oAB({type:S}),S.\u0275inj=v.cJS({imports:[i.ez,g.Pc,w.aw,f.UX]}),S})()},25552:(Q,N,l)=>{l.d(N,{$:()=>S});var i=l(98274),g=l(48058),f=l(36895);function w(P,q){1&P&&(i.TgZ(0,"ol")(1,"li"),i._uU(2,"I confirm that the answers given are true and accurate. I shall release and discharge company/Takaful Operator fully from any liability for any loss arising from the reliance on the above information."),i.qZA(),i.TgZ(3,"li"),i._uU(4," I am well informed of the losses of all benefit under the policy/contract upon surrendering. I also understand that upon signing of this form, the relevant policy/contract is hereby delivered for surrender in full and final discharge of Company/Takaful Operator\u2019s liabilities under the said policy/contract upon receiving the surrender value payment."),i.qZA(),i.TgZ(5,"li"),i._uU(6,"My application will not take effect until it is accepted and notified to me by Company/Takaful Operator."),i.qZA(),i.TgZ(7,"li"),i._uU(8,"I am aware that I will receive notification of the potential impact of my application for withdrawal on the sustainability of my policy/contract and I understand that my application will not take effect until I provide the final confirmation to the Company/Takaful Operator to proceed with my withdrawal application after I have received the sustainability results."),i.qZA(),i.TgZ(9,"li"),i._uU(10,"My application must reach to Company/Takaful Operator at its Head Office in Kuala Lumpur by 3:30pm on the day before a Valuation Date (for investment-linked product) as described in the policy/contract document."),i.qZA(),i.TgZ(11,"li"),i._uU(12,"I further declare that I have not been adjudged a bankrupt nor have I have been presented with a bankruptcy petition."),i.qZA(),i.TgZ(13,"li"),i._uU(14,"I understand and agree that any of my personal information collected or held by Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by Company/Takaful Operator to individuals or organisations related to or associated with Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me for such purposes. I understand that I am entitled to obtain access to and to request correction of any personal information held by Company/Takaful Operator and that such request can be made to Company/Takaful Operator\u2019s Client Careline at "),i.TgZ(15,"a",7),i._uU(16,"1300-88-5055"),i.qZA(),i._uU(17,". I will keep Company/Takaful Operator updated of any change to such personal information as soon as possible."),i.qZA()())}function v(P,q){1&P&&(i.TgZ(0,"ol")(1,"li"),i._uU(2,"I/We hereby declare that I/we have read the questionnaires or the same was interpreted to me/us and the answers entered in the application are mine/ours and I/we hereby certify on behalf of myself/ourselves and of any person who has or claims any interest in the said policy/contract that each of the answers is complete and true and I agree that they shall be taken as the basis of the proposed revival or other changes/addition. I/We further agree that such revival or other changes/addition shall not be considered as effected until this application is approved by an authorised officer of Company/Takaful Operator. I/We further agree that if my/our application for revival or other changes/addition is accepted by the company/operator, the Incontestability and Suicide Provisions of my/our policy/contract shall be deemed and held to be so modified as to have effect from the approval date of such revival or other changes/addition."),i.qZA(),i.TgZ(3,"li"),i._uU(4,"I/we aware that it is my/our pre-contractual duty of disclosure that I/we must exercise reasonable care not to misrepresent i.e; to give false answers/information when answering any questions asked by Company/Takaful Operator and that I/we am/are to answer the questions fully and accurately."),i.qZA(),i.TgZ(5,"li"),i._uU(6,"I/We have read and understood the contents of this form including all warnings and notices therein and I/we have fully and accurately answered all of the questions in this form and other questions asked by Company/Takaful Operator, if any, after having fully read and understood the questions."),i.qZA(),i.TgZ(7,"li"),i._uU(8,"I/We am/are aware that I/we must inform Company/Takaful Operator of any change to the answers given in this form if the change occurred after I/we have submitted this form but before the policy/contract is reinstated. "),i.qZA(),i.TgZ(9,"li"),i._uU(10,"I/We am/are aware that if any answers, statements or information given by me/us is not accurate, the policy/ contract may be deemed void, my/our claim denied or reduced, the terms of the policy/contract changed or varied, or the policy/contract terminated."),i.qZA(),i.TgZ(11,"li"),i._uU(12,"I/We authorise any physician, hospital, clinic, insurer/takaful operator or other organisation, institution or person, that has any record or knowledge of my/our health, to disclose to Company/Takaful Operator or its representatives all information about me/us with reference to my health and medical history and any hospitalisation, advice, treatment, disease or ailment. A photocopy of this authorisation shall be as valid as the original. Furthermore, Company/Takaful Operator shall, at all times, keep all results of any such tests confidential and the use thereof shall only be for the purposes of this application or further application for insurance/takaful with Company/Takaful Operator except to such an extent that disclosure is required by the Government Authority or by Law, and further provided that Company/Takaful Operator shall use all care in carrying out any such test, but shall not be liable for any unforeseen occurrence, act or omission, unless Company/Takaful Operator has been negligent."),i.qZA(),i.TgZ(13,"li"),i._uU(14,"I/We understand and agree that any of my/our personal information collected or held by Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by Company/Takaful Operator to individuals or organisations related to or associated with Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me/us for such purposes. I understand that I/we am/are entitled to obtain access to and to request correction of any personal information held by Company/Takaful Operator and that such request can be made to Company/Takaful Operator\u2019s Client Careline at "),i.TgZ(15,"a",7),i._uU(16,"1300-88-5055"),i.qZA(),i._uU(17,". I/We will keep Company/Takaful Operator updated of any change to such personal information as soon as possible. "),i.qZA(),i.TgZ(18,"li"),i._uU(19,"l/We hereby declare that the information given is true and accurate to the best of my knowledge and record. I/We shall indemnify Company/Takaful Operator for any loss arising from the reliance on the above information. "),i.qZA()())}function R(P,q){1&P&&(i.TgZ(0,"ol")(1,"li"),i._uU(2,"I hereby confirm that the information and answers given in this form are true and accurate to the best of my knowledge and record. I shall release and discharge Sun Life Malaysia Assurance Berhad/Sun Life Malaysia Takaful Berhad (\u201cthe Company/Takaful Operator\u201d) fully from any liability for any loss arising from the reliance on the above information."),i.qZA(),i.TgZ(3,"li"),i._uU(4,"My application will not take effect until is accepted and notified to me by the Company/Takaful Operator."),i.qZA(),i.TgZ(5,"li"),i._uU(6,"My application must reach to the Company at its Head Office in Kuala Lumpur by 3:30pm on the day before a Valuation Date as described in the policy/contract document."),i.qZA(),i.TgZ(7,"li"),i._uU(8,"I further declare that I have not been adjudged a bankrupt nor I have been presented with a bankruptcy petition."),i.qZA(),i.TgZ(9,"li"),i._uU(10,"I understand and agree that any of my personal information collected or held by the Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by the Company/Takaful Operator to individuals or organisations related to or associated with the Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me for such purposes. I understand that I am entitled to obtain access to and to request correction of any personal information held by the Company/Takaful Operator and that such request can be made to the Company/Takaful Operator\u2019s Client Careline at "),i.TgZ(11,"a",7),i._uU(12,"1300-88-5055"),i.qZA(),i._uU(13,". I will keep the Company/Takaful Operator updated of any change to such personal information as soon as possible. "),i.qZA()())}let S=(()=>{class P{constructor(I,T){this.navParams=I,this.modalController=T,this.pageName=this.navParams.get("pageName")}closeModal(){this.modalController.dismiss()}ngOnInit(){console.log("ngOnInit DeclarationDetailsPage")}}return P.\u0275fac=function(I){return new(I||P)(i.Y36(g.X1),i.Y36(g.IN))},P.\u0275cmp=i.Xpm({type:P,selectors:[["app-declaration-details"]],decls:13,vars:3,consts:[["mode","ios"],["color","primary",2,"text-align","center","padding-top","0px !important"],[1,"bold-font"],[2,"font-size","0.9rem","font-size","0.9rem","padding-top","15px","padding-right","15px","padding-left","-5px","margin-left","-5px"],[4,"ngIf"],[1,"submit-btn"],[1,"btn_center",3,"click"],["href","tel:1300-88-5055"]],template:function(I,T){1&I&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-label",2),i._uU(3,"Declaration Details "),i.qZA()()(),i.TgZ(4,"ion-content")(5,"div",3),i.YNc(6,w,18,0,"ol",4),i.YNc(7,v,20,0,"ol",4),i.YNc(8,R,14,0,"ol",4),i.qZA()(),i.TgZ(9,"ion-footer")(10,"div",5)(11,"ion-button",6),i.NdJ("click",function(){return T.closeModal()}),i._uU(12,"Continue"),i.qZA()()()),2&I&&(i.xp6(6),i.Q6J("ngIf","partial"==T.pageName||"surrender"==T.pageName),i.xp6(1),i.Q6J("ngIf","reinstatement"==T.pageName),i.xp6(1),i.Q6J("ngIf","premium-redirection"==T.pageName||"top-up"==T.pageName||"fund-switching"==T.pageName))},dependencies:[f.O5,g.YG,g.W2,g.fr,g.Gu,g.Q$,g.sr],styles:["page-declaration-details[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:16px}page-declaration-details[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;padding-left:8px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:100px;min-height:40px;width:90%!important;margin-left:5%;font-family:Agenda-Regular!important;margin-bottom:15px}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}"]}),P})()},99033:(Q,N,l)=>{l.r(N),l.d(N,{OtherServicesPageModule:()=>ke});var i=l(36895),g=l(24006),f=l(48058),w=l(64228),v=l(15861),R=l(22727),S=l(41729),P=l(43485),q=l(25552),I=l(51019),T=l(75024),L=l(49583),e=l(98274),G=l(53025),K=l(28390),H=l(9999),A=l(54463),d=l(58339),y=l(30400),V=l(81905),j=l(38940),W=l(34598),$=l(31111),X=l(30070),ee=l(91903),te=l(12041);const ne=["Navbar"],C=["Content"];function p(a,h){if(1&a&&(e.TgZ(0,"ion-select-option",25),e._uU(1),e.qZA()),2&a){const t=h.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function c(a,h){if(1&a&&(e.TgZ(0,"ion-row")(1,"ion-col",27),e._UZ(2,"ion-radio",32),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()(),e.TgZ(5,"ion-col",29)(6,"ion-label"),e._uU(7),e.qZA()()()),2&a){const t=h.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.policyNumber),e.xp6(3),e.Oqu(t.planName)}}function s(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"div",26)(1,"ion-row")(2,"ion-col",27)(3,"ion-label",28),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-col",29)(7,"ion-label",28),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"ion-radio-group",30),e.NdJ("ionChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onSelectPolicy(o.detail.value))}),e.YNc(11,c,8,3,"ion-row",31),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,3,"update_card_details.policyNumber")),e.xp6(4),e.Oqu(e.lcZ(9,5,"update_card_details.planName")),e.xp6(3),e.Q6J("ngForOf",t.policyList)}}const _=function(){return{cssClass:"mycomponent-wider-popover"}};function M(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"section",12)(1,"form",13)(2,"div",14)(3,"p",15),e._uU(4,"Select Service Request"),e.TgZ(5,"span",16),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"ion-select",17,18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.requestType=o)}),e.YNc(9,p,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(10,"div",20)(11,"ion-label",21),e._uU(12,"Select Policy"),e.TgZ(13,"span",16),e._uU(14,"*"),e.qZA()(),e.YNc(15,s,12,7,"div",22),e.qZA()(),e.TgZ(16,"ion-row",23)(17,"ion-col")(18,"ion-button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitPolicy())}),e._uU(19,"Continue"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.otherServicesForm),e.xp6(6),e.Q6J("searchable",!1)("clearable",!1)("ngModel",t.requestType)("interfaceOptions",e.DdM(8,_)),e.xp6(2),e.Q6J("ngForOf",t.requestOptions),e.xp6(6),e.Q6J("ngIf",t.policyList.length>0),e.xp6(3),e.Q6J("disabled",t.otherServicesForm.pristine||!t.otherServicesForm.valid)}}function z(a,h){if(1&a&&(e.TgZ(0,"ion-select-option",25),e._uU(1),e.qZA()),2&a){const t=h.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function oe(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"div",57)(1,"div")(2,"h3",58),e._uU(3,"Can't find a service? Click "),e.TgZ(4,"u",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openServiceRequestWebPage())}),e._uU(5,"here"),e.qZA()()()()}}function ie(a,h){1&a&&(e.TgZ(0,"div")(1,"p",59),e._uU(2,"Service Request No."),e.qZA(),e.TgZ(3,"div",60),e._UZ(4,"ion-input",61),e.qZA()())}function ae(a,h){1&a&&(e.TgZ(0,"span",16),e._uU(1,"* "),e.qZA())}function re(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"div",62)(1,"ion-row",63)(2,"ion-col",64)(3,"ion-input",65),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,m=o.$implicit,u=e.oxw(2);return e.KtG(u.chooseCameraOptions(r,"otherRequestForm",m))}),e.qZA()(),e.TgZ(4,"ion-col",66)(5,"ion-icon",67),e.NdJ("click",function(){const o=e.CHM(t),r=o.index,m=o.$implicit,u=e.oxw(2);return e.KtG(u.chooseCameraOptions(r,"otherRequestForm",m))}),e.qZA(),e.TgZ(6,"ion-icon",68),e.NdJ("click",function(){const r=e.CHM(t).index,m=e.oxw(2);return e.KtG(m.removeOtherRequestAttachmentField(r,"otherRequestForm"))}),e.qZA()()()()}2&a&&(e.Q6J("formGroupName",h.index),e.xp6(3),e.Q6J("disabled",!0))}function se(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMoreRow("otherRequestForm"))}),e._uU(2,"Add More"),e.qZA()()}}function le(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"section",12)(1,"form",13)(2,"div",14)(3,"p",33),e._uU(4,"Type of Request"),e.TgZ(5,"span",16),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"ion-select",34,18),e.YNc(9,z,2,2,"ion-select-option",19),e.qZA()(),e.YNc(10,oe,6,0,"div",35),e.YNc(11,ie,5,0,"div",36),e.TgZ(12,"div")(13,"p",37),e._uU(14,"Description of a request"),e.TgZ(15,"span",16),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"div",38),e._UZ(18,"textarea",39),e.qZA()(),e.TgZ(19,"ion-row")(20,"div",40)(21,"p",41),e._uU(22," Upload Documents"),e.YNc(23,ae,2,0,"span",42),e.qZA(),e.YNc(24,re,7,2,"div",43),e.qZA()(),e.YNc(25,se,3,0,"ion-row",36),e.TgZ(26,"h5",44),e._uU(27,"Declaration"),e.qZA(),e.TgZ(28,"form",13)(29,"div",45)(30,"p",46)(31,"strong"),e._uU(32,"Foreign Account Tax Compliance Act (FATCA) and Common Reporting Standard (CRS) Declaration:"),e.qZA()(),e.TgZ(33,"ion-radio-group",47)(34,"ion-row")(35,"ion-col",48),e._UZ(36,"ion-radio",49),e.qZA(),e.TgZ(37,"ion-col",50)(38,"label",51),e._uU(39,"I declare that I am a U.S. citizen, a holder of a U.S. Permanent Resident Card, and/or a tax resident in any country other than Malaysia. I understand that I am required to submit the "),e.TgZ(40,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadForm("https://www.sunlifemalaysia.com/getmedia/aef55903-a40e-4991-b18c-d17661ad211e/US-FATCA-AND-OECD-CRS-INDIVIDUAL-SELF-CERTIFICATION"))}),e._uU(41,'"Self-Certification U.S. FATCA and OECD CRS"'),e.qZA(),e._uU(42," form to the Company which may be downloaded from the Company website at: "),e.TgZ(43,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openBrowserSite())}),e._uU(44,"www.sunlifemalaysia.com."),e.qZA()()()(),e.TgZ(45,"ion-row")(46,"ion-col",48),e._UZ(47,"ion-radio",49),e.qZA(),e.TgZ(48,"ion-col",50)(49,"label",51),e._uU(50,"I declare that I am not a U.S. citizen, a holder of a U.S. Permanent Resident Card, or a tax resident in any country other than Malaysia."),e.qZA()()()(),e._UZ(51,"div",53),e.TgZ(52,"ion-row")(53,"ion-col",48)(54,"ion-checkbox",54),e.NdJ("ionChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.checkboxChange(o))}),e.qZA()(),e.TgZ(55,"ion-col",55)(56,"label",51),e._uU(57,"I (USER) hereby declare that I fully and clearly understand the "),e.TgZ(58,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDeclaration())}),e.TgZ(59,"u"),e._uU(60,"declaration details"),e.qZA()(),e._uU(61," and submitting this request. "),e.qZA()()()()(),e.TgZ(62,"ion-row")(63,"ion-button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e._uU(64,"Submit"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.otherRequestForm),e.xp6(6),e.Q6J("searchable",!1)("clearable",!1)("interfaceOptions",e.DdM(17,_)),e.xp6(2),e.Q6J("ngForOf",t.otherRequestTypes),e.xp6(1),e.Q6J("ngIf",20==t.otherRequestForm.controls.otherRequestType.value),e.xp6(1),e.Q6J("ngIf",21==t.otherRequestForm.controls.otherRequestType.value),e.xp6(12),e.Q6J("ngIf",21===t.otherRequestForm.controls.otherRequestType.value),e.xp6(1),e.Q6J("ngForOf",t.otherRequestForm.controls.attachments.controls),e.xp6(1),e.Q6J("ngIf",t.showOtherReqAddMore),e.xp6(3),e.Q6J("formGroup",t.otherServiceDeclarationForm),e.xp6(5),e.Q6J("value",t.declaration),e.xp6(3),e.Q6J("value",1),e.xp6(11),e.Q6J("value",0),e.xp6(7),e.Q6J("disabled",t.tnCDisabled)("checked",t.termsCheckbox),e.xp6(9),e.Q6J("disabled",!t.isAllowedToSubmitOtherForm()||!t.otherServiceDeclarationForm.valid||t.tnCDisabled||!t.termsCheckbox)}}function de(a,h){1&a&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"To complete your service request, a 6-digit one-time-pin (OTP) is required."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"To update your mobile number please contact us at "),e.TgZ(5,"a",71),e._uU(6,"1300-88-5055"),e.qZA(),e._uU(7," or follow the steps below to submit physical form."),e.qZA()())}function pe(a,h){if(1&a&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"To complete your service request, a 6-digit one-time-pin (OTP) is required and will be sent to your mobile number "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5,"."),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(4),e.Oqu(t.maskedPhoneNumber)}}function he(a,h){1&a&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"To "),e.TgZ(3,"strong"),e._uU(4,"Update Mobile Number"),e.qZA(),e._uU(5," please contact us at "),e.TgZ(6,"a",72),e._uU(7,"1300-88-5055"),e.qZA(),e._uU(8," or follow the steps below to submit a physical form."),e.qZA()())}function ue(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"div",73)(1,"ion-item",74)(2,"ion-avatar",75),e._UZ(3,"i",76),e.qZA(),e.TgZ(4,"ion-list",77)(5,"ion-label",78),e._uU(6,"Download (Click "),e.TgZ(7,"span",79)(8,"u",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.downloadAlterationForm())}),e._uU(9,"here "),e.qZA()(),e._uU(10,")"),e.qZA(),e.TgZ(11,"ion-label",80),e._uU(12," Print and fill in the form "),e.qZA()()(),e.TgZ(13,"ion-item",74)(14,"ion-avatar",75),e._UZ(15,"i",81),e.qZA(),e.TgZ(16,"ion-list",77)(17,"ion-label",78),e._uU(18,"Scan/Snap"),e.qZA(),e.TgZ(19,"ion-label",80),e._uU(20," An image of the completed form "),e.qZA()()(),e.TgZ(21,"ion-item",74)(22,"ion-avatar",75),e._UZ(23,"i",82),e.qZA(),e.TgZ(24,"ion-list",77)(25,"ion-label",78),e._uU(26,"Email"),e.qZA(),e.TgZ(27,"ion-label",80)(28,"a",83)(29,"u"),e._uU(30,"policy.admin@sunlifemalaysia.com"),e.qZA()()()()()()}}function me(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.updateNumber())}),e._uU(2,"Not My Number"),e.qZA(),e.TgZ(3,"ion-button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.continueToUpdate(o.requestType))}),e._uU(4,"Continue"),e.qZA()()}}function ge(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cancel())}),e._uU(2,"Close"),e.qZA()()}}function fe(a,h){if(1&a&&(e.TgZ(0,"section",12)(1,"div"),e.YNc(2,de,8,0,"div",36),e.YNc(3,pe,6,1,"div",36),e.YNc(4,he,9,0,"div",36),e.YNc(5,ue,31,0,"div",70),e.TgZ(6,"ion-row",23),e.YNc(7,me,5,0,"ion-col",36),e.YNc(8,ge,3,0,"ion-col",36),e.qZA()()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.phoneNumber),e.xp6(1),e.Q6J("ngIf",t.phoneNumber&&!t.notMyNumber),e.xp6(1),e.Q6J("ngIf",t.notMyNumber),e.xp6(1),e.Q6J("ngIf",t.notMyNumber||!t.phoneNumber),e.xp6(2),e.Q6J("ngIf",t.phoneNumber&&!t.notMyNumber),e.xp6(1),e.Q6J("ngIf",!t.phoneNumber||t.notMyNumber)}}function _e(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"section",86)(1,"div",87)(2,"div",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.tabSwitch("tab1"))}),e._uU(3," Process & Documents required"),e.qZA(),e.TgZ(4,"div",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.tabSwitch("tab2"))}),e._uU(5,"Upload Documents & Submit"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.selectedTab1?"tab-selected":""),e.xp6(2),e.Q6J("ngClass",t.selectedTab2?"tab-selected":"")}}function Ce(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," (Click "),e.TgZ(2,"a")(3,"u",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDoc(o.formLink))}),e._uU(4,"Here"),e.qZA()(),e._uU(5,")"),e.qZA()}}function be(a,h){if(1&a&&(e.TgZ(0,"ul")(1,"li"),e._UZ(2,"div",96),e.YNc(3,Ce,6,0,"span",36),e.qZA()()),2&a){const t=h.$implicit,n=h.index;e.xp6(2),e.Q6J("innerHTML",n+1+". "+t.documentDescription,e.oJD),e.xp6(1),e.Q6J("ngIf",t.formLink)}}function Pe(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"section",90)(1,"h5",91),e._uU(2,"Documents Required"),e.qZA(),e.TgZ(3,"div"),e.YNc(4,be,4,2,"ul",31),e.qZA(),e.TgZ(5,"h5"),e._uU(6,"Process to follow"),e.qZA(),e.TgZ(7,"div",73)(8,"ion-item",92)(9,"ion-avatar",75),e._UZ(10,"i",76),e.qZA(),e.TgZ(11,"ion-list",77)(12,"ion-label",93),e._uU(13,"Download Required Forms"),e.qZA(),e.TgZ(14,"ion-label",80),e._uU(15," Open the form using Adobe "),e._UZ(16,"br"),e._uU(17,"Acrobat Reader "),e.qZA()()(),e.TgZ(18,"ion-item",92)(19,"ion-avatar",75),e._UZ(20,"i",94),e.qZA(),e.TgZ(21,"ion-list",77)(22,"ion-label",93),e._uU(23,"Fill and Save Form"),e.qZA(),e.TgZ(24,"ion-label",80),e._uU(25," Click on 'Edit and Fill' to fill the form"),e._UZ(26,"br"),e._uU(27," and Save "),e.qZA()()(),e.TgZ(28,"ion-item",92)(29,"ion-avatar",75),e._UZ(30,"i",82),e.qZA(),e.TgZ(31,"ion-list",77)(32,"ion-label",93),e._uU(33,"Submit"),e.qZA(),e.TgZ(34,"ion-label",80),e._uU(35," Upload filled forms along with the "),e._UZ(36,"br"),e._uU(37,"supported documents "),e.qZA()()()(),e.TgZ(38,"div",95)(39,"ion-button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.switchToAttachDocuments())}),e._uU(40,"Continue"),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.docList)}}function Oe(a,h){1&a&&(e.TgZ(0,"ion-col",112)(1,"span",16),e._uU(2,"*"),e.qZA()())}function ve(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"ion-icon",113),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),r=o.index,m=o.$implicit,u=e.oxw(2);return e.KtG(u.chooseCameraOptions(r,"otherServiceDocForm",m))}),e.qZA()}}function Me(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"ion-icon",114),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw(2);return e.KtG(r.removeAttachmentField(o,"otherServiceDocForm"))}),e.qZA()}}function ye(a,h){if(1&a&&(e.TgZ(0,"div",104)(1,"div",105)(2,"ion-row",63),e.YNc(3,Oe,3,0,"ion-col",106),e.TgZ(4,"ion-col",107),e._UZ(5,"ion-input",108)(6,"ion-input",109),e.qZA(),e.TgZ(7,"ion-col",66),e.YNc(8,ve,1,0,"ion-icon",110),e.YNc(9,Me,1,0,"ion-icon",111),e.qZA()()()()),2&a){const t=h.index,n=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(2),e.Q6J("ngIf",n.docList[t]&&"Yes"==n.docList[t].mandatory),e.xp6(5),e.Q6J("ngIf",!n.otherServiceDocForm.controls.attachments.controls[t].controls.fileval.value),e.xp6(1),e.Q6J("ngIf",n.otherServiceDocForm.controls.attachments.controls[t].controls.fileval.value)}}function xe(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"div",115)(1,"ion-button",116),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMoreRow("otherServiceDocForm"))}),e._uU(2,"Add More"),e.qZA()()}}function Te(a,h){1&a&&(e.TgZ(0,"div",117)(1,"span",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"clms_submison_house.err_uploadDocReq")))}function Ae(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"section",97)(1,"h3",98),e._uU(2,"Upload Documents"),e.qZA(),e.TgZ(3,"form",13),e.YNc(4,ye,10,4,"div",99),e.TgZ(5,"div",100),e._uU(6,"* Maximum file size allowed in total is 15MB"),e.qZA(),e.YNc(7,xe,3,0,"div",101),e.YNc(8,Te,4,3,"div",102),e.TgZ(9,"h5",44),e._uU(10,"Declaration"),e.qZA(),e.TgZ(11,"form",13)(12,"div",45)(13,"p",46)(14,"strong"),e._uU(15,"Foreign Account Tax Compliance Act (FATCA) and Common Reporting Standard (CRS) Declaration:"),e.qZA()(),e.TgZ(16,"ion-radio-group",47)(17,"ion-row")(18,"ion-col",48),e._UZ(19,"ion-radio",49),e.qZA(),e.TgZ(20,"ion-col",50)(21,"ion-label",51),e._uU(22,"I declare that I am a U.S. citizen, a holder of a U.S. Permanent Resident Card, and/or a tax resident in any country other than Malaysia. I understand that I am required to submit the "),e.TgZ(23,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.downloadForm("https://www.sunlifemalaysia.com/getmedia/aef55903-a40e-4991-b18c-d17661ad211e/US-FATCA-AND-OECD-CRS-INDIVIDUAL-SELF-CERTIFICATION"))}),e._uU(24,'"Self-Certification U.S. FATCA and OECD CRS"'),e.qZA(),e._uU(25," form to the Company which may be downloaded from the Company website at: "),e.TgZ(26,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openBrowserSite())}),e._uU(27,"www.sunlifemalaysia.com."),e.qZA()()()(),e.TgZ(28,"ion-row")(29,"ion-col",48),e._UZ(30,"ion-radio",49),e.qZA(),e.TgZ(31,"ion-col",50)(32,"ion-label",51),e._uU(33,"I declare that I am not a U.S. citizen, a holder of a U.S. Permanent Resident Card, or a tax resident in any country other than Malaysia."),e.qZA()()()(),e._UZ(34,"hr"),e.TgZ(35,"ion-row",51)(36,"ion-col",48)(37,"ion-checkbox",54),e.NdJ("ionChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.checkboxChange(o))}),e.qZA()(),e.TgZ(38,"ion-col",55)(39,"ion-label"),e._uU(40,"I (USER) hereby declare that I fully and clearly understand the "),e.TgZ(41,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDeclaration())}),e.TgZ(42,"u"),e._uU(43,"declaration details"),e.qZA()(),e._uU(44," and submitting this request. "),e.qZA()()()()(),e.TgZ(45,"div",103)(46,"ion-button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e._uU(47,"Submit"),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.otherServiceDocForm),e.xp6(1),e.Q6J("ngForOf",t.otherServiceDocForm.controls.attachments.controls),e.xp6(3),e.Q6J("ngIf",t.showAddMore),e.xp6(1),e.Q6J("ngIf",t.otherServiceDocForm.controls.attachments.controls[t.otherServiceDocForm.controls.attachments.length-1].controls.filename.hasError("required")&&t.otherServiceDocForm.controls.attachments.controls[t.otherServiceDocForm.controls.attachments.length-1].controls.filename.touched),e.xp6(3),e.Q6J("formGroup",t.otherServiceDeclarationForm),e.xp6(5),e.Q6J("value",t.declaration),e.xp6(3),e.Q6J("value",1),e.xp6(11),e.Q6J("value",0),e.xp6(7),e.Q6J("disabled",t.tnCDisabled)("checked",t.termsCheckbox),e.xp6(9),e.Q6J("disabled",!t.otherServiceDocForm.valid||!t.otherServiceDeclarationForm.valid||t.tnCDisabled||!t.termsCheckbox)}}const we=[{path:"",component:(()=>{class a{constructor(t,n,o,r,m,u,b,O,Z,E,ce,qe,Ie,Fe,Ue,De,Ne,Re,Je){this.router=t,this.utils=n,this.config=o,this.modalController=r,this.fb=m,this.otherReqSrvc=u,this.logger=b,this.translate=O,this.alertCtrl=Z,this.downloadFile=E,this.filePath=ce,this.fileChooser=qe,this.docPicker=Ie,this.device=Fe,this.file=Ue,this.actionSheetCtrl=De,this.camera=Ne,this.base64=Re,this.chooser=Je,this.requestOptions=[{name:"Change of Policy Owner/Contract Holder",value:"Change of Policy Owner/Contract Holder",num:11},{name:"Appointment/Change of Contingent Owner",value:"Appointment/Change of Contingent Owner",num:12},{name:"Change of Payment Frequency",value:"Change of Payment Frequency",num:13},{name:"Policy Loan",value:"Policy Loan",num:14},{name:"Reduce Paid-up Request",value:"Reduce Paid-up Request",num:15},{name:"Change of Benefit Payout Option",value:"Change of Benefit Payout Option",num:16},{name:"Advance Premium/Contribution Payment Facility",value:"Advance Premium/Contribution Payment Facility",num:17},{name:"Partial / Full Withdrawal of Advance Premium/Contribution Payment Facility (APPF / ACPF)",value:"Withdrawal of APPF / ACPF",num:18},{name:"Change of Plan Coverage",value:"Change of Plan Coverage",num:19},{name:"Other request",value:"Other request",num:20}],this.otherRequestTypes=[{name:"Enquiry",value:20},{name:"Missed documents",value:21}],this.notMyNumber=!1,this.selectedTab1=!1,this.selectedTab2=!1,this.uploadDocModel={attachments:[]},this.serviceReqModel={},this.docAttached=!1,this.countIndex=0,this.otherServiceRequestSelected=!1,this.showOtherReqAddMore=!1,this.mimeTypes={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",pdf:"application/pdf",zip:"application/zip"},this.tnCDisabled=!0,this.termsCheckbox=!1,this.totalSizeAllowed=15,this.currentTotalAttachedSize=0,this.openCameraGallery=function(Y,U){this.camera.getPicture({destinationType:this.camera.DestinationType.FILE_URI,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,sourceType:Y,correctOrientation:!0}).then(x=>{"ios"==this.utils.getPlatform()&&(x=window.Ionic.normalizeURL(x)),console.log("imageData",x);var F=x.split("/").pop().split("?")[0];console.log("filename",F);var J,k=x.split(".").pop().toLowerCase();console.log("fileext",k),k=k.split("?")[0],console.log("fileext-after?",k),this.checkFileExt(k,U)?2==U?(console.log("GalleryimageData",x),this.getBase64StringFromFilePath(x,F)):(console.log("CameraimageData",x),this.getBase64StringFromFilePath(x,F)):"png"==k||"jpeg"==k||"jpg"==k||"pdf"==k?(J=this.translate.instant(1==U?"claim_submission.select_only_pdf":"claim_submission.select_only_imgs"),this.utils.showAlert("",J,!1)):(J=this.translate.instant(0==U?"claim_submission.select_only_imgs":"claim_submission.select_only_pdf"),this.utils.showAlert("",J,!1))},x=>{let D;D=this.translate.instant(0==U?"claim_submission.err_cam":"claim_submission.err_pdf"),this.utils.showAlert("",D,!1)})},this.checkBase64Size=function(Y,U){this.utils.showProgressLoader();let B=U.split(".").pop().toLowerCase(),x=this.getOriginalBase64(Y);try{let D=this.getBase64SizeInMb(x);if(D<5){let F;F="pdf"==B?this.utils.sanitizeBase64string(x):x.replace(/(\r\n|\r|\n)/g,""),this.totalFileSizeCheck(D,U,F)}else this.utils.FileCompresser(Y,this.mimeTypes[B]).then(F=>{let k=this.getOriginalBase64(F),J=this.getBase64SizeInMb(k),ze=k.replace(/(\r\n|\r|\n)/g,"");this.totalFileSizeCheck(J,U,ze)},F=>{this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("generic_msgs.server_err"),!1)})}catch(D){this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("generic_msgs.server_err"),!1)}},this.config.currentPage.pageName="OtherServicesPage",this.otherServicesForm=m.group({serviceRequestType:["",[g.kI.required]],policyNo:["",[g.kI.required]]}),this.otherServiceDocForm=this.fb.group({attachments:this.fb.array([])}),this.otherRequestForm=this.fb.group({otherRequestType:[null,[g.kI.required]],serviceRequestNumber:[""],requestDescription:["",[g.kI.required]],attachments:this.fb.array([this.initialiseOtherRequestAttachmentField()])}),this.titleName=this.policyServiceSelected&&!this.TACVerified?this.requestType:"Other Service Requests",this.otherServiceDeclarationForm=m.group({declaration:[0,[g.kI.required]],termsAndConditions:[!1,[g.kI.required]]})}ngOnInit(){this.policyList=this.config.policyList,this.phoneNumber=this.config.userInfo.contactNumber,this.maskedPhoneNumber=this.config.userInfo.maskedContactNumber,this.totalSizeAllowed=P.i.SERVICE_REQUEST_UPLOAD_SIZE}back(){this.policyServiceSelected?this.pageLeaveDialog("Attention","Changes are not saved. Are you sure you do not want to proceed?"):this.router.navigate(["/service"])}ionViewDidLoad(){console.log("ionViewDidLoad OtherServicesPage"),this.navBar.backButtonClick=t=>{console.log("click-back"),this.policyServiceSelected?this.pageLeaveDialog("Attention","Changes are not saved. Are you sure you do not want to proceed?"):this.router.navigate(["/service"])}}pageLeaveDialog(t,n){var o=this;return(0,v.Z)(function*(){return new Promise(function(){var r=(0,v.Z)(function*(m){let u=[{text:"Yes",handler:()=>{o.router.navigate(["/service"])}},{text:"No",handler:()=>{}}];o.alertCtrl.create({header:t,message:n,buttons:u,backdropDismiss:!1}).then(O=>O.present())});return function(m){return r.apply(this,arguments)}}())})()}onSelectPolicy(t){console.log("selectedPolicy",t),this.selectedPolicy=t,this.selectedPolicyNumber=t.policyNumber,this.selectedEncryptedPolicy=t.encryptedPolicyNumber,this.selectEncryptedPolicyType=t.planType}downloadAlterationForm(){this.utils.openLink(" https://sunlifemalaysia.com/getmedia/25388886-ada2-4d88-b964-639971caf477/ALTERATION-REQUEST-FORM")}openServiceRequestWebPage(){this.utils.openLink("https://www.sunlifemalaysia.com/client-care/make-a-service-request/insurance/")}cancel(){this.router.navigate(["/service"])}updateNumber(){this.notMyNumber=!0}continueToUpdate(t){"Other request"!=t?this.openTandC():this.tacPopupModal()}getRequestTitle(){return"Advance Premium/Contribution Payment Facility"===this.requestType?"Conventional"===this.selectEncryptedPolicyType?"Advance Premium Payment Facility":"Advance Contribution Payment Facility":this.requestType}submitPolicy(){"Other request"!==this.requestType?(this.otherServiceRequestSelected=!1,this.utils.showProgressLoader(),this.selectedPolicyType=this.requestOptions.find(t=>t.value===this.requestType),this.otherReqSrvc.validateOtherService(this.selectedEncryptedPolicy,this.selectedPolicyType.num).then(t=>{try{if(this.utils.dissmisProgressLoader(),t.responseJSON.success){if(t.responseJSON.documentDetails){let n=t.responseJSON.documentDetails;if("Advance Premium/Contribution Payment Facility"===this.requestType){let o;o=n.filter("Conventional"===this.selectEncryptedPolicyType?r=>"Application for Advance Contribution Payment Facility Form"!=r.documentDescription:r=>"Application for Advance Premium Payment Facility Form"!=r.documentDescription),this.docList=o}else this.docList=n;this.policyServiceSelected=!0,this.titleName=this.policyServiceSelected&&!this.TACVerified?this.getRequestTitle():"Other Service Requests",this.initAttachmentFields()}}else if(this.policyServiceSelected=!1,"DuplicateRequest"===t.responseJSON.reason)this.successDialog("",t.responseJSON.message);else{let n=t.responseJSON.Message||t.responseJSON.userMessage||t.responseJSON.message||this.translate.instant("generic_msgs.server_err");this.showDialog("",n)}}catch(n){this.utils.dissmisProgressLoader(),this.logger.error("loginSuccess catch eror : "+JSON.stringify(n)),this.translate.instant("generic_msgs.server_err")}},t=>{this.utils.dissmisProgressLoader(),this.utils.handleServiceException(t)})):(this.policyServiceSelected=!0,this.titleName=this.requestType)}openTandC(){var t=this;return(0,v.Z)(function*(){const n=yield t.modalController.create({component:I.V,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{serviceSelected:t.requestType}});return n.onDidDismiss().then(o=>{console.log(o),o&&o.data.termsAndConditionsChecked&&t.tacPopupModal()}),yield n.present()})()}tacPopupModal(){var t=this;return(0,v.Z)(function*(){const n=yield t.modalController.create({component:S.O,cssClass:"custom-modal",backdropDismiss:!1});return n.onDidDismiss().then(o=>{console.log(o),o&&o.data.TACVarified&&("Other request"!=t.requestType?(t.showTACDisclaimerPage=!1,t.TACVerified=!0,t.TandCVerified=!0,t.selectedTab1=!0):(t.TACVerified=!0,t.TandCVerified=!0,t.otherServiceRequestSelected=!0))}),yield n.present()})()}openGuide(){var t=this;return(0,v.Z)(function*(){const n=yield t.modalController.create({component:L.T,backdropDismiss:!1,cssClass:"sign-guide"});return n.onDidDismiss().then(o=>{console.log(o)}),yield n.present()})()}tabSwitch(t){"tab1"==t?(this.selectedTab1=!0,this.selectedTab2=!1):"tab2"==t&&(this.selectedTab1=!1,this.selectedTab2=!0)}showDialog(t,n){this.alertCtrl.create({header:t,message:n,buttons:[{text:"ok",handler:()=>{}}],backdropDismiss:!1}).then(m=>m.present())}successDialog(t,n){var o=this;return(0,v.Z)(function*(){const r=yield o.modalController.create({component:T.Z,cssClass:"success-msg",backdropDismiss:!1,componentProps:{redirectionMsg:n,title:t}});return r.onDidDismiss().then(m=>{console.log(m),"servicePage"==m.data.pageName?o.router.navigate(["/service"]):"serviceHistoryPage"==m.data.pageName&&o.router.navigate(["/service-history"])}),yield r.present()})()}openDoc(t){this.utils.openLink(t)}switchToAttachDocuments(){this.selectedTab1=!1,this.selectedTab2=!0}initialiseOtherRequestAttachmentField(){return this.fb.group({filename:[""],fileval:[]})}initAttachmentFields(){this.docList.forEach(t=>{this.otherServiceDocForm.controls.attachments.controls.push(this.fb.group("Yes"===t.mandatory?{filename:[t.formName,g.kI.required],fileval:["",g.kI.required]}:{filename:[t.formName],fileval:[]}))})}chooseCameraOptions(t,n,o){var r=this.translate.instant("claim_submission.select_any_file"),m=this.translate.instant("claim_submission.open_camera"),u=this.translate.instant("claim_submission.open_gallery"),b=this.translate.instant("claim_submission.select_pdf"),O=this.translate.instant("claim_submission.cancel");let Z;this.fileIndex=t,this.selectedFormName=n,Z="ios"==this.utils.getPlatform()?"upload Additional Documents"===o.value.filename||"otherRequestForm"==n||"Upload supporting files"===o.value.filename||"Upload Health Declaration Form"===o.value.filename||"Upload NRIC/Passport"===o.value.filename||"Upload FATCA & OECD CRS form"===o.value.filename||"Upload Proof of payment (eg. bank slip)"===o.value.filename||"Upload Bank Statement/passbook"===o.value.filename||"Upload Sales/Product Illustration"===o.value.filename?[{text:m,handler:()=>{this.openCamera_ios(this.camera.PictureSourceType.CAMERA,0,1)}},{text:u,handler:()=>{this.openCamera_ios(this.camera.PictureSourceType.PHOTOLIBRARY,2,2)}},{text:b,handler:()=>{this.openCameraGallery_ios()}},{text:O,role:"cancel",handler:()=>{this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.markAsTouched()}}]:[{text:b,handler:()=>{this.openCameraGallery_ios()}},{text:O,role:"cancel",handler:()=>{this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.markAsTouched()}}]:"upload Additional Documents"===o.value.filename||"otherRequestForm"==n||"Upload supporting files"===o.value.filename||"Upload Health Declaration Form"===o.value.filename||"Upload NRIC/Passport"===o.value.filename||"Upload FATCA & OECD CRS form"===o.value.filename||"Upload Proof of payment (eg. bank slip)"===o.value.filename||"Upload Bank Statement/passbook"===o.value.filename||"Upload Sales/Product Illustration"===o.value.filename?[{text:m,handler:()=>{this.openCameraGallery(this.camera.PictureSourceType.CAMERA,0)}},{text:u,handler:()=>{this.openCameraGallery(this.camera.PictureSourceType.PHOTOLIBRARY,2)}},{text:b,handler:()=>{this.openFilechooser(1)}},{text:O,role:"cancel",handler:()=>{this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.markAsTouched()}}]:[{text:b,handler:()=>{this.openFilechooser(1)}},{text:O,role:"cancel",handler:()=>{this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.markAsTouched()}}],this.actionSheetCtrl.create({header:r,buttons:Z}).then(ce=>ce.present())}openCamera_ios(t,n,o){this.camera.getPicture({destinationType:this.camera.DestinationType.DATA_URL,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,sourceType:t,correctOrientation:!0}).then(m=>{if(1==o)var u="sunaccesDatajpg001.jpg",b="jpg";else 2==o?(u="sunaccesDatajpeg002.jpeg",b="jpeg"):(u="sunaccesDatapdf003.pdf",b="pdf");var O;this.checkFileExt(b,n)?1==o?(console.log("CameraimageData",m),this.addAttachment(u,m)):2==o?(console.log("GalleryimageData",m),this.addAttachment(u,m)):(console.log("Pdf",m),this.addAttachment(u,m)):"png"==b||"jpeg"==b||"jpg"==b||"pdf"==b?(O=this.translate.instant(1==n?"claim_submission.select_only_pdf":"claim_submission.select_only_imgs"),this.utils.showAlert("",O,!1)):(O=this.translate.instant(0==n?"claim_submission.select_only_imgs":"claim_submission.select_only_pdf"),this.utils.showAlert("",O,!1))},m=>{let u;u=this.translate.instant(0==n?"claim_submission.err_cam":"claim_submission.err_pdf"),this.utils.showAlert("",u,!1)})}checkFileExt(t,n){return 0==n||2==n?"png"==t||"jpeg"==t||"jpg"==t:"pdf"==t}openCameraGallery_ios(){this.docPicker.getFile("all").then(t=>{"ios"==this.utils.getPlatform()&&(t=window.Ionic.WebView.convertFileSrc(t));var n=t.split("/").pop();if("pdf"==t.split(".").pop().toLowerCase())this.getBase64StringFromFilePath(t,n,"pdf");else{var r=this.translate.instant("claim_submission.select_only_pdf");this.utils.showAlert("",r,!1)}}).catch(t=>{let n=this.translate.instant("claim_submission.err_pdf");this.utils.showAlert("",n,!1)})}openFilechooser(t){var n=this;1==t?this.chooser.getFile().then(function(){var o=(0,v.Z)(function*(r){if("pdf"==r.name.split(".").pop().toLowerCase())for(var u in n[n.selectedFormName].controls.attachments.getRawValue()){if(n[n.selectedFormName].controls.attachments.controls[u].controls.filename.value==r.name){n.utils.presentToast(n.translate.instant("claim_submission.err_duplicateFile")),n[n.selectedFormName].controls.attachments.controls[n.fileIndex].controls.filename.markAsTouched();break}if(u==n.fileIndex){let Z=yield n.utils.flattenPDF(r,0);n.checkBase64Size(Z,r.name)}}else{var b=n.translate.instant("claim_submission.select_only_pdf");n.utils.showAlert("",b,!1)}console.log(r?r.name:"canceled")});return function(r){return o.apply(this,arguments)}}()).catch(o=>{let r=this.translate.instant("claim_submission.err_pdf");this.utils.showAlert("",r,!1)}):this.fileChooser.open().then(o=>{this.file.resolveLocalFilesystemUrl(o).then(r=>{this.filePath.resolveNativePath(r.nativeURL).then(u=>{-1===u.indexOf("file://")&&(u="file://"+u);var b=(u=u.split("?")[0]).split("/").pop(),O=u.split(".").pop().toLowerCase();if("png"==O||"jpeg"==O||"jpg"==O)for(var Z in this[this.selectedFormName].controls.attachments.getRawValue()){if(this[this.selectedFormName].controls.attachments.controls[Z].controls.filename.value==b){this.utils.presentToast(this.translate.instant("claim_submission.err_duplicateFile")),this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.markAsTouched();break}Z==this.fileIndex&&this.getBase64StringFromFilePath(u,b,"")}else{let E=this.translate.instant("claim_submission.select_only_imgs");this.utils.showAlert("",E,!1)}},u=>{let b=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",b,!1)})},r=>{var m=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",m,!1)})},o=>{var r=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",r,!1)})}totalFileSizeCheck(t,n,o){this.currentTotalAttachedSize+t<P.i.SERVICE_REQUEST_UPLOAD_SIZE?(this.currentTotalAttachedSize+=t,this.addAttachment(n,o)):(this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("claim_submission.other_service_file_limit"),!1))}getBase64SizeInMb(t){let n=(t.match(/(=*)$/)||[])[1].length;return(t.length*(3/4)-n)/1e6}getOriginalBase64(t){let n=t.split(",");return n=n.length>0?n[1]:n[0],n}getBase64StringFromFilePath(t,n,o){var r=this;return(0,v.Z)(function*(){"pdf"===o?r.utils.getBase64FromUrl(t).then(function(){var m=(0,v.Z)(function*(u){let b=u,O=yield r.utils.flattenPDF(b,1);r.checkBase64Size(O,n)});return function(u){return m.apply(this,arguments)}}()):r.base64.encodeFile(t).then(function(){var m=(0,v.Z)(function*(u){r.checkBase64Size(u,n)});return function(u){return m.apply(this,arguments)}}(),m=>{r.utils.dissmisProgressLoader();var u=r.translate.instant("claim_submission.err_bas64");r.utils.showAlert("",u)})})()}addAttachment(t,n){let o=this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.value;var r={};"ios"==this.utils.getPlatform()&&(t=t.split(".").pop().toLowerCase(),t=(new Date).getTime()+"."+t),r.Name=t,r.Base64String=n,this.uploadDocModel.attachments[this.fileIndex]?this.uploadDocModel.attachments.splice(this.fileIndex,1,r):this.uploadDocModel.attachments.push(r),this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.filename.setValue(t),this[this.selectedFormName].controls.attachments.controls[this.fileIndex].controls.fileval.setValue(t),this.docAttached=!0,(o.includes("Upload supporting files")||o.includes("Upload Bank Statement")||o.includes("Uplpad Sales Illustration")||o.includes("Upload Sales/Product Illustration")||o.includes("other"))&&0===this.countIndex&&(this.showAddMore=!0,this.countIndex++),"otherRequestForm"===this.selectedFormName&&0===this.countIndex&&(this.showOtherReqAddMore=!0,this.countIndex=1),this.utils.dissmisProgressLoader(),this.otherServiceDocForm.controls.attachments.updateValueAndValidity()}addMoreRow(t){"otherServiceDocForm"===t&&(this.countIndex<3&&this.showAddMore&&(this.countIndex++,this.otherServiceDocForm.controls.attachments.controls.push(this.fb.group({filename:["upload Additional Documents"],fileval:[]}))),3===this.countIndex&&(this.showAddMore=!1)),"otherRequestForm"===t&&(this.countIndex<3&&this.showOtherReqAddMore&&(this.countIndex++,this.otherRequestForm.controls.attachments.controls.push(this.fb.group({filename:[""],fileval:[]}))),3===this.countIndex&&(this.showOtherReqAddMore=!1))}removeAttachmentField(t,n){t<this.docList.length?(this.otherServiceDocForm.controls.attachments.controls[t].controls.filename.setValue(this.docList[t].formName),this.otherServiceDocForm.controls.attachments.controls[t].controls.fileval.setValue("")):(this.otherServiceDocForm.get("attachments").removeAt(t),this.showAddMore=!0,this.countIndex--),this.uploadDocModel.attachments.length>0&&t>-1&&(this.currentTotalAttachedSize=this.currentTotalAttachedSize-this.getBase64SizeInMb(this.uploadDocModel.attachments[t].Base64String),this.uploadDocModel.attachments.splice(t,1)),this.docAttached=!1,this.otherServiceDocForm.controls.attachments.updateValueAndValidity()}removeOtherRequestAttachmentField(t,n){this[n].controls.attachments.length-1==0?(this[n].controls.attachments.controls[t].controls.filename.setValue(""),this[this.selectedFormName].controls.attachments.controls[t].controls.filename.markAsTouched()):this[n].controls.attachments.removeAt(t),this.uploadDocModel.attachments.length>0&&t>-1&&(this.currentTotalAttachedSize=this.currentTotalAttachedSize-this.getBase64SizeInMb(this.uploadDocModel.attachments[t].Base64String),this.uploadDocModel.attachments.splice(t,1)),this.showOtherReqAddMore&&1===this.countIndex?(this.showOtherReqAddMore=!1,this.countIndex--):this.countIndex>1&&(this.showOtherReqAddMore=!0,this.countIndex--),this.docAttached=!1}isAllowedToSubmitOtherForm(){return this.otherRequestForm.valid&&(20===this.otherRequestForm.controls.otherRequestType.value||this.uploadDocModel.attachments.length>0)}submitForm(){if(console.log(this.otherServiceDocForm),this.utils.isDeviceOnLine())console.log("requestType",this.requestType),"Other request"!==this.requestType?(this.uploadDocModel.serviceType=this.selectedPolicyType.num.toString(),this.uploadDocModel.Declaration=this.otherServiceDeclarationForm.controls.declaration.value,this.uploadDocModel.TermsAndConditions=this.otherServiceDeclarationForm.controls.termsAndConditions.value):(this.uploadDocModel.serviceType=this.otherRequestForm.controls.otherRequestType.value.toString(),this.uploadDocModel.typeOfOther=20===this.otherRequestForm.controls.otherRequestType.value?"Enquiry":"Missed Documents",this.uploadDocModel.requestReferenceNo=this.otherRequestForm.controls.serviceRequestNumber.value,this.uploadDocModel.requestDescription=this.otherRequestForm.controls.requestDescription.value,this.uploadDocModel.Declaration=this.otherServiceDeclarationForm.controls.declaration.value,this.uploadDocModel.TermsAndConditions=this.otherServiceDeclarationForm.controls.termsAndConditions.value),this.uploadDocModel.policyNumber=this.selectedPolicyNumber,this.utils.showProgressLoader(),this.otherReqSrvc.submitDocuments(this.uploadDocModel).then(n=>{try{let r;this.config.clear(),this.utils.dissmisProgressLoader(),!n.responseJSON||n.responseJSON.statusCode!=R.OK&&n.responseJSON.statusCode!=R.yI?(r=n.responseJSON.userMessage||this.translate.instant("generic_msgs.server_err"),this.showDialog("",r)):(r=n.responseJSON.userMessage,this.successDialog("",r))}catch(r){this.utils.dissmisProgressLoader();var o=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",o)}},n=>{this.config.clear(),this.utils.dissmisProgressLoader();let o=this.utils.handleServiceException(n);this.utils.showAlert("",o)});else{var t=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",t)}}checkboxChange(t){this.tnCDisabled||(t.detail.checked?(this.termsCheckbox=!0,this.otherServiceDeclarationForm.controls.termsAndConditions.enable()):this.termsCheckbox=!1)}ngAfterViewInit(){this.otherServiceDeclarationForm.controls.termsAndConditions.disable()}openDeclaration(){var t=this;return(0,v.Z)(function*(){t.tnCDisabled=!1,t.otherServiceDeclarationForm.controls.termsAndConditions.enable();const n=yield t.modalController.create({component:q.$,cssClass:"custom-modal",componentProps:{pageName:"fund-switching"}});return n.onDidDismiss().then(o=>{console.log(o)}),yield n.present()})()}openBrowserSite(){this.utils.launchExternalApp("","","",this.config.contact_us.sunlife_fatca)}downloadForm(t){this.utils.openLink(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(w.F0),e.Y36(G.f),e.Y36(P.i),e.Y36(f.IN),e.Y36(g.qu),e.Y36(K.y),e.Y36(H.U),e.Y36(A.sK),e.Y36(f.Br),e.Y36(d.w),e.Y36(y.y),e.Y36(V.M),e.Y36(j.g),e.Y36(W.A),e.Y36($.$),e.Y36(f.BX),e.Y36(X.V1),e.Y36(ee.D),e.Y36(te.I))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-other-services"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ne,5),e.Gf(C,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.navBar=o.first),e.iGM(o=e.CRH())&&(n.content=o.first)}},decls:14,vars:7,consts:[["mode","ios"],["color","primary"],["slot","start"],["name","chevron-back-outline",2,"padding-left","15px","font-size","1.5rem",3,"click"],[2,"text-align","center","width","86%"],[1,"bold-font"],["padding","","no-bounce","",1,"app_bg2","text_color_base"],["class","white_container_border_radius  padding_15","style","margin: 15px;",4,"ngIf"],["class","white_container_border_radius padding_15","style","margin: 15px;",4,"ngIf"],["class","other-service-tabs padding_15",4,"ngIf"],["class","update-details-form white_container_border_radius",4,"ngIf"],["class","white_container_border_radius padding_15 withdrawal-particulars",4,"ngIf"],[1,"white_container_border_radius","padding_15",2,"margin","15px"],[3,"formGroup"],[1,"select-request"],[1,"heading",2,"font-size","1.05rem !important","margin-bottom","10px"],[1,"mandatory_star"],["appearance","outline","formControlName","serviceRequestType","placeholder","Select request type","interface","popover","mode","ios",1,"border",2,"--placeholder-opacity","1","font-size","1.0rem !important",3,"searchable","clearable","ngModel","interfaceOptions","ngModelChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],["id","selectpolicySection",1,"radio-container"],[1,"heading"],["class","select-plan",4,"ngIf"],["text-center","","align-items-center",""],[1,"btn_center",3,"disabled","click"],[3,"value"],[1,"select-plan"],["size","7"],[1,"lbl","heading"],["size","5"],["formControlName","policyNo",1,"radio-group",3,"ionChange"],[4,"ngFor","ngForOf"],["item-left","","mode","md",1,"radio-size-margin",3,"value"],[1,"heading","font-size-label",2,"margin-top","17px","margin-bottom","10px"],["appearance","outline","interface","popover","mode","ios","formControlName","otherRequestType","placeholder","Select request type",1,"border",2,"--placeholder-opacity","1","font-size","1.0rem !important",3,"searchable","clearable","interfaceOptions"],["style","padding-top:14px",4,"ngIf"],[4,"ngIf"],[1,"heading",2,"font-size","0.9rem","margin-top","30px"],[1,"pr-0"],["formControlName","requestDescription","placeholder","Describe about the request","type","text","restrict-input","","restrictInput","alphanumericwithspace","amaxlength","499"],["formArrayName","attachments","id","AttachemnetDiv","margin-bottom","",2,"width","100%"],[1,"heading",2,"font-size","0.9rem","margin-top","5px","margin-bottom","18px"],["class","mandatory_star",4,"ngIf"],["margin-bottom","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"declaration"],[1,"fatca-crs-container"],[2,"font-size","1.13rem !important","color","#002d3d"],["formControlName","declaration",3,"value"],["size","2"],["item-left","","mode","md",1,"radio-size",3,"value"],["size","9"],[2,"font-size","1.12rem"],[3,"click"],[1,"hr"],["mode","md","formControlName","termsAndConditions",2,"--size","26px","--checkmark-width","2",3,"disabled","checked","ionChange"],["size","10"],[1,"btn_center",2,"width","100%",3,"disabled","click"],[2,"padding-top","14px"],[2,"margin-top","0","font-size","0.9rem"],[1,"heading","font-size-label",2,"margin-top","30px","font-size","0.9rem"],[1,"border",2,"margin-top","0px"],["formControlName","serviceRequestNumber","placeholder","Please mention SR number if any","type","text","restrict-input","","restrictInput","alphanumeric","amaxlength","30",2,"font-family","Agenda-Regular","font-size","1.0rem !important","padding-top","10px !important","padding-left","23px !important"],["margin-bottom","",3,"formGroupName"],[1,"row_file"],["size","9",1,"upload-doc","border"],["placeholder","Upload supporting files","formControlName","filename","type","text",1,"placeHolder-set1",2,"font-size","0.9rem !important","margin-top","8px !important",3,"disabled","click"],["size","3"],["item-end","","name","attach",1,"attach-icon-file",3,"click"],["item-end","","name","close",1,"attach-icon-file",3,"click"],["tyle","width: 100%;",1,"btn_center","add-row-btn",3,"click"],["class","item-backg",4,"ngIf"],["href","tel:1300-88-5055"],["href","tel:1300-88-5055","target","_blank"],[1,"item-backg"],["lines","none",2,"--background","none"],["slot","start",1,"profile-pic-container"],["id","avtar-icon",1,"fas","fa-download"],[2,"background","none"],[1,"font-label1"],[2,"color","#6095c9"],[1,"font-label"],["id","avtar-icon",1,"fas","fa-print"],["id","avtar-icon",1,"fas","fa-envelope-open"],["href","mailto:policy.admin@sunlifemalaysia.com"],[1,"btn_center1",3,"click"],[1,"btn_center",3,"click"],[1,"other-service-tabs","padding_15"],[1,"tab-container"],[1,"tab1",3,"ngClass","click"],[1,"tab2",3,"ngClass","click"],[1,"update-details-form","white_container_border_radius"],[2,"margin-top","2px"],["lines","none",2,"--background","none","margin-top","7px"],[1,"font-label1",2,"font-weight","bold"],["id","avtar-icon",1,"fas","fa-file-signature"],[1,"ion-text-center"],[1,"inline",3,"innerHTML"],[1,"white_container_border_radius","padding_15","withdrawal-particulars"],[2,"margin-top","-2px"],["formArrayName","attachments","margin-bottom","",4,"ngFor","ngForOf"],[2,"font-size","0.9rem"],["class","add-row",4,"ngIf"],["class","errPosition","id","AddMorebtn",4,"ngIf"],[1,"submit-btn"],["formArrayName","attachments","margin-bottom",""],[3,"formGroupName"],["class","star-col","size","1",4,"ngIf"],["size","8",1,"upload-doc","border-ref"],["formControlName","filename","readonly","true","type","text",1,"fileInput","placeHolder-set"],["formControlName","fileval","readonly","true","type","text",1,"fileval","placeHolder-set"],["item-end","","name","attach","class","attach-icon",3,"click",4,"ngIf"],["item-end","","name","close","class","attach-icon",3,"click",4,"ngIf"],["size","1",1,"star-col"],["item-end","","name","attach",1,"attach-icon",3,"click"],["item-end","","name","close",1,"attach-icon",3,"click"],[1,"add-row"],[1,"btn_center","add-row-btn",3,"click"],["id","AddMorebtn",1,"errPosition"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-icon",3),e.NdJ("click",function(){return n.back()}),e.qZA()(),e.TgZ(4,"div",4)(5,"p",5),e._uU(6),e.qZA()()()(),e.TgZ(7,"ion-content",6),e.YNc(8,M,20,9,"section",7),e.YNc(9,le,65,18,"section",8),e.YNc(10,fe,9,6,"section",8),e.YNc(11,_e,6,2,"section",9),e.YNc(12,Pe,41,1,"section",10),e.YNc(13,Ae,48,11,"section",11),e.qZA()),2&t&&(e.xp6(6),e.Oqu(n.titleName),e.xp6(2),e.Q6J("ngIf",!n.policyServiceSelected),e.xp6(1),e.Q6J("ngIf",n.policyServiceSelected&&n.TACVerified&&n.otherServiceRequestSelected),e.xp6(1),e.Q6J("ngIf",n.policyServiceSelected&&!n.TACVerified&&!n.otherServiceRequestSelected),e.xp6(1),e.Q6J("ngIf",n.TACVerified&&n.TandCVerified&&!n.otherServiceRequestSelected),e.xp6(1),e.Q6J("ngIf",n.selectedTab1),e.xp6(1),e.Q6J("ngIf",n.selectedTab2))},dependencies:[i.mk,i.sg,i.O5,g._Y,g.Fj,g.JJ,g.JL,f.BJ,f.YG,f.Sm,f.nz,f.wI,f.W2,f.Gu,f.gu,f.pK,f.Ie,f.Q$,f.q_,f.B7,f.se,f.Nd,f.t9,f.n0,f.sr,f.w,f.U5,f.QI,f.j9,g.sg,g.u,g.x0,g.CE,A.X$],styles:[".radio-container[_ngcontent-%COMP%]   .select-label[_ngcontent-%COMP%]{padding:13px 8px 13px 0!important}.select-request[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:16px}ng-select[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{white-space:unset!important}h3[_ngcontent-%COMP%]{white-space:normal}.update-details-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{background:var(--ion-color-secondary)!important;color:#fff;padding:8px}.update-details-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;color:#000;font-size:1rem;padding-left:16px}.update-details-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:first-child{margin-top:0}.update-details-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;padding-left:4px}.update-details-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.inline[_ngcontent-%COMP%]{display:inline}.update-details-form[_ngcontent-%COMP%]   .item-md[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.tab1[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab5[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab4[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab3[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab2[_ngcontent-%COMP%], .tab2[_ngcontent-%COMP%]{width:50%!important}.row_file[_ngcontent-%COMP%]   .star-col[_ngcontent-%COMP%]{position:absolute;margin:10px 4px;z-index:1}.upload-doc[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin-bottom:8px!important;padding-right:8px;position:relative}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:.9rem!important;display:inline-flex}.upload-doc[_ngcontent-%COMP%]   ion-input[disabled][_ngcontent-%COMP%]{opacity:.6}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{margin-left:0}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   .text-input[disabled][_ngcontent-%COMP%]{opacity:1}.upload-doc[_ngcontent-%COMP%]   .fileval[_ngcontent-%COMP%]{display:none}.upload-doc[_ngcontent-%COMP%]   .mandatory-icon[_ngcontent-%COMP%]{position:absolute;font-size:5px;right:18px;top:22px}.upload-doc[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:inline-flex;height:100%;justify-content:center;position:absolute;right:10px;width:24px;z-index:9}ion-icon[_ngcontent-%COMP%]{display:inline-block;font-size:2rem;padding:12px 9px}.attach-icon[_ngcontent-%COMP%]{display:inline-block;font-size:1.5rem;padding:10px 9px 20px;margin-bottom:5px}.attach-icon-file[_ngcontent-%COMP%]{display:inline-block;font-size:1.5rem;padding:10px 3px 20px;margin-bottom:5px}.sign-guide[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{max-height:320px!important}ion-textarea[_ngcontent-%COMP%]{background:#fff;border:1px solid #c3c1c1;display:inline-flex;padding-left:15px;padding-right:15px}ion-textarea[disabled][_ngcontent-%COMP%]{opacity:.6}.pr-0[_ngcontent-%COMP%]{padding-right:0}u[_ngcontent-%COMP%]{color:#337ab7}.font-size[_ngcontent-%COMP%]{font-size:18px}.declaration[_ngcontent-%COMP%]{background:#002d3d;color:#fff;height:40px;align-items:center;display:flex;padding:8px}.font-size-label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:1rem}h2[_ngcontent-%COMP%]{margin-top:0!important}.heading[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold)}.radio-container[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:16px;margin-top:25px}.radio-container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal;font-size:1rem!important}.radio-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:700}.radio-container[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%], .radio-container[_ngcontent-%COMP%]   .label-ios[_ngcontent-%COMP%]{margin:0!important}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;padding-right:0}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin-right:16px!important}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{height:27px;width:27px}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%]{height:13px;left:5px;top:5px;width:13px}.radio-container[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{align-items:center}.radio-container[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{align-items:center;align-self:stretch;display:inline-flex}.radio-container[_ngcontent-%COMP%]   .select-plan[_ngcontent-%COMP%]{margin-top:8px}.select[_ngcontent-%COMP%]{margin-left:0}.tab-container[_ngcontent-%COMP%]{border-bottom:5px solid #febe10;display:flex}.tab-container[_ngcontent-%COMP%]   .tab1[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab5[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab4[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab3[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab2[_ngcontent-%COMP%]{align-items:center;background:#002d3d;border-right:1px solid white;color:#fff;display:inline-flex;font-family:var(--ion-font-agenda-semibold);font-size:1rem;justify-content:center;padding:8px;text-align:center;width:33.2%}.tab-container[_ngcontent-%COMP%]   .tab1.tab-selected[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab-selected.tab5[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab-selected.tab4[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab-selected.tab3[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   .tab-selected.tab2[_ngcontent-%COMP%]{background:#febe10;color:#002d3d}.tab-container[_ngcontent-%COMP%]   .tab1[_ngcontent-%COMP%]:last-child, .tab-container[_ngcontent-%COMP%]   .tab5[_ngcontent-%COMP%]:last-child, .tab-container[_ngcontent-%COMP%]   .tab4[_ngcontent-%COMP%]:last-child, .tab-container[_ngcontent-%COMP%]   .tab3[_ngcontent-%COMP%]:last-child, .tab-container[_ngcontent-%COMP%]   .tab2[_ngcontent-%COMP%]:last-child{border-right:0}textarea[_ngcontent-%COMP%]{border:1px solid #baafaf;padding:15px;min-height:90px;height:90px;resize:none;width:96%}ion-item[_ngcontent-%COMP%]{background:transparent!important;padding:0!important}ion-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0!important}ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{align-items:center;background:var(--ion-color-secondary);border-radius:50%;display:flex;justify-content:center}ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.update-payout-details[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:8px!important;margin-right:0}.update-payout-details[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background:#fff;border:1px solid #dedede!important;padding:0 15px}.update-payout-details[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border:1px solid #dedede!important;padding:0 15px}.update-payout-details[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-top:16px}.error-dialog[_ngcontent-%COMP%]{background:#f8e8ec;border:1px solid #b81f41;border-left-width:4px;border-radius:4px;margin-bottom:24px;padding:15px;position:relative}.error-dialog[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#b81f41;position:absolute;left:13px;top:15px}.error-dialog[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:#000;padding:0 30px 0 20px}.error-dialog[_ngcontent-%COMP%]   .dismiss-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;position:absolute;right:24px;top:15px}.withdrawal-particulars[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--ion-color-secondary)!important;font-size:1.2rem!important;font-family:var(--ion-font-agenda-semibold);white-space:normal}.withdrawal-particulars[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]{font-size:1rem!important;margin-top:8px}.withdrawal-particulars[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{margin-top:8px}.withdrawal-particulars[_ngcontent-%COMP%]   .ilp[_ngcontent-%COMP%]   .add-row[_ngcontent-%COMP%]{margin-top:8px;text-align:right}.withdrawal-particulars[_ngcontent-%COMP%]   .ilp[_ngcontent-%COMP%]   .add-row[_ngcontent-%COMP%]   .add-row-btn[_ngcontent-%COMP%]{max-width:100px}table[_ngcontent-%COMP%]{background:#fff;margin-top:8px;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--ion-color-secondary)!important;color:#fff}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #d7d7d7;font-size:1rem;padding:12px;text-align:center;word-break:break-word;width:25%}table.allocation-table[_ngcontent-%COMP%]{display:flex;flex-direction:column}table.allocation-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex}table.allocation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50%}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount-container[_ngcontent-%COMP%], table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .allocation-container[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .allocation-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-secondary);display:inline-block;width:auto}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .amount-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .allocation-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:24px}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{border-color:var(--ion-color-primary)!important}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{padding:8px 10px;text-align:left}table.allocation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-option-label[_ngcontent-%COMP%]{white-space:normal}.review-confirm[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{background:var(--ion-color-secondary);color:#fff;margin-bottom:0;padding:8px}.review-confirm[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]{padding-left:8px;color:#002d3d}.review-confirm[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--ion-color-secondary)!important;font-size:1.8rem!important;font-family:var(--ion-font-agenda-semibold);white-space:normal}.review-confirm[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]{font-size:1rem!important;margin-top:8px}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.13rem!important;color:#002d3d}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-family:Agenda-Regular!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label-md[_ngcontent-%COMP%], .review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label-ios[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .label-ios[_ngcontent-%COMP%]{margin:0 8px 13px 0!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-right:16px!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{border-width:1px!important;height:27px!important;width:27px!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-icon.checkbox-checked[_ngcontent-%COMP%]   .checkbox-inner[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-icon.checkbox-checked[_ngcontent-%COMP%]   .checkbox-inner[_ngcontent-%COMP%]{height:13px!important;left:9px!important;top:4px!important;width:8px!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-checked[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   .checkbox-checked[_ngcontent-%COMP%]{border-color:var(--ion-color-secondary)!important;background-color:#fff!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{margin-right:16px!important}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{height:27px;width:27px}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%]{height:13px;left:5px;top:5px;width:13px}.review-confirm[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .payment-details[_ngcontent-%COMP%]   .fatca-crs-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{height:2px;margin-bottom:24px}.item-input-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-input-disabled[_ngcontent-%COMP%]   .select-disabled[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   .select-disabled[_ngcontent-%COMP%]{color:#999!important;opacity:1!important}.item-input-disabled[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .item-input-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border:1px solid #c3c1c1!important;padding:0 15px}.item-input-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--background: transparent url(/../assets/imgs/arrow-down.png) no-repeat 95% center !important;height:37px!important}.item-input-disabled[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:.9rem!important;opacity:.8!important;font-family:Agenda-Light}.item-input-disabled[_ngcontent-%COMP%]   select-text[_ngcontent-%COMP%], .item-input-disabled[_ngcontent-%COMP%]   select-icon[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   select-text[_ngcontent-%COMP%], .item-select-disabled[_ngcontent-%COMP%]   select-icon[_ngcontent-%COMP%]{opacity:1}.submit-btn[_ngcontent-%COMP%]{margin-top:16px}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important;margin:0 15px 15px;padding:15px}.btn_center2[_ngcontent-%COMP%]{text-transform:capitalize;background:#002d3d!important;color:#fff;margin-top:10px;border-radius:10px!important;min-width:125px;min-height:40px;font-size:1.05rem;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:10px}.btn_center3[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:10px;border-radius:10px!important;min-width:125px;min-height:40px;font-size:1.05rem;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:10px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:100px;min-height:40px;font-size:1.05rem;width:100%!important;font-family:Agenda-Regular!important}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;font-size:1.05rem;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:-5px}.item-backg[_ngcontent-%COMP%]{background:none!important}.profile-pic-container[_ngcontent-%COMP%]{position:relative;height:40px;width:40px;background-color:var(--ion-color-secondary)!important;display:block}.font-label1[_ngcontent-%COMP%]{font-size:1rem!important}.font-label[_ngcontent-%COMP%]{font-size:.9rem!important}.select-border-allocation[_ngcontent-%COMP%]{border:1px solid var(--ion-color-primary);margin-bottom:2px;margin-top:2px;background:white;width:100%}ion-label[_ngcontent-%COMP%]{font-family:Agenda-Regular!important;font-weight:400;color:#002d3d}.radio-size-margin[_ngcontent-%COMP%]{margin-right:13px;height:25px;width:25px}.border-ref[_ngcontent-%COMP%]{border:1px solid #cfc2c2;margin-bottom:2px;background:white;height:45px;max-width:65px}.border-ref[_ngcontent-%COMP%]{border:1px solid #cfc2c2;margin-bottom:2px;background:white;height:45px}.placeHolder-set[_ngcontent-%COMP%]{font-family:Agenda-Regular;margin-top:13px!important;margin-left:7px!important;font-size:1rem!important}.placeHolder-set1[_ngcontent-%COMP%]{font-family:Agenda-Regular;margin-left:7px!important;font-size:1rem!important}.bold-font[_ngcontent-%COMP%]{font-family:Agenda-SemiBold!important;text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important;display:contents}.hr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:25px 0 20px;width:100%}.sc-ion-input-ios-h[_ngcontent-%COMP%]{--padding-top: 10px;--padding-end: 10px;--padding-bottom: 20px;--padding-start: 10px;font-size:inherit;align-items:center;vertical-align:bottom}"]}),a})()}];let Se=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[w.Bz.forChild(we),w.Bz]}),a})();var Ze=l(17343);let ke=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[i.ez,g.u5,f.Pc,Se,g.UX,A.aw,Ze.K]}),a})()},41729:(Q,N,l)=>{l.d(N,{O:()=>ne});var i=l(22727),g=l(50727);class f extends g.w0{constructor(p,c){super()}schedule(p,c=0){return this}}const w={setInterval(C,p,...c){const{delegate:s}=w;return null!=s&&s.setInterval?s.setInterval(C,p,...c):setInterval(C,p,...c)},clearInterval(C){const{delegate:p}=w;return((null==p?void 0:p.clearInterval)||clearInterval)(C)},delegate:void 0};var v=l(38737),S=l(26063);class P{constructor(p,c=P.now){this.schedulerActionCtor=p,this.now=c}schedule(p,c=0,s){return new this.schedulerActionCtor(this,p).schedule(s,c)}}P.now=S.l.now;const I=new class q extends P{constructor(p,c=P.now){super(p,c),this.actions=[],this._active=!1}flush(p){const{actions:c}=this;if(this._active)return void c.push(p);let s;this._active=!0;do{if(s=p.execute(p.state,p.delay))break}while(p=c.shift());if(this._active=!1,s){for(;p=c.shift();)p.unsubscribe();throw s}}}(class R extends f{constructor(p,c){super(p,c),this.scheduler=p,this.work=c,this.pending=!1}schedule(p,c=0){var s;if(this.closed)return this;this.state=p;const _=this.id,M=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(M,_,c)),this.pending=!0,this.delay=c,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(M,this.id,c),this}requestAsyncId(p,c,s=0){return w.setInterval(p.flush.bind(p,this),s)}recycleAsyncId(p,c,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return c;null!=c&&w.clearInterval(c)}execute(p,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(p,c);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,c){let _,s=!1;try{this.work(p)}catch(M){s=!0,_=M||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:p,scheduler:c}=this,{actions:s}=c;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(s,this),null!=p&&(this.id=this.recycleAsyncId(c,p,null)),this.delay=null,super.unsubscribe()}}}),T=I;var L=l(69751),e=l(93532);var A=l(24006),d=l(98274),y=l(48058),V=l(53025),j=l(91903),W=l(54463),$=l(43485),X=l(26475),ee=l(36895);function te(C,p){if(1&C&&(d.TgZ(0,"div",14),d._uU(1),d.qZA()),2&C){const c=d.oxw();d.xp6(1),d.hij("",3-c.sendOtpCount," Attempt Left")}}let ne=(()=>{class C{constructor(c,s,_,M,z,oe,ie,ae,re,se){this.modalCtrl=c,this.utils=s,this.actionSheetCtrl=_,this.base64=M,this.alertCtrl=z,this.translate=oe,this.config=ie,this.UpdatePersonalService=ae,this.formbuilder=re,this.modalController=se,this.tmerVAl="(60 Sec)",this.enableResend=!1,this.sendOtpCount=0,this.invalidAttemptCount=0,this.OTPSubmitForm=this.formbuilder.group({otpCode:["",[A.kI.required,A.kI.minLength(6)]]}),this.config.currentPage.pageName="TACPopupPage",this.phoneNumber=this.config.userInfo.contactNumber,this.maskedPhoneNumber=this.config.userInfo.maskedContactNumber}ngOnInit(){console.log("ionViewDidLoad TacPopupPage"),this.sendOTP()}verifyTAC(){if(this.OTPSubmitForm.valid)if(this.utils.isDeviceOnLine())this.utils.showProgressLoader(),this.UpdatePersonalService.verifyTAC(this.OTPSubmitForm.controls.otpCode.value).then(s=>{try{if(s.responseJSON)if(s.responseJSON.statusCode==i.yI||s.responseJSON.statusCode==i.OK)this.utils.dissmisProgressLoader(),this.modalController.dismiss({TACVarified:!0});else if(this.utils.dissmisProgressLoader(),s.responseJSON&&s.responseJSON.statusCode==i.xe)this.utils.showAlert("",s.responseJSON.userMessage),this.OTPSubmitForm.controls.otpCode.markAsDirty(),this.OTPSubmitForm.controls.otpCode.setValue("");else{let _=s.responseJSON.message||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",_)}}catch(_){this.utils.dissmisProgressLoader();let M=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",M)}},s=>{this.utils.dissmisProgressLoader();let _=this.utils.handleServiceException(s);this.utils.showAlert("",_)});else{let c=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",c)}}sendOTP(){if(this.utils.isDeviceOnLine()){this.utils.showProgressLoader();let c="AOS";"ios"==this.utils.getPlatform()&&(c="IOS"),this.UpdatePersonalService.sendTAC(c).then(s=>{try{if(s.responseJSON)if(s.responseJSON&&s.responseJSON.statusCode==i.OK)this.enableResend=!1,this.sendOtpCount++,this.sendOtpCount<3&&(this.tmerVAl="(60 Sec)",this.startTimer()),this.utils.dissmisProgressLoader();else{this.utils.dissmisProgressLoader();let _=s.responseJSON.message||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",_)}}catch(_){this.utils.dissmisProgressLoader();let M=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",M)}},s=>{this.utils.dissmisProgressLoader();let _=this.utils.handleServiceException(s);this.utils.showAlert("",_)})}else{let c=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",c)}}startTimer(){var s,c=60;this.OTPTimerSubs=function H(C=0,p=I){return C<0&&(C=0),function K(C=0,p,c=T){let s=-1;return null!=p&&((0,e.K)(p)?c=p:s=p),new L.y(_=>{let M=function G(C){return C instanceof Date&&!isNaN(C)}(C)?+C-c.now():C;M<0&&(M=0);let z=0;return c.schedule(function(){_.closed||(_.next(z++),0<=s?this.schedule(void 0,s):_.complete())},M)})}(C,C,p)}(1e3).subscribe(_=>{s=Math.floor(c),this.tmerVAl="("+(s=s<10?"0"+s:s)+" sec)",c>=1&&--c,0==c&&(this.enableResend=!0,this.tmerVAl="",this.OTPTimerSubs.unsubscribe())})}showDialog(c,s){this.alertCtrl.create({header:c,message:s,buttons:[{text:"Ok",handler:()=>{this.modalController.dismiss({TACVarified:!0})}}],backdropDismiss:!1}).then(z=>z.present())}closeModal(){this.modalController.dismiss()}}return C.\u0275fac=function(c){return new(c||C)(d.Y36(y.IN),d.Y36(V.f),d.Y36(y.BX),d.Y36(j.D),d.Y36(y.Br),d.Y36(W.sK),d.Y36($.i),d.Y36(X.Y),d.Y36(A.qu),d.Y36(y.IN))},C.\u0275cmp=d.Xpm({type:C,selectors:[["app-tac-popup"]],decls:22,vars:6,consts:[["mode","ios"],["color","primary",2,"text-align","center","padding-top","0px !important"],[1,"bold-font"],[1,"padding"],[1,"margin_bottom",3,"formGroup"],[1,"enter-otp-container"],[1,"border"],["type","text","restrict-input","","restrictInput","nricDigit","maxlength","6","formControlName","otpCode","placeholder","Enter OTP Number"],[1,"timer-container"],["ion-button","",1,"btn_center",3,"disabled","click"],["class","attempts-left",4,"ngIf"],["text-center","",1,"buttons-container"],["ion-button","",1,"btn_center1",3,"disabled","click"],["ion-button","",1,"btn_center",3,"click"],[1,"attempts-left"]],template:function(c,s){1&c&&(d.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-label",2),d._uU(3,"Enter OTP "),d.qZA()()(),d.TgZ(4,"ion-content")(5,"div",3)(6,"p"),d._uU(7),d.qZA(),d.TgZ(8,"form",4)(9,"div",5)(10,"ion-item",6),d._UZ(11,"ion-input",7),d.qZA(),d.TgZ(12,"div",8)(13,"ion-button",9),d.NdJ("click",function(){return s.sendOTP()}),d._uU(14),d.qZA(),d.YNc(15,te,2,1,"div",10),d.qZA()()()()(),d.TgZ(16,"ion-footer")(17,"div",11)(18,"ion-button",12),d.NdJ("click",function(){return s.verifyTAC()}),d._uU(19,"Submit "),d.qZA(),d.TgZ(20,"ion-button",13),d.NdJ("click",function(){return s.closeModal()}),d._uU(21,"Cancel "),d.qZA()()()),2&c&&(d.xp6(7),d.hij("A 6-digit one-time-pin (OTP) has been sent to your mobile phone number (",s.maskedPhoneNumber,") "),d.xp6(1),d.Q6J("formGroup",s.OTPSubmitForm),d.xp6(5),d.Q6J("disabled",!s.enableResend),d.xp6(1),d.hij("Resend ",s.tmerVAl," "),d.xp6(1),d.Q6J("ngIf",s.sendOtpCount>1),d.xp6(3),d.Q6J("disabled",!s.OTPSubmitForm.controls.otpCode.valid))},dependencies:[ee.O5,A._Y,A.JJ,A.JL,A.nD,y.YG,y.W2,y.fr,y.Gu,y.pK,y.Ie,y.Q$,y.sr,y.j9,A.sg,A.u],styles:["page-tac-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem}page-tac-popup[_ngcontent-%COMP%]   .attempts-left[_ngcontent-%COMP%]{font:12px/16px var(--ion-font-family);margin-top:8px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]{margin-bottom:16px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-left:0}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0!important;padding-right:0!important}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid #c8c7cc;padding:0 16px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]{margin-top:16px}p[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:1.1rem;font-size:1rem;font-family:Agenda-Regular}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;font-size:1.05rem}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:-5px;font-size:1.05rem}.bold-font[_ngcontent-%COMP%]{font-size:1rem;font-family:Agenda-Bold!important;text-align:center}.buttons-container[_ngcontent-%COMP%], .padding[_ngcontent-%COMP%]{padding:10px}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}"]}),C})()}}]);