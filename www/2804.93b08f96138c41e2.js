"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2804],{17343:(Q,S,s)=>{s.d(S,{K:()=>J});var e=s(36895),p=s(48058),w=s(24006),t=s(54463),v=s(98274);let J=(()=>{class x{}return x.\u0275fac=function(E){return new(E||x)},x.\u0275mod=v.oAB({type:x}),x.\u0275inj=v.cJS({imports:[e.ez,p.Pc,t.aw,w.UX]}),x})()},19925:(Q,S,s)=>{s.d(S,{E:()=>st});var e=s(15861),p=s(24006),w=s(22727),t=s(98274),v=s(48058),J=s(11481),x=s(53025),_=s(9999),E=s(64228),I=s(54463),Z=s(43485),b=s(59668),U=s(38940),L=s(30070),M=s(91903),R=s(30400),B=s(81905),l=s(31111),k=s(34598),G=s(12041),j=s(36895);function X(d,T){1&d&&(t.TgZ(0,"span",11),t._uU(1,"*"),t.qZA())}function $(d,T){1&d&&(t.TgZ(0,"div")(1,"span",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"update_payout_details.err_accountholdernameReq")))}function tt(d,T){1&d&&(t.TgZ(0,"div")(1,"span",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"update_payout_details.err_accountholdernameLengthReq")))}function et(d,T){1&d&&(t.TgZ(0,"span",11),t._uU(1,"*"),t.qZA())}function at(d,T){1&d&&(t.TgZ(0,"div")(1,"span",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"update_payout_details.err_account_holder_icReq")))}function nt(d,T){1&d&&(t.TgZ(0,"span",11),t._uU(1,"*"),t.qZA())}function f(d,T){if(1&d&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&d){const n=T.$implicit;t.Q6J("value",n.code),t.xp6(1),t.Oqu(n.name)}}function c(d,T){1&d&&(t.TgZ(0,"div")(1,"span",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"update_payout_details.err_banknameReq")))}function o(d,T){1&d&&(t.TgZ(0,"span",11),t._uU(1,"*"),t.qZA())}function i(d,T){1&d&&(t.TgZ(0,"div")(1,"span",20),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"update_payout_details.err_bankAccountNumberReq")))}function m(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"ion-input",24),t.TgZ(3,"div",25),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.chooseCameraOptions("nricUpload"))}),t._UZ(4,"ion-icon",26),t.qZA()(),t.TgZ(5,"div",27),t._UZ(6,"ion-input",28),t.TgZ(7,"div",25),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.chooseCameraOptions("passbookUpload"))}),t._UZ(8,"ion-icon",26),t.qZA()()()}2&d&&(t.xp6(2),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("disabled",!0))}function O(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"ion-button",29),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.updatePayoutDetails())}),t._uU(1,"Update"),t.qZA()}}function Y(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"ion-button",30),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.backtoParentPage())}),t._uU(1,"Continue"),t.qZA()}}function it(d,T){if(1&d){const n=t.EpF();t.TgZ(0,"div",17)(1,"ion-button",31),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveContinue())}),t._uU(2,"Save & Continue"),t.qZA()()}if(2&d){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.updatePayoutDetailForm1.pristine||!n.updatePayoutDetailForm1.valid)}}const ot=function(){return{cssClass:"mycomponent-wider-popover"}};let st=(()=>{class d{constructor(n,a,r,g,u,y,h,A,D,K,rt,lt,ct,dt,ut,pt,ht,mt,ft,gt){this.fb=n,this.modalController=a,this._DomSanitizer=r,this.utils=g,this.logger=u,this.router=y,this.alertCtrl=h,this.translate=A,this.config=D,this.EditPayoutService=K,this.docPicker=rt,this.actionSheetCtrl=lt,this.camera=ct,this.base64=dt,this.filePath=ut,this.fileChooser=pt,this.file=ht,this.formbuilder=mt,this.device=ft,this.chooser=gt,this.isShowingLoader=!1,this.canTryAgain=!1,this.isSuccessful=!1,this.today=Date.now(),this.BanksBranch=[],this.policyList=[],this.mimeTypes={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",pdf:"application/pdf",zip:"application/zip"},this.dummycamera=function(z){this.crntCntrlName=z,console.log(this.crntCntrlName),this.updatePayoutDetailForm1.controls[this.crntCntrlName].controls.name.markAsDirty(),this.updatePayoutDetailForm1.controls[this.crntCntrlName].controls.base64string.markAsDirty(),this.updatePayoutDetailForm1.controls[this.crntCntrlName].controls.name.setValue("Attachment.jpg"),this.updatePayoutDetailForm1.controls[this.crntCntrlName].controls.base64string.setValue("AttachmentBase64")},this.openCameraGallery=function(z,N,W){this.camera.getPicture({destinationType:this.camera.DestinationType.FILE_URI,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,sourceType:z,correctOrientation:!0}).then(C=>{"ios"==this.utils.getPlatform()&&(C=window.Ionic.normalizeURL(C)),console.log("imageData",C);var H=C.split("/").pop().split("?")[0];console.log("filename",H);var P,q=C.split(".").pop().toLowerCase();console.log("fileext",q),q=q.split("?")[0],console.log("fileext-after?",q),this.checkFileExt(q,N)?2==N?(console.log("GalleryimageData",C),this.getBase64StringFromFilePath(C,H,W)):(console.log("CameraimageData",C),this.getBase64StringFromFilePath(C,H,W)):"png"==q||"jpeg"==q||"jpg"==q||"pdf"==q?(P=this.translate.instant(1==N?"claim_submission.select_only_pdf":"claim_submission.select_only_imgs"),this.utils.showAlert("",P,!1)):(P=this.translate.instant(0==N?"claim_submission.select_only_imgs":"claim_submission.select_only_pdf"),this.utils.showAlert("",P,!1))},C=>{let F;F=this.translate.instant(0==N?"claim_submission.err_cam":"claim_submission.err_pdf"),this.utils.showAlert("",F,!1)})},this.checkBase64Size=function(z,N,W){this.utils.showProgressLoader();let V=N.split(".").pop().toLowerCase(),C=z.split(",");C=C.length>0?C[1]:C[0];try{let F=(C.match(/(=*)$/)||[])[1].length;if((C.length*(3/4)-F)/1e6<5){let P;P="pdf"==V?this.utils.sanitizeBase64string(C):C.replace(/(\r\n|\r|\n)/g,""),this.addAttachment(N,P,W)}else"pdf"==V?(this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("claim_submission.err_sizeLimit"),!1)):this.utils.FileCompresser(z,this.mimeTypes[V]).then(P=>{let _t=((P=(P=P.split(",")).length>0?P[1]:P[0]).match(/(=*)$/)||[])[1].length;if((P.length*(3/4)-_t)/1e6<5){let yt=P.replace(/(\r\n|\r|\n)/g,"");this.addAttachment(N,yt,W)}else this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("claim_submission.err_sizeLimit"),!1)},P=>{this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("generic_msgs.server_err"),!1)})}catch(F){this.utils.dissmisProgressLoader(),this.utils.showAlert("",this.translate.instant("generic_msgs.server_err"),!1)}},this.config.currentPage.pageName="EditPersonalDetailPage",console.log("isEditable",this.isEditable),this.updatePayoutDetailForm1=n.group({accountHolder:["",[p.kI.required,p.kI.minLength(2),p.kI.maxLength(200)]],accountHolderIC:["",[p.kI.required]],bankBranchCode:["",[p.kI.required]],bankAccountNumber:["",[p.kI.required]],nricUpload:this.fb.group({name:["",[p.kI.required]],base64string:["",[p.kI.required]]}),passbookUpload:this.fb.group({name:["",[p.kI.required]],base64string:["",[p.kI.required]]})})}ionViewDidLoad(){console.log("ionViewDidLoad EditPayoutDetailPage")}ngOnInit(){this.getBankStaticdata()}updatePayoutDetails(){this.isEditable=!0,this.utils.publishSomeData({user:"clearPayoutDetails"}),this.updatePayoutDetailForm1.reset()}saveContinue(){let n=this.updatePayoutDetailForm1.controls;if(this.updatePayoutDetailForm1.valid)if(n.bankAccountNumber.value.length===this.LengthVal||n.bankAccountNumber.value.length===this.optionalLengthVal){let a=JSON.parse(JSON.stringify(this.updatePayoutDetailForm1.getRawValue()));console.log(a),this.utils.publishSomeData({user:"payoutDetailUpdated",data:[{formData:a,bankName:this.bankName,option:!0}]})}else this.showPrompt("",this.optionalLengthVal?"Please enter "+this.LengthVal+" / "+this.optionalLengthVal+" digits valid bank account number.":"Please enter "+this.LengthVal+" digits valid bank account number.")}backtoParentPage(){const a=[{formData:JSON.parse(JSON.stringify(this.updatePayoutDetailForm1.value)),bankName:this.bankName,option:!1}];this.utils.publishSomeData({user:"payoutDetailUpdated",data:a})}getPayoutDetails(n){this.utils.showProgressLoader(),this.EditPayoutService.getAccounHolderInfo(n).then(a=>{try{this.utils.dissmisProgressLoader(),a.responseJSON&&a.responseJSON.statusCode==w.OK&&a.responseJSON.accountHolder&&a.responseJSON.accountHolderIC&&a.responseJSON.bankAccountNumber&&a.responseJSON.bankName?(this.updatePayoutDetailForm1.patchValue({accountHolder:a.responseJSON.accountHolder,accountHolderIC:a.responseJSON.accountHolderIC,bankAccountNumber:a.responseJSON.bankAccountNumber}),this.bankName=a.responseJSON.bankName,console.log("this.bankName",this.bankName),this.setBankName(a.responseJSON.bankName),this.isEditable=!1):this.updatePayoutDetails()}catch(r){this.utils.dissmisProgressLoader(),this.canTryAgain=!0,this.logger.error("getaccountHolderandICNumber catch eror : "+JSON.stringify(r))}},a=>{this.utils.dissmisProgressLoader(),this.canTryAgain=!0})}setBankName(n){console.log(this.BanksBranch[this.getIndex(this.BanksBranch,n,"name")].code,{onlySelf:!0}),this.updatePayoutDetailForm1.controls.bankBranchCode.patchValue(this.BanksBranch[this.getIndex(this.BanksBranch,n,"name")].code,{onlySelf:!0}),this.updatePayoutDetailForm1.controls.bankBranchCode.disable()}getIndex(n,a,r){return n.findIndex((u,y)=>{if(u[r]===a)return!0})}getBankStaticdata(){this.utils.isDeviceOnLine()?(this.utils.showProgressLoader(),this.EditPayoutService.getStaticdata().then(n=>{try{n.responseJSON&&200==n.status?(this.BanksBranch=n.responseJSON.CardandPayoutData.BankBranchData,this.updatedorNot&&this.preUpdatedData&&Object.keys(this.preUpdatedData).length>0?(this.updatePayoutDetailForm1.patchValue({accountHolder:this.preUpdatedData.accountHolder,accountHolderIC:this.preUpdatedData.accountHolderIC,bankAccountNumber:this.preUpdatedData.bankAccountNumber,bankBranchCode:this.preUpdatedData.bankBranchCode,nricUpload:this.preUpdatedData.nricUpload,passbookUpload:this.preUpdatedData.passbookUpload}),this.resetAccountNumberAndValidation(this.preUpdatedData.bankBranchCode,this.preUpdatedData.bankName)):this.getPayoutDetails(this.selectedEncryptedPolicy)):(this.utils.dissmisProgressLoader(),this.logger.error("GET BanksBranch list: "+JSON.stringify(n)),this.errorMsg=this.translate.instant("generic_msgs.server_err"))}catch(a){this.utils.dissmisProgressLoader(),this.canTryAgain=!0,this.logger.error("get BanksBranch catch eror : "+JSON.stringify(a)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},n=>{this.utils.dissmisProgressLoader(),this.errorMsg=this.utils.handleServiceException(n)})):(this.utils.dissmisProgressLoader(),this.canTryAgain=!0,this.logger.error("Get BanksBranch generic_msgs.network_err"),this.errorMsg=this.translate.instant("generic_msgs.network_err"))}resetAccountNumberAndVali(n){let a;console.log("test",this.updatePayoutDetailForm1.controls.bankBranchCode.value),console.log("event",n),console.log("bankbranchCode",n.detail.value),console.log();for(let r=0;r<=this.BanksBranch.length;r++)if(this.BanksBranch[r].code==n.detail.value){a=this.BanksBranch[r].name;break}console.log("bankName",a),this.updatePayoutDetailForm1.controls.bankBranchCode.patchValue(this.BanksBranch[this.getIndex(this.BanksBranch,a,"name")].code,{onlySelf:!0}),this.resetAccountNumberAndValidation(n.detail.value,a)}resetAccountNumberAndValidation(n,a){if(console.log("bankbranchCode",n),console.log("bankName",a),this.bankName=a,this.BanksBranch.length>0)for(let r=0;r<this.BanksBranch.length;r++)this.BanksBranch[r].code==n&&(this.LengthVal=this.BanksBranch[r].length,this.BanksBranch[r].optionalLength?(this.optionalLengthVal=this.BanksBranch[r].optionalLength,this.utils.dissmisProgressLoader()):(this.optionalLengthVal="",this.utils.dissmisProgressLoader()))}chooseCameraOptions(n){this.crntCntrlName=n;var a=this.translate.instant("claim_submission.select_any_file"),r=this.translate.instant("claim_submission.open_camera"),g=this.translate.instant("claim_submission.open_gallery"),u=this.translate.instant("claim_submission.select_pdf"),y=this.translate.instant("claim_submission.cancel");let h;"ios"==this.utils.getPlatform()?(parseInt(this.device.version),h=[{text:r,handler:()=>{this.openCamera_ios(this.camera.PictureSourceType.CAMERA,0,"camera",n)}},{text:g,handler:()=>{this.openCamera_ios(this.camera.PictureSourceType.PHOTOLIBRARY,0,"gallary",n)}},{text:u,handler:()=>{this.openCameraGallery_ios(n)}},{text:y,role:"cancel",handler:()=>{console.log("this.updatePayoutDetailForm1",this.updatePayoutDetailForm1)}}]):h=[{text:r,handler:()=>{this.openCameraGallery(this.camera.PictureSourceType.CAMERA,0,n)}},{text:g,handler:()=>{this.openCameraGallery(this.camera.PictureSourceType.PHOTOLIBRARY,2,n)}},{text:u,handler:()=>{this.openFilechooser(1,n)}},{text:y,role:"cancel",handler:()=>{}}],this.actionSheetCtrl.create({header:a,buttons:h}).then(K=>K.present())}openCamera_ios(n,a,r,g){this.camera.getPicture({destinationType:this.camera.DestinationType.DATA_URL,mediaType:this.camera.MediaType.PICTURE,encodingType:this.camera.EncodingType.JPEG,sourceType:n,correctOrientation:!0}).then(y=>{if("camera"==r)var h="sunaccesDatajpg001.jpg",A="jpg";else"gallary"==r?(h="sunaccesDatajpeg002.jpeg",A="jpeg"):(h="sunaccesDatapdf003.pdf",A="pdf");var D;this.checkFileExt(A,a)?(console.log("acceptpdf_ios",a),console.log("fileext_ios",A),"camera"==r?(console.log("CameraimageData",y),this.addAttachment(h,y,g)):"gallary"==r?(console.log("GalleryimageData",y),this.addAttachment(h,y,g)):(console.log("Pdf",y),this.addAttachment(h,y,g))):"png"==A||"jpeg"==A||"jpg"==A||"pdf"==A?(D=this.translate.instant(1==a?"claim_submission.select_only_pdf":"claim_submission.select_only_imgs"),this.utils.showAlert("",D,!1)):(D=this.translate.instant(0==a?"claim_submission.select_only_imgs":"claim_submission.select_only_pdf"),this.utils.showAlert("",D,!1))},y=>{let h;h=this.translate.instant(0==a?"claim_submission.err_cam":"claim_submission.err_pdf"),this.utils.showAlert("",h,!1)})}checkFileExt(n,a){return 0==a||2==a?"png"==n||"jpeg"==n||"jpg"==n:"pdf"==n}openCameraGallery_ios(n){this.docPicker.getFile("all").then(a=>{"ios"==this.utils.getPlatform()&&(a=window.Ionic.WebView.convertFileSrc(a));var r=a.split("/").pop();if("pdf"==a.split(".").pop().toLowerCase())this.getBase64StringFromFilePath(a,r,n,"pdf");else{var u=this.translate.instant("claim_submission.select_only_pdf");this.utils.showAlert("",u,!1)}}).catch(a=>{let r=this.translate.instant("claim_submission.err_pdf");this.utils.showAlert("",r,!1)})}openFilechooser(n,a){var r=this;1==n?this.chooser.getFile().then(function(){var g=(0,e.Z)(function*(u){if("pdf"==u.name.split(".").pop().toLowerCase()){let A=yield r.utils.flattenPDF(u,0);r.checkBase64Size(A,u.name,a)}else{var h=r.translate.instant("claim_submission.select_only_pdf");r.utils.showAlert("",h,!1)}console.log(u?u.name:"canceled")});return function(u){return g.apply(this,arguments)}}()).catch(g=>{let u=this.translate.instant("claim_submission.err_pdf");this.utils.showAlert("",u,!1)}):this.fileChooser.open().then(g=>{this.file.resolveLocalFilesystemUrl(g).then(u=>{this.filePath.resolveNativePath(u.nativeURL).then(h=>{-1===h.indexOf("file://")&&(h="file://"+h);var A=(h=h.split("?")[0]).split("/").pop(),D=h.split(".").pop().toLowerCase();if("png"==D||"jpeg"==D||"jpg"==D)this.getBase64StringFromFilePath(h,A,a,"");else{let K=this.translate.instant("claim_submission.select_only_imgs");this.utils.showAlert("",K,!1)}},h=>{let A=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",A,!1)})},u=>{var y=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",y,!1)})},g=>{var u=this.translate.instant("claim_submission.err_gallery");this.utils.showAlert("",u,!1)})}getBase64StringFromFilePath(n,a,r,g){var u=this;"pdf"===g?this.utils.getBase64FromUrl(n).then(function(){var y=(0,e.Z)(function*(h){let A=h,D=yield u.utils.flattenPDF(A,1);u.checkBase64Size(D,a,r)});return function(h){return y.apply(this,arguments)}}()):this.base64.encodeFile(n).then(y=>{this.checkBase64Size(y,a,r)},y=>{this.utils.dissmisProgressLoader();var h=this.translate.instant("claim_submission.err_bas64");this.utils.showAlert("",h)})}addAttachment(n,a,r){"ios"==this.utils.getPlatform()&&(n=n.split(".").pop().toLowerCase(),n=(new Date).getTime()+"."+n);let g=r;var u={};u.name=n,u.base64string=a,this.updatePayoutDetailForm1.controls.passbookUpload.controls.name.value==n||this.updatePayoutDetailForm1.controls.nricUpload.controls.name.value==n?(this.utils.dissmisProgressLoader(),this.utils.showAlert("Error","Same file is already uploaded")):(this.updatePayoutDetailForm1.get(g).controls.name.markAsDirty(),this.updatePayoutDetailForm1.get(g).controls.base64string.markAsDirty(),this.updatePayoutDetailForm1.get(g).controls.name.setValue(n),this.updatePayoutDetailForm1.get(g).controls.base64string.setValue(a),this.utils.dissmisProgressLoader())}removeAttachmentField(n){let a=n;this.updatePayoutDetailForm1.get(a).controls.name.setValue(""),this.updatePayoutDetailForm1.get(a).controls.name.markAsDirty()}showDialog(n,a){this.alertCtrl.create({header:n,message:a,buttons:[{text:"Ok",handler:()=>{}}],backdropDismiss:!1}).then(u=>u.present())}showPrompt(n,a){this.alertCtrl.create({header:n,message:a,buttons:[{text:"Ok",handler:()=>{}}],backdropDismiss:!1}).then(u=>u.present())}}return d.\u0275fac=function(n){return new(n||d)(t.Y36(p.qu),t.Y36(v.IN),t.Y36(J.H7),t.Y36(x.f),t.Y36(_.U),t.Y36(E.F0),t.Y36(v.Br),t.Y36(I.sK),t.Y36(Z.i),t.Y36(b.T),t.Y36(U.g),t.Y36(v.BX),t.Y36(L.V1),t.Y36(M.D),t.Y36(R.y),t.Y36(B.M),t.Y36(l.$),t.Y36(p.qu),t.Y36(k.A),t.Y36(G.I))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-edit-payout-details"]],inputs:{isEditable:"isEditable",preUpdatedData:"preUpdatedData",selectedEncryptedPolicy:"selectedEncryptedPolicy",updatedorNot:"updatedorNot"},decls:58,vars:45,consts:[[1,"update-payout-details-form"],[3,"formGroup"],[1,"para"],["class","mandatory_star",4,"ngIf"],["lines","none",1,"border"],["type","text","formControlName","accountHolder",2,"font-size","1rem !important",3,"placeholder","readonly"],[4,"ngIf"],["restrict-input","","restrictInput","number","type","tel","formControlName","accountHolderIC",2,"font-size","1rem !important",3,"placeholder","readonly"],["select-option","","interface","popover","mode","ios","formControlName","bankBranchCode",3,"interfaceOptions","disabled","placeholder","ionChange"],[3,"value",4,"ngFor","ngForOf"],["restrict-input","","restrictInput","number","type","tel","formControlName","bankAccountNumber",2,"font-size","1rem !important",3,"placeholder","readonly"],[1,"mandatory_star"],["class","documents-upload",4,"ngIf"],[1,"note"],[1,"buttons-container"],[1,"submit-btn1"],["class","btn_center",3,"click",4,"ngIf"],[1,"submit-btn"],["ion-button","","class","btn_center",3,"click",4,"ngIf"],["class","submit-btn",4,"ngIf"],[1,"fail"],[3,"value"],[1,"documents-upload"],["formGroupName","nricUpload",1,"upload-doc","border"],["readonly","true","placeholder","Upload NRIC","formControlName","name","type","text",1,"fileInput","upload-font",3,"disabled"],[1,"icon-container",3,"click"],["name","attach"],["formGroupName","passbookUpload",1,"upload-doc","border"],["placeholder","Upload Passbook / Statement","formControlName","name","readonly","true","type","text",1,"fileInput","upload-font",3,"disabled"],[1,"btn_center",3,"click"],["ion-button","",1,"btn_center",3,"click"],["ion-button","",1,"btn_center",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"form",1)(2,"p",2),t._uU(3),t.ALo(4,"translate"),t.YNc(5,X,2,0,"span",3),t.qZA(),t.TgZ(6,"ion-item",4),t._UZ(7,"ion-input",5),t.ALo(8,"translate"),t.qZA(),t.YNc(9,$,4,3,"div",6),t.YNc(10,tt,4,3,"div",6),t.TgZ(11,"p",2),t._uU(12),t.ALo(13,"translate"),t.YNc(14,et,2,0,"span",3),t.qZA(),t.TgZ(15,"ion-item",4),t._UZ(16,"ion-input",7),t.ALo(17,"translate"),t.qZA(),t.YNc(18,at,4,3,"div",6),t.TgZ(19,"p",2),t._uU(20),t.ALo(21,"translate"),t.YNc(22,nt,2,0,"span",3),t.qZA(),t.TgZ(23,"ion-item",4)(24,"ion-select",8),t.NdJ("ionChange",function(g){return a.resetAccountNumberAndVali(g)}),t.ALo(25,"translate"),t.YNc(26,f,2,2,"ion-select-option",9),t.qZA()(),t.YNc(27,c,4,3,"div",6),t.TgZ(28,"p",2),t._uU(29),t.ALo(30,"translate"),t.YNc(31,o,2,0,"span",3),t.qZA(),t.TgZ(32,"ion-item",4),t._UZ(33,"ion-input",10),t.ALo(34,"translate"),t.qZA(),t.YNc(35,i,4,3,"div",6),t.TgZ(36,"p",2),t._uU(37,"Upload Documents"),t.TgZ(38,"span",11),t._uU(39,"*"),t.qZA()(),t.YNc(40,m,9,2,"div",12),t.TgZ(41,"div",13),t._uU(42,"Note: "),t.TgZ(43,"ul")(44,"li"),t._uU(45,"This bank account is used for payout purposes (if any) "),t.qZA(),t.TgZ(46,"li"),t._uU(47,"Please ensure that the account details provided are for an active savings/current account"),t.qZA(),t.TgZ(48,"li"),t._uU(49,"The account number must belong to policy/contract owner/holder/assignee"),t.qZA(),t.TgZ(50,"li"),t._uU(51,"Please provide a copy of the bank passbook/statement for our verification purposes"),t.qZA()()()(),t.TgZ(52,"div",14)(53,"div",15),t.YNc(54,O,2,0,"ion-button",16),t.qZA(),t.TgZ(55,"div",17),t.YNc(56,Y,2,0,"ion-button",18),t.qZA(),t.YNc(57,it,3,1,"div",19),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("formGroup",a.updatePayoutDetailForm1),t.xp6(2),t.hij("",t.lcZ(4,28,"update_payout_details.accountholdername")," "),t.xp6(2),t.Q6J("ngIf",a.isEditable),t.xp6(2),t.s9C("placeholder",t.lcZ(8,30,"update_payout_details.accountholdername")),t.Q6J("readonly",!a.isEditable),t.xp6(2),t.Q6J("ngIf",a.updatePayoutDetailForm1.get("accountHolder").hasError("required")&&a.updatePayoutDetailForm1.get("accountHolder").touched),t.xp6(1),t.Q6J("ngIf",a.updatePayoutDetailForm1.get("accountHolder").hasError("minlength")&&a.updatePayoutDetailForm1.get("accountHolder").touched),t.xp6(2),t.Oqu(t.lcZ(13,32,"update_payout_details.account_holder_ic")),t.xp6(2),t.Q6J("ngIf",a.isEditable),t.xp6(2),t.s9C("placeholder",t.lcZ(17,34,"update_payout_details.account_holder_ic")),t.Q6J("readonly",!a.isEditable),t.xp6(2),t.Q6J("ngIf",a.updatePayoutDetailForm1.get("accountHolderIC").hasError("required")&&a.updatePayoutDetailForm1.get("accountHolderIC").touched),t.xp6(2),t.Oqu(t.lcZ(21,36,"update_payout_details.bankbranch")),t.xp6(2),t.Q6J("ngIf",a.isEditable),t.xp6(2),t.s9C("placeholder",t.lcZ(25,38,"update_card_details.selectBank")),t.Q6J("interfaceOptions",t.DdM(44,ot))("disabled",!a.isEditable),t.xp6(2),t.Q6J("ngForOf",a.BanksBranch),t.xp6(1),t.Q6J("ngIf",a.updatePayoutDetailForm1.get("bankBranchCode").hasError("required")&&a.updatePayoutDetailForm1.get("bankBranchCode").touched),t.xp6(2),t.hij("",t.lcZ(30,40,"update_payout_details.bankAccountNumber")," "),t.xp6(2),t.Q6J("ngIf",a.isEditable),t.xp6(2),t.s9C("placeholder",t.lcZ(34,42,"update_payout_details.bankAccountNumber")),t.Q6J("readonly",!a.isEditable),t.xp6(2),t.Q6J("ngIf",a.updatePayoutDetailForm1.get("bankAccountNumber").hasError("required")&&a.updatePayoutDetailForm1.get("bankAccountNumber").touched),t.xp6(5),t.Q6J("ngIf",a.isEditable),t.xp6(14),t.Q6J("ngIf",!a.isEditable),t.xp6(2),t.Q6J("ngIf",!a.isEditable),t.xp6(1),t.Q6J("ngIf",a.isEditable))},dependencies:[j.sg,j.O5,v.YG,v.gu,v.pK,v.Ie,v.t9,v.n0,v.QI,v.j9,p._Y,p.JJ,p.JL,p.sg,p.u,p.x0,I.X$],styles:[".para[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;margin-bottom:3%;color:#002d3d}.label[_ngcontent-%COMP%]{color:var(--ion-color-secondary)!important;font-size:1.8rem!important;font-family:var(--ion-font-agenda-semibold);margin-bottom:8px!important;white-space:normal}.upload-doc[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin-bottom:8px!important;padding-right:8px;position:relative}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-family:var(--ion-font-family);display:inline-flex;padding-left:15px!important;padding-right:40px}.upload-doc[_ngcontent-%COMP%]   ion-input[disabled][_ngcontent-%COMP%]{opacity:.6}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{margin-left:0}.upload-doc[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   .text-input[disabled][_ngcontent-%COMP%]{opacity:1}.upload-doc[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:inline-flex;height:100%;justify-content:center;position:absolute;right:10px;width:24px;z-index:9;font-size:5rem!important}.note[_ngcontent-%COMP%]{margin-top:16px;font-size:.87rem;color:#002d3d}.select-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{padding:0 38px 0 30px!important}.border[_ngcontent-%COMP%]{border:1px solid #cfc2c2;margin-bottom:2px;background:white;height:40px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:var(--ion-font-family);font-size:1rem}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:var(--ion-font-family);margin-bottom:-5px;font-size:1rem}.upload-font[_ngcontent-%COMP%]{font-size:.9rem!important;font-family:var(--ion-font-family);margin-top:7px!important}"]}),d})()},25552:(Q,S,s)=>{s.d(S,{$:()=>x});var e=s(98274),p=s(48058),w=s(36895);function t(_,E){1&_&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"I confirm that the answers given are true and accurate. I shall release and discharge company/Takaful Operator fully from any liability for any loss arising from the reliance on the above information."),e.qZA(),e.TgZ(3,"li"),e._uU(4," I am well informed of the losses of all benefit under the policy/contract upon surrendering. I also understand that upon signing of this form, the relevant policy/contract is hereby delivered for surrender in full and final discharge of Company/Takaful Operator\u2019s liabilities under the said policy/contract upon receiving the surrender value payment."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"My application will not take effect until it is accepted and notified to me by Company/Takaful Operator."),e.qZA(),e.TgZ(7,"li"),e._uU(8,"I am aware that I will receive notification of the potential impact of my application for withdrawal on the sustainability of my policy/contract and I understand that my application will not take effect until I provide the final confirmation to the Company/Takaful Operator to proceed with my withdrawal application after I have received the sustainability results."),e.qZA(),e.TgZ(9,"li"),e._uU(10,"My application must reach to Company/Takaful Operator at its Head Office in Kuala Lumpur by 3:30pm on the day before a Valuation Date (for investment-linked product) as described in the policy/contract document."),e.qZA(),e.TgZ(11,"li"),e._uU(12,"I further declare that I have not been adjudged a bankrupt nor have I have been presented with a bankruptcy petition."),e.qZA(),e.TgZ(13,"li"),e._uU(14,"I understand and agree that any of my personal information collected or held by Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by Company/Takaful Operator to individuals or organisations related to or associated with Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me for such purposes. I understand that I am entitled to obtain access to and to request correction of any personal information held by Company/Takaful Operator and that such request can be made to Company/Takaful Operator\u2019s Client Careline at "),e.TgZ(15,"a",7),e._uU(16,"1300-88-5055"),e.qZA(),e._uU(17,". I will keep Company/Takaful Operator updated of any change to such personal information as soon as possible."),e.qZA()())}function v(_,E){1&_&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"I/We hereby declare that I/we have read the questionnaires or the same was interpreted to me/us and the answers entered in the application are mine/ours and I/we hereby certify on behalf of myself/ourselves and of any person who has or claims any interest in the said policy/contract that each of the answers is complete and true and I agree that they shall be taken as the basis of the proposed revival or other changes/addition. I/We further agree that such revival or other changes/addition shall not be considered as effected until this application is approved by an authorised officer of Company/Takaful Operator. I/We further agree that if my/our application for revival or other changes/addition is accepted by the company/operator, the Incontestability and Suicide Provisions of my/our policy/contract shall be deemed and held to be so modified as to have effect from the approval date of such revival or other changes/addition."),e.qZA(),e.TgZ(3,"li"),e._uU(4,"I/we aware that it is my/our pre-contractual duty of disclosure that I/we must exercise reasonable care not to misrepresent i.e; to give false answers/information when answering any questions asked by Company/Takaful Operator and that I/we am/are to answer the questions fully and accurately."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"I/We have read and understood the contents of this form including all warnings and notices therein and I/we have fully and accurately answered all of the questions in this form and other questions asked by Company/Takaful Operator, if any, after having fully read and understood the questions."),e.qZA(),e.TgZ(7,"li"),e._uU(8,"I/We am/are aware that I/we must inform Company/Takaful Operator of any change to the answers given in this form if the change occurred after I/we have submitted this form but before the policy/contract is reinstated. "),e.qZA(),e.TgZ(9,"li"),e._uU(10,"I/We am/are aware that if any answers, statements or information given by me/us is not accurate, the policy/ contract may be deemed void, my/our claim denied or reduced, the terms of the policy/contract changed or varied, or the policy/contract terminated."),e.qZA(),e.TgZ(11,"li"),e._uU(12,"I/We authorise any physician, hospital, clinic, insurer/takaful operator or other organisation, institution or person, that has any record or knowledge of my/our health, to disclose to Company/Takaful Operator or its representatives all information about me/us with reference to my health and medical history and any hospitalisation, advice, treatment, disease or ailment. A photocopy of this authorisation shall be as valid as the original. Furthermore, Company/Takaful Operator shall, at all times, keep all results of any such tests confidential and the use thereof shall only be for the purposes of this application or further application for insurance/takaful with Company/Takaful Operator except to such an extent that disclosure is required by the Government Authority or by Law, and further provided that Company/Takaful Operator shall use all care in carrying out any such test, but shall not be liable for any unforeseen occurrence, act or omission, unless Company/Takaful Operator has been negligent."),e.qZA(),e.TgZ(13,"li"),e._uU(14,"I/We understand and agree that any of my/our personal information collected or held by Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by Company/Takaful Operator to individuals or organisations related to or associated with Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me/us for such purposes. I understand that I/we am/are entitled to obtain access to and to request correction of any personal information held by Company/Takaful Operator and that such request can be made to Company/Takaful Operator\u2019s Client Careline at "),e.TgZ(15,"a",7),e._uU(16,"1300-88-5055"),e.qZA(),e._uU(17,". I/We will keep Company/Takaful Operator updated of any change to such personal information as soon as possible. "),e.qZA(),e.TgZ(18,"li"),e._uU(19,"l/We hereby declare that the information given is true and accurate to the best of my knowledge and record. I/We shall indemnify Company/Takaful Operator for any loss arising from the reliance on the above information. "),e.qZA()())}function J(_,E){1&_&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"I hereby confirm that the information and answers given in this form are true and accurate to the best of my knowledge and record. I shall release and discharge Sun Life Malaysia Assurance Berhad/Sun Life Malaysia Takaful Berhad (\u201cthe Company/Takaful Operator\u201d) fully from any liability for any loss arising from the reliance on the above information."),e.qZA(),e.TgZ(3,"li"),e._uU(4,"My application will not take effect until is accepted and notified to me by the Company/Takaful Operator."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"My application must reach to the Company at its Head Office in Kuala Lumpur by 3:30pm on the day before a Valuation Date as described in the policy/contract document."),e.qZA(),e.TgZ(7,"li"),e._uU(8,"I further declare that I have not been adjudged a bankrupt nor I have been presented with a bankruptcy petition."),e.qZA(),e.TgZ(9,"li"),e._uU(10,"I understand and agree that any of my personal information collected or held by the Company/Takaful Operator (whether contained in this application or otherwise obtained) may be held, used, and disclosed by the Company/Takaful Operator to individuals or organisations related to or associated with the Company/Takaful Operator or any selected third party (within or outside of Malaysia, including reinsurance/retakaful and claims investigation companies and industry associations/federations) for the purpose of processing this application and providing subsequent service for this and to communicate with me for such purposes. I understand that I am entitled to obtain access to and to request correction of any personal information held by the Company/Takaful Operator and that such request can be made to the Company/Takaful Operator\u2019s Client Careline at "),e.TgZ(11,"a",7),e._uU(12,"1300-88-5055"),e.qZA(),e._uU(13,". I will keep the Company/Takaful Operator updated of any change to such personal information as soon as possible. "),e.qZA()())}let x=(()=>{class _{constructor(I,Z){this.navParams=I,this.modalController=Z,this.pageName=this.navParams.get("pageName")}closeModal(){this.modalController.dismiss()}ngOnInit(){console.log("ngOnInit DeclarationDetailsPage")}}return _.\u0275fac=function(I){return new(I||_)(e.Y36(p.X1),e.Y36(p.IN))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-declaration-details"]],decls:13,vars:3,consts:[["mode","ios"],["color","primary",2,"text-align","center","padding-top","0px !important"],[1,"bold-font"],[2,"font-size","0.9rem","font-size","0.9rem","padding-top","15px","padding-right","15px","padding-left","-5px","margin-left","-5px"],[4,"ngIf"],[1,"submit-btn"],[1,"btn_center",3,"click"],["href","tel:1300-88-5055"]],template:function(I,Z){1&I&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-label",2),e._uU(3,"Declaration Details "),e.qZA()()(),e.TgZ(4,"ion-content")(5,"div",3),e.YNc(6,t,18,0,"ol",4),e.YNc(7,v,20,0,"ol",4),e.YNc(8,J,14,0,"ol",4),e.qZA()(),e.TgZ(9,"ion-footer")(10,"div",5)(11,"ion-button",6),e.NdJ("click",function(){return Z.closeModal()}),e._uU(12,"Continue"),e.qZA()()()),2&I&&(e.xp6(6),e.Q6J("ngIf","partial"==Z.pageName||"surrender"==Z.pageName),e.xp6(1),e.Q6J("ngIf","reinstatement"==Z.pageName),e.xp6(1),e.Q6J("ngIf","premium-redirection"==Z.pageName||"top-up"==Z.pageName||"fund-switching"==Z.pageName))},dependencies:[w.O5,p.YG,p.W2,p.fr,p.Gu,p.Q$,p.sr],styles:["page-declaration-details[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:16px}page-declaration-details[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;padding-left:8px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:100px;min-height:40px;width:90%!important;margin-left:5%;font-family:Agenda-Regular!important;margin-bottom:15px}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}"]}),_})()},41729:(Q,S,s)=>{s.d(S,{O:()=>nt});var e=s(22727),p=s(50727);class w extends p.w0{constructor(c,o){super()}schedule(c,o=0){return this}}const t={setInterval(f,c,...o){const{delegate:i}=t;return null!=i&&i.setInterval?i.setInterval(f,c,...o):setInterval(f,c,...o)},clearInterval(f){const{delegate:c}=t;return((null==c?void 0:c.clearInterval)||clearInterval)(f)},delegate:void 0};var v=s(38737),x=s(26063);class _{constructor(c,o=_.now){this.schedulerActionCtor=c,this.now=o}schedule(c,o=0,i){return new this.schedulerActionCtor(this,c).schedule(i,o)}}_.now=x.l.now;const I=new class E extends _{constructor(c,o=_.now){super(c,o),this.actions=[],this._active=!1}flush(c){const{actions:o}=this;if(this._active)return void o.push(c);let i;this._active=!0;do{if(i=c.execute(c.state,c.delay))break}while(c=o.shift());if(this._active=!1,i){for(;c=o.shift();)c.unsubscribe();throw i}}}(class J extends w{constructor(c,o){super(c,o),this.scheduler=c,this.work=o,this.pending=!1}schedule(c,o=0){var i;if(this.closed)return this;this.state=c;const m=this.id,O=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(O,m,o)),this.pending=!0,this.delay=o,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(O,this.id,o),this}requestAsyncId(c,o,i=0){return t.setInterval(c.flush.bind(c,this),i)}recycleAsyncId(c,o,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return o;null!=o&&t.clearInterval(o)}execute(c,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(c,o);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,o){let m,i=!1;try{this.work(c)}catch(O){i=!0,m=O||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:c,scheduler:o}=this,{actions:i}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(i,this),null!=c&&(this.id=this.recycleAsyncId(o,c,null)),this.delay=null,super.unsubscribe()}}}),Z=I;var b=s(69751),U=s(93532);var B=s(24006),l=s(98274),k=s(48058),G=s(53025),j=s(91903),X=s(54463),$=s(43485),tt=s(26475),et=s(36895);function at(f,c){if(1&f&&(l.TgZ(0,"div",14),l._uU(1),l.qZA()),2&f){const o=l.oxw();l.xp6(1),l.hij("",3-o.sendOtpCount," Attempt Left")}}let nt=(()=>{class f{constructor(o,i,m,O,Y,it,ot,st,d,T){this.modalCtrl=o,this.utils=i,this.actionSheetCtrl=m,this.base64=O,this.alertCtrl=Y,this.translate=it,this.config=ot,this.UpdatePersonalService=st,this.formbuilder=d,this.modalController=T,this.tmerVAl="(60 Sec)",this.enableResend=!1,this.sendOtpCount=0,this.invalidAttemptCount=0,this.OTPSubmitForm=this.formbuilder.group({otpCode:["",[B.kI.required,B.kI.minLength(6)]]}),this.config.currentPage.pageName="TACPopupPage",this.phoneNumber=this.config.userInfo.contactNumber,this.maskedPhoneNumber=this.config.userInfo.maskedContactNumber}ngOnInit(){console.log("ionViewDidLoad TacPopupPage"),this.sendOTP()}verifyTAC(){if(this.OTPSubmitForm.valid)if(this.utils.isDeviceOnLine())this.utils.showProgressLoader(),this.UpdatePersonalService.verifyTAC(this.OTPSubmitForm.controls.otpCode.value).then(i=>{try{if(i.responseJSON)if(i.responseJSON.statusCode==e.yI||i.responseJSON.statusCode==e.OK)this.utils.dissmisProgressLoader(),this.modalController.dismiss({TACVarified:!0});else if(this.utils.dissmisProgressLoader(),i.responseJSON&&i.responseJSON.statusCode==e.xe)this.utils.showAlert("",i.responseJSON.userMessage),this.OTPSubmitForm.controls.otpCode.markAsDirty(),this.OTPSubmitForm.controls.otpCode.setValue("");else{let m=i.responseJSON.message||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",m)}}catch(m){this.utils.dissmisProgressLoader();let O=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",O)}},i=>{this.utils.dissmisProgressLoader();let m=this.utils.handleServiceException(i);this.utils.showAlert("",m)});else{let o=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",o)}}sendOTP(){if(this.utils.isDeviceOnLine()){this.utils.showProgressLoader();let o="AOS";"ios"==this.utils.getPlatform()&&(o="IOS"),this.UpdatePersonalService.sendTAC(o).then(i=>{try{if(i.responseJSON)if(i.responseJSON&&i.responseJSON.statusCode==e.OK)this.enableResend=!1,this.sendOtpCount++,this.sendOtpCount<3&&(this.tmerVAl="(60 Sec)",this.startTimer()),this.utils.dissmisProgressLoader();else{this.utils.dissmisProgressLoader();let m=i.responseJSON.message||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",m)}}catch(m){this.utils.dissmisProgressLoader();let O=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",O)}},i=>{this.utils.dissmisProgressLoader();let m=this.utils.handleServiceException(i);this.utils.showAlert("",m)})}else{let o=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",o)}}startTimer(){var i,o=60;this.OTPTimerSubs=function R(f=0,c=I){return f<0&&(f=0),function M(f=0,c,o=Z){let i=-1;return null!=c&&((0,U.K)(c)?o=c:i=c),new b.y(m=>{let O=function L(f){return f instanceof Date&&!isNaN(f)}(f)?+f-o.now():f;O<0&&(O=0);let Y=0;return o.schedule(function(){m.closed||(m.next(Y++),0<=i?this.schedule(void 0,i):m.complete())},O)})}(f,f,c)}(1e3).subscribe(m=>{i=Math.floor(o),this.tmerVAl="("+(i=i<10?"0"+i:i)+" sec)",o>=1&&--o,0==o&&(this.enableResend=!0,this.tmerVAl="",this.OTPTimerSubs.unsubscribe())})}showDialog(o,i){this.alertCtrl.create({header:o,message:i,buttons:[{text:"Ok",handler:()=>{this.modalController.dismiss({TACVarified:!0})}}],backdropDismiss:!1}).then(Y=>Y.present())}closeModal(){this.modalController.dismiss()}}return f.\u0275fac=function(o){return new(o||f)(l.Y36(k.IN),l.Y36(G.f),l.Y36(k.BX),l.Y36(j.D),l.Y36(k.Br),l.Y36(X.sK),l.Y36($.i),l.Y36(tt.Y),l.Y36(B.qu),l.Y36(k.IN))},f.\u0275cmp=l.Xpm({type:f,selectors:[["app-tac-popup"]],decls:22,vars:6,consts:[["mode","ios"],["color","primary",2,"text-align","center","padding-top","0px !important"],[1,"bold-font"],[1,"padding"],[1,"margin_bottom",3,"formGroup"],[1,"enter-otp-container"],[1,"border"],["type","text","restrict-input","","restrictInput","nricDigit","maxlength","6","formControlName","otpCode","placeholder","Enter OTP Number"],[1,"timer-container"],["ion-button","",1,"btn_center",3,"disabled","click"],["class","attempts-left",4,"ngIf"],["text-center","",1,"buttons-container"],["ion-button","",1,"btn_center1",3,"disabled","click"],["ion-button","",1,"btn_center",3,"click"],[1,"attempts-left"]],template:function(o,i){1&o&&(l.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-label",2),l._uU(3,"Enter OTP "),l.qZA()()(),l.TgZ(4,"ion-content")(5,"div",3)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"form",4)(9,"div",5)(10,"ion-item",6),l._UZ(11,"ion-input",7),l.qZA(),l.TgZ(12,"div",8)(13,"ion-button",9),l.NdJ("click",function(){return i.sendOTP()}),l._uU(14),l.qZA(),l.YNc(15,at,2,1,"div",10),l.qZA()()()()(),l.TgZ(16,"ion-footer")(17,"div",11)(18,"ion-button",12),l.NdJ("click",function(){return i.verifyTAC()}),l._uU(19,"Submit "),l.qZA(),l.TgZ(20,"ion-button",13),l.NdJ("click",function(){return i.closeModal()}),l._uU(21,"Cancel "),l.qZA()()()),2&o&&(l.xp6(7),l.hij("A 6-digit one-time-pin (OTP) has been sent to your mobile phone number (",i.maskedPhoneNumber,") "),l.xp6(1),l.Q6J("formGroup",i.OTPSubmitForm),l.xp6(5),l.Q6J("disabled",!i.enableResend),l.xp6(1),l.hij("Resend ",i.tmerVAl," "),l.xp6(1),l.Q6J("ngIf",i.sendOtpCount>1),l.xp6(3),l.Q6J("disabled",!i.OTPSubmitForm.controls.otpCode.valid))},dependencies:[et.O5,B._Y,B.JJ,B.JL,B.nD,k.YG,k.W2,k.fr,k.Gu,k.pK,k.Ie,k.Q$,k.sr,k.j9,B.sg,B.u],styles:["page-tac-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem}page-tac-popup[_ngcontent-%COMP%]   .attempts-left[_ngcontent-%COMP%]{font:12px/16px var(--ion-font-family);margin-top:8px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]{margin-bottom:16px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-left:0}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0!important;padding-right:0!important}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid #c8c7cc;padding:0 16px}page-tac-popup[_ngcontent-%COMP%]   .enter-otp-container[_ngcontent-%COMP%]   .timer-container[_ngcontent-%COMP%]{margin-top:16px}p[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:1.1rem;font-size:1rem;font-family:Agenda-Regular}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;font-size:1.05rem}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:-5px;font-size:1.05rem}.bold-font[_ngcontent-%COMP%]{font-size:1rem;font-family:Agenda-Bold!important;text-align:center}.buttons-container[_ngcontent-%COMP%], .padding[_ngcontent-%COMP%]{padding:10px}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}"]}),f})()},33449:(Q,S,s)=>{s.d(S,{w:()=>Z});var e=s(98274),p=s(43485),w=s(48058),t=s(36895);function v(b,U){1&b&&(e.TgZ(0,"div")(1,"p",7),e._uU(2,"We respect your decision although we are sad to see you go. Please go through the below "),e.TgZ(3,"strong"),e._uU(4,"Terms and Conditions"),e.qZA(),e._uU(5,"."),e.qZA(),e.TgZ(6,"ol",8)(7,"li"),e._uU(8,"The surrender value will be determined in accordance with the provision of the policy/contract/certificate and subjected to submission of the relevant documentation required by the Company/Takaful Operator to process this request."),e.qZA(),e.TgZ(9,"li"),e._uU(10,"A surrender charge will be deducted from the amount surrendered (if applicable)."),e.qZA(),e.TgZ(11,"li"),e._uU(12,"No reinstatement of surrender is allowed."),e.qZA(),e.TgZ(13,"li"),e._uU(14," The policy/contract/certificate will be terminated upon surrender."),e.qZA(),e.TgZ(15,"li"),e._uU(16,"Payment of the surrender value in full will discharge the Company/Takaful Operator from any liabilities and obligations under the policy/contract/certificate. "),e.qZA(),e.TgZ(17,"li"),e._uU(18,"The Company/Takaful Operator may contact via a phone call to validate on the surrender request whenever required."),e.qZA()()())}function J(b,U){1&b&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"Important notes for investment-linked policy/contract/certificate: "),e.TgZ(3,"ul")(4,"li"),e._uU(5,"It is important for you to understand the potential impact of withdrawal on the sustainability of your policy/contract/certificate. Hence, to help you better understand on the potential impact, the Company/Takaful Operator will provide you with the sustainability results in 3 working days immediately following the receipt of your request to withdraw. The sustainability results will be projected based on the unit price as at valuation date after the Company/Takaful Operator received this application."),e.qZA(),e.TgZ(6,"li"),e._uU(7,"The sustainability results will be emailed to the email address provided by you. A confirmation will then be required from you for the Company/Takaful Operator to proceed with the withdrawal request (the \u201cfinal confirmation\u201d)."),e.qZA(),e.TgZ(8,"li"),e._uU(9,"The Company/Takaful Operator will execute the withdrawal request on the next valuation date immediately following the receipt of the final confirmation."),e.qZA(),e.TgZ(10,"li"),e._uU(11,"The sustainability results will no longer be valid after the expiration of 30 days from the date they are emailed to you. If you do not provide the final confirmation within the period of 30 days, your withdrawal application will be considered as cancelled. If this happens, you need to submit a new application form to proceed with your withdrawal application."),e.qZA()()(),e.TgZ(12,"li"),e._uU(13,"Please refer to your policy/contract/certificate terms for information on the minimum withdrawal amount per transaction allowed and the minimum required aggregate value of the remaining value in policy/contract/certificate."),e.qZA(),e.TgZ(14,"li"),e._uU(15,"For investment-linked policy/contract/certificate, withdrawal value will be the value of the units withdrawn at the single price on the next valuation date immediately following the receipt of the final confirmation provided by you."),e.qZA(),e.TgZ(16,"li"),e._uU(17,"A withdrawal charge will be deducted from the amount withdrawn (if applicable)."),e.qZA(),e.TgZ(18,"li"),e._uU(19,"No reinstatement of withdrawal is allowed."),e.qZA(),e.TgZ(20,"li"),e._uU(21,"For single premium/contribution policy/contract/certificate, the sum assured/covered shall be reduced by the partial withdrawal amount upon payment from account value/value of the investment account."),e.qZA()())}function x(b,U){1&b&&(e.TgZ(0,"ol")(1,"li"),e._uU(2," Under Schedule 9 of the Financial Services Act 2013/Islamic Financial Services Act 2013, you are required to take reasonable care; "),e.TgZ(3,"ul")(4,"li"),e._uU(5," Not to make any misrepresentation when answering any questions asked by Company/Takaful Operator ie; you should answer the questions fully and accurately. Please note that all of the questions that are asked by Company/Takaful Operator are relevant to Company/Takaful Operator\u2019s decision whether to accept the risk or not and the rates and terms to be applied."),e.qZA(),e.TgZ(6,"li"),e._uU(7,"To disclose the changes to Company/Takaful Operator fully and accurately if there are any changes to the answers given in this form between the time of submission of this form and the time the policy/certificate is reinstated."),e.qZA(),e.TgZ(8,"li"),e._uU(9,"To disclose to Company/Takaful Operator any matter which you know to be relevant to Company/Takaful Operator\u2019s decision whether to accept the risk or not and the rates and terms to be applied."),e.qZA()()(),e.TgZ(10,"li"),e._uU(11,"In accordance with the guidelines on anti-money laundering issued by Bank Negara Malaysia, Company/Takaful Operator is required to verify the identity of its client. In the event of insufficient proof of identification, the application may not be accepted."),e.qZA(),e.TgZ(12,"li"),e._uU(13," The health questionnaires in this form are to be answered by the policy/contract owner/holder and the life assured/person covered (if the life assured/person covered is a different person from the policy/contract owner/holder)."),e.qZA()())}function _(b,U){1&b&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"The premium/contribution redirection is only apply for regular premium/contribution investment (please refer to the policy/contract terms and conditions)."),e.qZA(),e.TgZ(3,"li"),e._uU(4,"The premium/contribution redirection will supersede any previous instruction and will apply for the total premium/contribution paid on this policy/contract for the purchase of units."),e.qZA()())}function E(b,U){1&b&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"The minimum amount of top-up is in your policy/contract (please refer to the policy term and condition of your policy/contract for the minimum top-up amount)"),e.qZA(),e.TgZ(3,"li"),e._uU(4,"Full payment must be submitted together with this application."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"No Top-up allowed during premium/contribution holiday."),e.qZA()())}function I(b,U){1&b&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"The minimum amount that can be switched is stated in your policy/contract (please refer to the policy/contract for the minimum switch amount)."),e.qZA(),e.TgZ(3,"li"),e._uU(4,"Policy/Contract owner/holder/assignee is entitled to three free switches for the policy/contract year and subsequent switches will incur a fee of RM50.00 for each request, which will be deducted from the switch amount. "),e.qZA()())}let Z=(()=>{class b{constructor(L,M,R){this.config=L,this.navParams=M,this.modalController=R,this.pageName=this.navParams.get("pageName")}dismiss(){this.modalController.dismiss()}continue(){this.modalController.dismiss({termsAndConditionsChecked:!0})}closeModal(){this.modalController.dismiss({termsAndConditionsChecked:!1})}ngOnInit(){}}return b.\u0275fac=function(L){return new(L||b)(e.Y36(p.i),e.Y36(w.X1),e.Y36(w.IN))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-terms-and-condition"]],decls:17,vars:6,consts:[["mode","ios"],["color","primary",2,"text-align","center","padding-top","0px !important"],[1,"bold-font"],[1,"padding"],[4,"ngIf"],[1,"buttons-container"],["ion-button","",1,"btn_center",3,"click"],[2,"padding","10px 10px 0px 15px","font-size","0.9rem"],[2,"padding-left","5px","margin","25px","margin-top","0px"]],template:function(L,M){1&L&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-label",2),e._uU(3," Terms and Conditions "),e.qZA()()(),e.TgZ(4,"ion-content",3),e.YNc(5,v,19,0,"div",4),e.YNc(6,J,22,0,"ol",4),e.YNc(7,x,14,0,"ol",4),e.YNc(8,_,5,0,"ol",4),e.YNc(9,E,7,0,"ol",4),e.YNc(10,I,5,0,"ol",4),e.qZA(),e.TgZ(11,"ion-footer")(12,"div",5)(13,"ion-button",6),e.NdJ("click",function(){return M.continue()}),e._uU(14,"Continue"),e.qZA(),e.TgZ(15,"ion-button",6),e.NdJ("click",function(){return M.closeModal()}),e._uU(16,"Close"),e.qZA()()()),2&L&&(e.xp6(5),e.Q6J("ngIf","surrender"==M.pageName),e.xp6(1),e.Q6J("ngIf","partial"==M.pageName),e.xp6(1),e.Q6J("ngIf","reinstatement"==M.pageName),e.xp6(1),e.Q6J("ngIf","premium-redirection"==M.pageName),e.xp6(1),e.Q6J("ngIf","top-up"==M.pageName),e.xp6(1),e.Q6J("ngIf","fund-switching"==M.pageName))},dependencies:[t.O5,w.YG,w.W2,w.fr,w.Gu,w.Q$,w.sr],styles:["ol[_ngcontent-%COMP%]{padding-left:16px;margin:25px}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;font-size:.9rem;font-family:Agenda-Regular}ol[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:8px;padding-left:16px}.modal-wrapper[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)!important;--background: transparent !important}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;font-size:1.05rem}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important;margin-bottom:-5px;font-size:1.05rem}.bold-font[_ngcontent-%COMP%]{font-size:1.3rem;font-family:var(--ion-font-agenda-semibold);text-align:center}.buttons-container[_ngcontent-%COMP%], .padding[_ngcontent-%COMP%]{padding:10px}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}"]}),b})()}}]);