{"version":3,"file":"src_app_pages_epolicy-list_epolicy-list_module_ts.js","mappings":"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","sources":["./src/app/pages/epolicy-list/epolicy-list-routing.module.ts","./src/app/pages/epolicy-list/epolicy-list.module.ts","./src/app/pages/epolicy-list/epolicy-list.page.html","./src/app/pages/epolicy-list/epolicy-list.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EPolicyListPage } from './epolicy-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EPolicyListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EPolicyListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EPolicyListPageRoutingModule } from './epolicy-list-routing.module';\n\nimport { EPolicyListPage } from './epolicy-list.page';\nimport {  TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EPolicyListPageRoutingModule,\n    TranslateModule,\n  ],\n  declarations: [EPolicyListPage]\n})\nexport class EPolicyListPageModule {}\n","<ion-header mode=\"ios\" >\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button style=\"padding-left:15px; font-size:0.7rem;\" text=\"\" icon=\"chevron-back-outline\"></ion-back-button>\n    </ion-buttons>\n    <ion-title class=\"bold-font\">{{\"downloads.download\" | translate }}</ion-title>\n   </ion-toolbar >\n  <ion-toolbar class=\"sub_title ion-no-padding\">\n    <ion-row class=\"subheader_bg\">\n        <ion-label class=\"sub-header\">{{\"ePolisy.title\" | translate }}</ion-label>\n    </ion-row>\n  </ion-toolbar>\n\n</ion-header>\n\n\n\n<!-- <ion-header>\n  <ion-navbar>\n    <ion-title>{{\"downloads.download\" | translate }}</ion-title>\n  </ion-navbar>\n  <ion-toolbar class=\"sub_title\">\n      <ion-row class=\"subheader_bg\">\n          <ion-label class=\"sub-header\">{{\"ePolisy.title\" | translate }}</ion-label>\n      </ion-row>\n  </ion-toolbar>\n</ion-header> -->\n\n<ion-content  no-bounce class=\"app_bg2 text_color_base \" >\n<section class=\"spinnersection\"  *ngIf=\"isShowingLoader\">\n  <ion-spinner style=\"height:98%;\" name=\"lines-sharp-small\"></ion-spinner>\n</section>\n<section class=\"errorMsgSection\"  *ngIf=\"!(ePolicyList.length>0 )&& !isShowingLoader\">\n    <span>{{errorMsg}}</span>\n    <button *ngIf=\"canTryAgain\" (click)=\"getEPolicyList()\">{{\"generic_msgs.try_again\" | translate }}</button>\n</section>\n<section  *ngIf=\"ePolicyList.length>0\" class=\"white_container_border_radius text_color_base padding_015 font_size_18\">\n  <div >\n    <ion-row *ngFor=\"let ePolicy of ePolicyList\" class=\"list_item\">\n        <ion-label  size=\"2\" (click)=\"downloadAndOpenPdf(ePolicy)\" class=\"link\" >\n            {{ePolicy.policyNumber}}\n        </ion-label>\n    </ion-row>\n  </div>\n</section>\n</ion-content>","import { Component, OnInit } from '@angular/core';\n\nimport { LoggerServiceProvider } from 'src/providers/logger-service/logger-service';\nimport { UtilService } from 'src/providers/utils/utils.service';\nimport { EPolicyListService } from './ePolicyListService';\nimport { DownloadPdfProvider } from 'src/providers/download-pdf/download-pdf';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-epolicy-list',\n  templateUrl: './epolicy-list.page.html',\n  styleUrls: ['./epolicy-list.page.scss'],\n})\nexport class EPolicyListPage implements OnInit {\n\n  ePolicyList = [];\n  isShowingLoader = true;\n  canTryAgain = false;\n  name: any;\n  dirName: any = \"SunAccess\";\n  blobPDF: any;\n  constructor( public logger: LoggerServiceProvider,\n    public utils: UtilService, public getEPolicyService: EPolicyListService,\n    public downloadFile : DownloadPdfProvider ,public translate:TranslateService) {\n    this.utils.analytics(\"ePoLicyList\");\n\n  }\n\n  ngOnInit() {\n    this.logger.log('ionViewDidLoad EPolicyListPage');\n    this.getEPolicyList();\n  }\n   /**\n  * This method is called when the page is loaded and here we will do Service calls.\n  */\n  //  ionViewDidLoad() {\n  //   this.logger.log('ionViewDidLoad EPolicyListPage');\n  //   this.getEPolicyList();\n  // }\n  /**\n   * This method is used get E-Policy list from Server\n   */\n  getEPolicyList = function () {\n    if (this.utils.isDeviceOnLine()) {\n      this.canTryAgain = false;\n      this.isShowingLoader = true;\n      this.errorMsg = \"\";\n      this.logger.trace(\"get EPolicyList--start\");\n      this.getEPolicyService.getEPolicyList().then(\n        (result) => {\n          try{\n            this.isShowingLoader = false;\n            this.ePolicyList = result['responseJSON']['array'];\n            if (!(this.ePolicyList.length > 0)) {\n              this.canTryAgain = false;\n              this.errorMsg = this.translate.instant('generic_msgs.no_data');\n            }\n          }catch(e){\n            this.isShowingLoader = false;\n            this.canTryAgain = true;\n            this.errorMsg = this.translate.instant('generic_msgs.server_err');\n          }\n        }, (err) => {\n          this.isShowingLoader = false;\n          this.canTryAgain = true;\n          this.errorMsg = this.utils.handleServiceException(err);\n        });\n    } else {\n      this.isShowingLoader = false;\n      this.canTryAgain = true;\n      this.errorMsg = this.translate.instant('generic_msgs.network_err');\n    }\n\n  }\n\n  /**\n   * This method is used to download and open the pdf file\n   */\n  downloadAndOpenPdf = function (policy) {\n    this.downloadFile.downloadFile(policy._link);\n  }\n\n}\n"],"names":["RouterModule","EPolicyListPage","routes","path","component","EPolicyListPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","IonicModule","TranslateModule","EPolicyListPageModule","declarations","i0","constructor","logger","utils","getEPolicyService","downloadFile","translate","isDeviceOnLine","canTryAgain","isShowingLoader","errorMsg","trace","getEPolicyList","then","result","ePolicyList","length","instant","e","err","handleServiceException","policy","_link","analytics","ngOnInit","log","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}