"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7672],{17672:(D,f,l)=>{l.r(f),l.d(f,{ClaimStatusListPageModule:()=>w});var r=l(36895),d=l(24006),e=l(48058),g=l(64228),t=l(98274),p=l(53025),m=l(54463),_=l(9999),h=l(45324),C=l(43485);function Z(n,o){1&n&&(t.TgZ(0,"section",9),t._UZ(1,"ion-spinner",10),t.qZA())}function P(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.getClaimsSummaryData())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"generic_msgs.try_again")))}function x(n,o){if(1&n&&(t.TgZ(0,"section",11)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,P,3,3,"button",12),t.qZA()),2&n){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMsg),t.xp6(1),t.Q6J("ngIf",i.canTryAgain)}}function T(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"ion-card",18),t.NdJ("click",function(){const c=t.CHM(i).$implicit,u=t.oxw(3);return t.KtG(u.goToClaimDetail(c.encryptedPolicyNumber,c.typeOfClaim,c.noOfClaim))}),t.TgZ(1,"ion-card-header",22)(2,"ion-row",23)(3,"ion-col",24)(4,"ion-label",25),t._uU(5,"Policy Number"),t.qZA()(),t.TgZ(6,"ion-col",26)(7,"ion-label"),t._uU(8,":"),t.qZA()(),t.TgZ(9,"ion-col",27)(10,"ion-label",28),t._uU(11),t.qZA()()()(),t.TgZ(12,"ion-card-content",29)(13,"ion-row")(14,"ion-col",30)(15,"ion-label"),t._uU(16,"Type Of Claim"),t.qZA()(),t.TgZ(17,"ion-col",26)(18,"ion-label"),t._uU(19,":"),t.qZA()(),t.TgZ(20,"ion-col",27)(21,"ion-label",31),t._uU(22),t.qZA()()(),t.TgZ(23,"ion-row")(24,"ion-col",30)(25,"ion-label"),t._uU(26,"Submission Date"),t.qZA()(),t.TgZ(27,"ion-col",26)(28,"ion-label"),t._uU(29,":"),t.qZA()(),t.TgZ(30,"ion-col",27)(31,"ion-label",31),t._uU(32),t.qZA()()(),t.TgZ(33,"ion-row")(34,"ion-col",30)(35,"ion-label"),t._uU(36,"Status"),t.qZA()(),t.TgZ(37,"ion-col",26)(38,"ion-label"),t._uU(39,":"),t.qZA()(),t.TgZ(40,"ion-col",27)(41,"ion-label",31),t._uU(42),t.qZA()()(),t.TgZ(43,"ion-row")(44,"ion-col",30)(45,"ion-label"),t._uU(46,"Remarks"),t.qZA()(),t.TgZ(47,"ion-col",26)(48,"ion-label"),t._uU(49,":"),t.qZA()(),t.TgZ(50,"ion-col",27)(51,"ion-label",32),t._uU(52),t.qZA()()()()()}if(2&n){const i=o.$implicit;t.xp6(11),t.Oqu(i.policyNumber),t.xp6(11),t.Oqu(i.typeOfClaim),t.xp6(10),t.Oqu(i.submissionDate),t.xp6(10),t.Oqu(i.claimStatus),t.xp6(10),t.hij("",i.remarks," ")}}function S(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"ion-infinite-scroll",33),t.NdJ("ionInfinite",function(s){t.CHM(i);const c=t.oxw(3);return t.KtG(c.getMoreClaimsSummary(s))}),t._UZ(1,"ion-infinite-scroll-content"),t.qZA()}}function b(n,o){if(1&n&&(t.ynx(0),t.YNc(1,T,53,5,"ion-card",20),t.YNc(2,S,2,0,"ion-infinite-scroll",21),t.BQk()),2&n){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.claimsData),t.xp6(1),t.Q6J("ngIf",i.isMoreRecordsAvailable)}}function y(n,o){if(1&n&&(t.TgZ(0,"div")(1,"ion-row",16)(2,"ion-label",17),t._uU(3),t.qZA()()()),2&n){const i=t.oxw(2);t.xp6(3),t.hij("* Claim status shown here are from ",i.claimsDate," onwards")}}function M(n,o){if(1&n&&(t.TgZ(0,"ion-row",16)(1,"ion-label",17),t._uU(2),t.TgZ(3,"p",34),t._uU(4,"Please contact us at "),t.TgZ(5,"u",35)(6,"a",36),t._uU(7,"1300-88-5055"),t.qZA()(),t._uU(8,"or email "),t.TgZ(9,"a",37),t._uU(10,"wecare@sunlifemalaysia.com"),t.qZA(),t._uU(11," for further enquiries."),t.qZA()()()),2&n){const i=t.oxw(2);t.xp6(2),t.hij("* No claims submitted since ",i.claimsDate,". ")}}function A(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"div"),t.YNc(1,b,3,2,"ng-container",8),t.YNc(2,y,4,1,"div",14),t.YNc(3,M,12,1,"ng-template",null,15,t.W1O),t.TgZ(5,"ion-row",16)(6,"ion-label",17),t._uU(7),t.TgZ(8,"a",18),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.goToPaymentRecords())}),t.TgZ(9,"u")(10,"span",19),t._uU(11,"here"),t.qZA()()()()()()}if(2&n){const i=t.MAs(4),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.claimsData.length>0),t.xp6(1),t.Q6J("ngIf",a.claimsData.length>0)("ngIfElse",i),t.xp6(5),t.hij("* To view claims submitted before ",a.claimsDate," please click ")}}const O=[{path:"",component:(()=>{class n{constructor(i,a,s,c,u,L){this.router=i,this.utils=a,this.translate=s,this.logger=c,this.claimStatusService=u,this.config=L,this.totalPage=2,this.totalRecords=0,this.pageNumber=0,this.pageSize=10,this.recordsFetched=0,this.isMoreRecordsAvailable=!0,this.isDataLoading=!0,this.canTryAgain=!1,this.claimsData=[]}ngOnInit(){console.log("ionViewDidLoad ClaimStatusListPage"),this.claimsDate=this.config.claimsData.date,this.getClaimsSummaryData()}getClaimsSummaryData(){this.isDataLoading=!0,this.pageNumber=1,this.getClaimsSummary("")}goToPaymentRecords(){this.router.navigate(["/claim-status"])}goToClaimDetail(i,a,s){this.router.navigate(["/claim-status-details"],{state:{encryptedPolicyNumber:i,claimType:a,noOfClaim:s}})}getMoreClaimsSummary(i){this.pageNumber++,this.pageNumber<=this.totalPage?this.getClaimsSummary(i):(i.complete(),this.isMoreRecordsAvailable=!1)}getClaimsSummary(i){this.utils.isDeviceOnLine()?this.claimStatusService.getClaimsSummary(this.pageSize,this.pageNumber).then(a=>{1==this.pageNumber&&(this.totalRecords=a.responseJSON.totalRecords,this.totalPage=Math.ceil(this.totalRecords/this.pageSize));let s=a.responseJSON.summaryDetails;null!=s?(this.recordsFetched=this.recordsFetched+s.length,this.recordsFetched==this.totalRecords&&(this.isMoreRecordsAvailable=!1),this.claimsData=[...this.claimsData,...s]):this.isMoreRecordsAvailable=!1,this.isDataLoading=!1,this.canTryAgain=!1,""!=i&&i.complete()},a=>{""!=i&&i.complete(),this.isDataLoading=!1,this.canTryAgain=!0,this.logger.error("Claim status--search policy by policynumber servcie catch eror : "+JSON.stringify(a)),this.errorMsg=this.utils.handleServiceException(a)}):(""!=i&&i.complete(),this.claimsData=[],this.pageNumber=0,this.isDataLoading=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err"))}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(p.f),t.Y36(m.sK),t.Y36(_.U),t.Y36(h.u),t.Y36(C.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-claim-status-list"]],decls:11,vars:6,consts:[["mode","ios"],["color","primary"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["padding",""],["class","spinnersection",4,"ngIf"],["class","errorMsgSection",4,"ngIf"],[4,"ngIf"],[1,"spinnersection"],["name","ios-small"],[1,"errorMsgSection"],["style","--background:var(--ion-color-white);",3,"click",4,"ngIf"],[2,"--background","var(--ion-color-white)",3,"click"],[4,"ngIf","ngIfElse"],["noClaimDataTemplate",""],[1,"row-margin"],["text-wrap","",1,"label-margin","font_size_17"],[3,"click"],[2,"color","#3880ff"],[3,"click",4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"cardheader","header-conventional"],[1,"section"],["size","5"],[1,"section-title"],["size","1"],["size","6"],[1,"section-content"],["detail-none","","text-wrap","","no-lines","",1,"light-background"],["size","5",1,"ion-data"],[1,"ion-data-content"],[1,"remarks-data-content"],[3,"ionInfinite"],[1,"contact-us"],[2,"color","#337ab7"],["href","tel:1300-88-5055"],["href","mailto:wecare@sunlifemalaysia.com"]],template:function(i,a){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"ion-content",5),t.YNc(8,Z,2,0,"section",6),t.YNc(9,x,4,2,"section",7),t.YNc(10,A,12,4,"div",8),t.qZA()),2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"claim_status.title")),t.xp6(3),t.Q6J("ngIf",a.isDataLoading),t.xp6(1),t.Q6J("ngIf",!(a.claimsData.length>0)&&!a.isDataLoading&&a.canTryAgain),t.xp6(1),t.Q6J("ngIf",!a.isDataLoading))},dependencies:[r.sg,r.O5,e.oU,e.Sm,e.PM,e.FN,e.Zi,e.wI,e.W2,e.Gu,e.ju,e.MB,e.Q$,e.Nd,e.PQ,e.wd,e.sr,e.cs,m.X$],styles:[".light-background[_ngcontent-%COMP%]{background-color:#f4f4f4}.cardheader[_ngcontent-%COMP%]{padding:13px 8px 5px}.label[_ngcontent-%COMP%]{margin:1px 1px 1px 0}.col[_ngcontent-%COMP%]{width:50%;text-align:left}.header-conventional[_ngcontent-%COMP%], .header-conventional[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{background:var(--ion-color-secondary)!important}.header-takaful[_ngcontent-%COMP%], .header-takaful[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{background:#539542!important}.scroll-content[_ngcontent-%COMP%]{padding:8px!important}.ion-data[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]:first-child{font-family:Agenda-Regular!important;font-size:.9rem!important;color:var(--ion-color-secondary)!important;font-weight:600!important;white-space:pre-wrap!important}.ion-data-content[_ngcontent-%COMP%]{font-family:Agenda-Regular!important;font-weight:500;font-size:.9rem;color:#3a3a3a;white-space:pre-wrap!important}.card-content[_ngcontent-%COMP%]{padding:13px 8px 5px}.remarks-data-content[_ngcontent-%COMP%]{font-family:Agenda-Regular!important;font-weight:500;font-size:.9rem;color:#3a3a3a}.section[_ngcontent-%COMP%]{color:#fff;transition:none!important;-webkit-tap-highlight-color:none!important}.section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:#fff;font-family:Agenda-Regular}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600!important;margin:0;color:#fff;font-family:Agenda-Regular}.section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500!important;margin:0;color:#fff;font-family:Agenda-Regular}.row-margin[_ngcontent-%COMP%]{margin:10px}.contact-us[_ngcontent-%COMP%]{margin:0!important;display:inline}.font_size_17[_ngcontent-%COMP%]{font-size:1.1rem!important}a[_ngcontent-%COMP%]{background-color:transparent!important;color:#3880ff!important}"]}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(O),g.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,d.u5,e.Pc,v,m.aw]}),n})()}}]);