"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4190],{24190:(R,S,r)=>{r.r(S),r.d(S,{UpdateSecurityQuestionPageModule:()=>I});var a=r(36895),u=r(24006),n=r(48058),p=r(64228),g=r(22727),e=r(98274),y=r(53025),f=r(43485),m=r(38590),_=r(15342),Q=r(9999),v=r(61390),d=r(54463),O=r(45340),x=r(71959),w=r(96251);function U(i,o){1&i&&(e.TgZ(0,"section",10),e._UZ(1,"ion-spinner",11),e.qZA())}const A=function(i,o){return{sucess:i,fail:o}};function M(i,o){if(1&i&&(e.TgZ(0,"section",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(2,A,t.isSuccess,!t.isSuccess)),e.xp6(2),e.Oqu(t.errorMsg)}}function P(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.tryAgain())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"generic_msgs.try_again")))}function Z(i,o){if(1&i&&(e.TgZ(0,"section",13)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,P,3,3,"button",14),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorMsg),e.xp6(1),e.Q6J("ngIf",t.canTryAgain)}}function L(i,o){if(1&i&&(e.TgZ(0,"ion-select-option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit,s=o.index;e.Q6J("value",t.type)("selected",0===s),e.xp6(1),e.Oqu(t.question)}}function C(i,o){1&i&&(e.TgZ(0,"div",31)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"update_security_ques.err_new_security_ques")))}function T(i,o){1&i&&(e.TgZ(0,"div",31)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"update_security_ques.err_securityLength_req")))}const b=function(){return{cssClass:"mycomponent-wider-popover"}};function J(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"form",17)(2,"p",18),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-item",19),e._UZ(6,"ion-input",20),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",21),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"ion-item",19),e._UZ(12,"ion-input",22),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"p",21),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",23),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"ion-item",19)(20,"ion-select",24),e.YNc(21,L,2,3,"ion-select-option",25),e.qZA()(),e.TgZ(22,"p",21),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"span",23),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"ion-item",19),e._UZ(28,"ion-input",26),e.ALo(29,"translate"),e.qZA(),e.YNc(30,C,4,3,"div",27),e.YNc(31,T,4,3,"div",27),e.TgZ(32,"ion-row",28)(33,"ion-col")(34,"ion-button",29),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.updateSecurityQuestion())}),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.updateSecurityQuestionForm),e.xp6(2),e.hij(" ",e.lcZ(4,15,"update_security_ques.old_security_ques"),""),e.xp6(3),e.s9C("placeholder",e.lcZ(7,17,"update_security_ques.old_security_ques")),e.xp6(3),e.Oqu(e.lcZ(10,19,"update_security_ques.old_security_ans")),e.xp6(3),e.s9C("placeholder",e.lcZ(13,21,"update_security_ques.old_security_ans")),e.Q6J("value",t.Cricket),e.xp6(3),e.hij("",e.lcZ(16,23,"update_security_ques.new_security_ques")," "),e.xp6(5),e.Q6J("interfaceOptions",e.DdM(31,b)),e.xp6(1),e.Q6J("ngForOf",t.questions),e.xp6(2),e.hij(" ",e.lcZ(24,25,"update_security_ques.new_security_ans")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(29,27,"update_security_ques.new_security_ans_plc")),e.xp6(2),e.Q6J("ngIf",t.updateSecurityQuestionForm.get("newSecurityAnswer").hasError("required")&&t.updateSecurityQuestionForm.get("newSecurityAnswer").touched),e.xp6(1),e.Q6J("ngIf",t.updateSecurityQuestionForm.get("newSecurityAnswer").hasError("minlength")&&t.updateSecurityQuestionForm.get("newSecurityAnswer").touched),e.xp6(3),e.Q6J("disabled",!t.updateSecurityQuestionForm.valid),e.xp6(1),e.Oqu(e.lcZ(36,29,"update_security_ques.reset"))}}const q=[{path:"",component:(()=>{class i{constructor(t,s,c,l,h,G,F,Y,k,z,j,E,D){this.utils=t,this.config=s,this.alertCtrl=c,this.authHandler=l,this.jsonStore=h,this.logger=G,this.loginService=F,this.popOverCtrl=Y,this.translate=k,this.router=z,this.translateConfigService=j,this.getSecurityQuestionsListService=E,this.updateSecurityQuestionService=D,this.isShowingLoader=!1,this.questions=[],this.canTryAgain=!1,this.isSuccess=!1,this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en")}ngOnInit(){this.getSecurityQuestions(),this.updateSecurityQuestionForm=new u.cw({oldSecurityQuestion:new u.NI({value:"",disabled:!0}),oldSecurityAnswer:new u.NI({value:"",disabled:!0}),newSecurityQuestion:new u.NI("",[u.kI.required]),newSecurityAnswer:new u.NI("",[u.kI.required,u.kI.minLength(1)])})}updateSecurityQuestion(){if(this.updateSecurityQuestionForm.valid){this.logger.trace("POST USER Security Question Update--start"),this.utils.showProgressLoader();let t=this.updateSecurityQuestionForm.controls.newSecurityQuestion.value,s=this.updateSecurityQuestionForm.controls.newSecurityAnswer.value;this.utils.isDeviceOnLine()?this.updateSecurityQuestionService.updateUserSecurityQuestion(t,s).then(c=>{try{this.utils.dissmisProgressLoader(),c.responseJSON&&c.responseJSON.statusCode==g.OK?(this.errorMsg=c.responseJSON.userMessage,this.isSuccess=!0,this.showDialog("",this.errorMsg)):c.responseJSON&&c.responseJSON.statusCode==g.yI?(this.errorMsg=c.responseJSON.userMessage,this.showDialog("",this.errorMsg)):(this.logger.error("POST USER Security Question Update : "+JSON.stringify(c)),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.isSuccess=!1)}catch(l){this.utils.dissmisProgressLoader(),this.isSuccess=!1,this.logger.error("POST USER Security Question Update : "+JSON.stringify(l)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},c=>{this.utils.dissmisProgressLoader(),this.isSuccess=!1,this.logger.error("POST USER Security Question Update : "+JSON.stringify(c)),this.errorMsg=this.utils.handleServiceException(c)}):(this.isShowingLoader=!1,this.isSuccess=!1,this.errorMsg=this.translate.instant("generic_msgs.network_err"))}}getSecurityQuestions(){this.questions.length>0||(this.utils.isDeviceOnLine()?(this.isShowingLoader=!0,this.logger.trace("Security Questions--get security questions list--start"),this.getSecurityQuestionsListService.getSecurityQuestions().then(t=>{try{this.isShowingLoader=!1,t.responseJSON&&t.responseJSON.statusCode==g.OK?(this.isGetSecurityQuestionsListServiceSuccess=!0,this.questions=t.responseJSON.array,this.updateSecurityQuestionForm.controls.newSecurityQuestion.setValue(this.questions[0].type,{onlySelf:!0}),this.getUserOptedSecurityQuestion(),this.questions.length>0||(this.canTryAgain=!0,this.isGetSecurityQuestionsListServiceSuccess=!1,this.errorMsg=this.translate.instant("update_security_ques.err_security_question"),this.logger.error("No Security Questions Found: Security Questions--Get Security Questions List "+JSON.stringify(t)))):(this.canTryAgain=!0,this.isGetSecurityQuestionsListServiceSuccess=!1,this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.logger.error("error occured: Security Questions--Get Security Questions List "+JSON.stringify(t)))}catch(s){this.isShowingLoader=!1,this.canTryAgain=!0,this.isGetSecurityQuestionsListServiceSuccess=!1,this.logger.error("error occured: Security Questions--Get Security Questions List: "+JSON.stringify(s)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},t=>{this.canTryAgain=!0,this.isShowingLoader=!1,this.isGetSecurityQuestionsListServiceSuccess=!1,this.logger.error("error occured: Security Questions--Get Security Questions List : "+JSON.stringify(t)),this.errorMsg=this.utils.handleServiceException(t)})):(this.isShowingLoader=!1,this.canTryAgain=!0,this.isGetSecurityQuestionsListServiceSuccess=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err")))}getUserOptedSecurityQuestion(){this.utils.isDeviceOnLine()?(this.isShowingLoader=!0,this.logger.trace("Security Questions--getUserOptedSecurityQuestion--start"),this.updateSecurityQuestionService.getUserSecurityQuestion().then(t=>{try{this.isShowingLoader=!1,t.responseJSON&&t.responseJSON.statusCode==g.OK?(this.isGetUsrOptdSecurityQuestionServiceSuccess=!0,this.updateSecurityQuestionForm.controls.oldSecurityQuestion.setValue(t.responseJSON.question),this.updateSecurityQuestionForm.controls.oldSecurityAnswer.setValue(t.responseJSON.answer)):(this.canTryAgain=!0,this.isGetUsrOptdSecurityQuestionServiceSuccess=!1,this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.logger.error("error occured: Security Questions--getUserOptedSecurityQuestion "+JSON.stringify(t)))}catch(s){this.isShowingLoader=!1,this.canTryAgain=!0,this.isGetUsrOptdSecurityQuestionServiceSuccess=!1,this.logger.error("Security Questions--getUserOptedSecurityQuestion  catch eror : "+JSON.stringify(s)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},t=>{this.isShowingLoader=!1,this.canTryAgain=!0,this.isGetUsrOptdSecurityQuestionServiceSuccess=!1,this.logger.error("Security Questions--getUserOptedSecurityQuestion  catch eror : "+JSON.stringify(t)),this.errorMsg=this.utils.handleServiceException(t)})):(this.isShowingLoader=!1,this.canTryAgain=!0,this.isGetUsrOptdSecurityQuestionServiceSuccess=!1,this.errorMsg=this.translate.instant("generic_msgs.network_err"))}tryAgain(){this.isGetSecurityQuestionsListServiceSuccess&&!this.isGetUsrOptdSecurityQuestionServiceSuccess?this.getSecurityQuestions():(!this.isGetSecurityQuestionsListServiceSuccess&&this.isGetUsrOptdSecurityQuestionServiceSuccess||this.getSecurityQuestions(),this.getUserOptedSecurityQuestion())}showDialog(t,s){this.alertCtrl.create({header:t,message:s,buttons:[{text:"Ok",handler:()=>{this.router.navigate(["/settings"])}}]}).then(h=>h.present())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(y.f),e.Y36(f.i),e.Y36(n.Br),e.Y36(m.P),e.Y36(_.D),e.Y36(Q.U),e.Y36(v.r),e.Y36(n.Dh),e.Y36(d.sK),e.Y36(p.F0),e.Y36(O.w),e.Y36(x.z),e.Y36(w.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-security-question"]],decls:12,vars:7,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font",2,"width","auto"],["no-bounce","",1,"app_bg1","text_color_base","ion-padding"],["class","spinnersection ion-text-center",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","errorMsgSection",4,"ngIf"],["class","white_container_border_radius",4,"ngIf"],[1,"spinnersection","ion-text-center"],["name","lines-sharp-small",2,"height","98%"],[3,"ngClass"],[1,"errorMsgSection"],["style","--background:white;",3,"click",4,"ngIf"],[2,"--background","white",3,"click"],[1,"white_container_border_radius"],["margin","",3,"formGroup"],["position","stacked",2,"padding-top","10px"],["lines","none",1,"border"],["disabled","true","formControlName","oldSecurityQuestion",3,"placeholder"],["position","stacked"],["disabled","true","formControlName","oldSecurityAnswer",3,"placeholder","value"],[1,"mandatory_star"],["slot","start","mode","ios","interface","popover","formControlName","newSecurityQuestion",3,"interfaceOptions"],[3,"value","selected",4,"ngFor","ngForOf"],["restrict-input","","restrictInput","alphanumericwithspace","amaxlength","50","formControlName","newSecurityAnswer",3,"placeholder"],["class","errPosition",4,"ngIf"],["text-center","","align-items-center",""],[1,"btn_center",3,"disabled","click"],[3,"value","selected"],[1,"errPosition"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"ion-content",5),e.YNc(8,U,2,0,"section",6),e.YNc(9,M,3,5,"section",7),e.YNc(10,Z,4,2,"section",8),e.YNc(11,J,37,32,"div",9),e.qZA()),2&t&&(e.xp6(5),e.hij("",e.lcZ(6,5,"update_security_ques.title")," "),e.xp6(3),e.Q6J("ngIf",s.isShowingLoader),e.xp6(1),e.Q6J("ngIf",s.errorMsg&&!s.canTryAgain&&!s.isShowingLoader),e.xp6(1),e.Q6J("ngIf",s.canTryAgain&&!s.isShowingLoader),e.xp6(1),e.Q6J("ngIf",!s.canTryAgain&&!s.isShowingLoader))},dependencies:[a.mk,a.sg,a.O5,u._Y,u.JJ,u.JL,n.oU,n.YG,n.Sm,n.wI,n.W2,n.Gu,n.pK,n.Ie,n.Nd,n.t9,n.n0,n.PQ,n.wd,n.sr,n.QI,n.j9,n.cs,u.sg,u.u,d.X$],styles:['.app_bg1[_ngcontent-%COMP%]{--background: url(register_bg.35962209e77bb744.jpg) no-repeat center center / cover;background-size:cover;background-repeat:no-repeat;height:100%;background-position:bottom}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.spinnersection[_ngcontent-%COMP%]{display:block;flex-direction:column;justify-content:center;align-items:center;font-size:1.3rem;height:98%}.errorMsgSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:98%;font-size:.8rem;color:#494747!important;padding:0 15px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px;min-height:40px;width:100%!important;font-family:Agenda-Regular!important}.item[_ngcontent-%COMP%]{padding-left:0;background:transparent}.item[_ngcontent-%COMP%]   .item-input.ng-valid.item-input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%], .item.item-input.ng-valid.input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%]{border-bottom-color:none!important;box-shadow:none!important}.item-inner[_ngcontent-%COMP%]{padding-right:0!important;border-bottom:none!important}.input[_ngcontent-%COMP%]{border:1px solid #eee;padding:3px 15px;background:white;font-size:1.4rem}.label[_ngcontent-%COMP%]{margin-bottom:5px!important;font-size:1.8rem!important;color:#002d3d!important;font-weight:400}p[_ngcontent-%COMP%]{font-size:1.2rem!important;margin:10px 0 5px}.italic_font[_ngcontent-%COMP%]{font-style:italic;margin:7px 0}.mandatory_star[_ngcontent-%COMP%]{color:red}.sucess[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#002d3d!important}.fail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red!important}.sucess[_ngcontent-%COMP%], .fail[_ngcontent-%COMP%]{text-align:center!important}.select[_ngcontent-%COMP%]{--webkit-appearance: none;--moz-appearance: none;background:#ffffff url(arrow-down.5fe9fee63287056b.png) no-repeat 95% center;width:100%;text-indent:.01px;text-overflow:"";padding:10px;font-size:1.6rem!important;max-width:100%!important;color:#222!important;border:1px solid #eee!important;position:relative;height:42px}.select-icon[_ngcontent-%COMP%]{display:none}.select-text[_ngcontent-%COMP%]{padding-left:15px}form[_ngcontent-%COMP%]{padding:0 15px!important}']}),i})()}];let N=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(q),p.Bz]}),i})(),I=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.ez,u.u5,n.Pc,d.aw,u.UX,N]}),i})()}}]);