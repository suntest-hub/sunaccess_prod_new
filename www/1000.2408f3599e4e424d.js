"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1e3],{1e3:(T,f,o)=>{o.r(f),o.d(f,{NotificationSettingsPageModule:()=>x});var l=o(54463),p=o(36895),g=o(24006),s=o(48058),h=o(64228),u=o(22727),t=o(98274),m=o(45340),S=o(53025),P=o(43485),M=o(61390),N=o(9999),v=o(34088),O=o(49756);const b=[{path:"",component:(()=>{class n{constructor(i,e,r,c,d,y,U,w,J,R,I,L){this.translateConfigService=i,this.translate=e,this.router=r,this.utils=c,this.config=d,this.loginService=y,this.logger=U,this.menuCtrl=w,this.menu=J,this.NotificationSettingservice=R,this.alertCtrl=I,this.pushNotiService=L,this.isShowingLoader=!1,this.canTryAgain=!1,this.isSuccess=!1,this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en")}ngOnInit(){this.pushNotificationFlagVal=this.config.userInfo.isNotificationRegistered}updatePushNotificationSettings(i){setTimeout(()=>{this.utils.showProgressLoader(),i?this.pushNotiService.registerDevice().then(e=>{this.sendUpdateNotiSettingstoServer(i)},e=>{this.utils.dissmisProgressLoader(),this.showDialog("",e.message),this.pushNotificationFlagVal=!i,this.config.userInfo.isNotificationRegistered=!1}):this.pushNotiService.unregisterDevice().then(e=>{this.sendUpdateNotiSettingstoServer(i)},e=>{this.showDialog("",e.message),this.utils.dissmisProgressLoader(),this.pushNotificationFlagVal=!i})},100)}sendUpdateNotiSettingstoServer(i){this.utils.isDeviceOnLine()?this.NotificationSettingservice.updatePushNotificationsetting(i).then(e=>{try{this.utils.dissmisProgressLoader(),e.responseJSON&&e.responseJSON.statusCode==u.OK?(this.errorMsg=e.responseJSON.userMessage,this.isSuccess=!0,this.showDialog("",this.errorMsg),this.config.userInfo.isNotificationRegistered=i):e.responseJSON&&e.responseJSON.statusCode==u.yI?(this.errorMsg=e.responseJSON.userMessage,this.showDialog("",this.errorMsg),this.config.userInfo.isNotificationRegistered=i):(this.logger.error("PUT USER Notification Settings Update : "+JSON.stringify(e)),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.isSuccess=!1,this.pushNotificationFlagVal=!i,this.config.userInfo.isNotificationRegistered=!i)}catch(r){this.utils.dissmisProgressLoader(),this.isSuccess=!1,this.logger.error("PUT USER Notification Settings Update : "+JSON.stringify(r)),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.pushNotificationFlagVal=!i,this.config.userInfo.isNotificationRegistered=!i}},e=>{this.utils.dissmisProgressLoader(),this.isSuccess=!1,this.logger.error("PUT USER Notification Settings Update : "+JSON.stringify(e)),this.errorMsg=this.utils.handleServiceException(e),this.pushNotificationFlagVal=!i,this.config.userInfo.isNotificationRegistered=!i}):(this.isShowingLoader=!1,this.isSuccess=!1,this.errorMsg=this.translate.instant("generic_msgs.network_err"),this.pushNotificationFlagVal=!i,this.config.userInfo.isNotificationRegistered=!i)}showDialog(i,e){this.alertCtrl.create({header:i,message:e,buttons:[{text:"Ok"}]}).then(d=>d.present())}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(m.w),t.Y36(l.sK),t.Y36(h.F0),t.Y36(S.f),t.Y36(P.i),t.Y36(M.r),t.Y36(N.U),t.Y36(s._q),t.Y36(s._q),t.Y36(v.K),t.Y36(s.Br),t.Y36(O._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-notification-settings"]],decls:16,vars:4,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start","auto-hide","false","color","secondary"],[1,"bold-font",2,"width","auto"],["no-bounce","",1,"app_bg1","ion-padding"],[1,"white_container_border_radius","text_color_base"],["size","10",1,"margin_top_bottom_auto"],[1,"label-margin"],["size","2","text-center","",1,"toggleItem"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"]],template:function(i,e){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),t._UZ(2,"ion-menu-button",2),t.TgZ(3,"ion-title",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"ion-content",4)(7,"ion-list",5)(8,"ion-row")(9,"ion-col",6)(10,"ion-label",7),t._uU(11,"Push Notification"),t.qZA()(),t.TgZ(12,"ion-col",8)(13,"label",9)(14,"input",10),t.NdJ("ngModelChange",function(c){return e.pushNotificationFlagVal=c})("change",function(){return e.updatePushNotificationSettings(e.pushNotificationFlagVal)}),t.qZA(),t._UZ(15,"span",11),t.qZA()()()()()),2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"notification_settings_page.title")),t.xp6(10),t.Q6J("ngModel",e.pushNotificationFlagVal))},dependencies:[g.Wl,g.JJ,g.On,s.wI,s.W2,s.Gu,s.Q$,s.q_,s.fG,s.Nd,s.wd,s.sr,l.X$],styles:['.app_bg1[_ngcontent-%COMP%]{--background: url(register_bg.35962209e77bb744.jpg) no-repeat center center / cover;background-size:cover;background-repeat:no-repeat;height:100%;background-position:bottom}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.margin_top_bottom_auto[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.label[_ngcontent-%COMP%]{font-size:1.7rem;margin:0;line-height:24px}.list[_ngcontent-%COMP%]{padding:0 15px;margin-top:15px}ion-row[_ngcontent-%COMP%]{border-bottom:1px solid color #002d3d;margin-top:5px;padding-right:40px}ion-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.col[_ngcontent-%COMP%]{padding:15px 0}.label-margin[_ngcontent-%COMP%]{margin-left:13%}.subtitle_Noti[_ngcontent-%COMP%]{margin-left:-3%;color:#002d3d}li[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]{margin-top:1px}.toggle-md[_ngcontent-%COMP%]{padding:0}.toggleItem[_ngcontent-%COMP%]{margin-bottom:auto}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#febe10}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #febe10}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(b),h.Bz]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,g.u5,s.Pc,l.aw,C]}),n})()}}]);