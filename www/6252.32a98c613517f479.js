"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6252],{46252:(Vt,O,c)=>{c.r(O),c.d(O,{SignUpPageModule:()=>yt});var f=c(36895),r=c(24006),a=c(48058),U=c(54463),P=c(64228),x=c(15861),y=c(65414),C=c(97716),T=c(43485),h=c(22727),t=c(98274),b=c(71959),N=c(53025),w=c(9999),q=c(25171);const I=["canvas"],k=["captchInput"];function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",29),t.NdJ("click",function(s){t.CHM(e);const g=t.oxw(2);return t.KtG(g.openPopup(s))}),t.qZA()}}function J(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.identityNo_req")))}function L(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.identityNoLength_req")))}function Q(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",29),t.NdJ("click",function(s){t.CHM(e);const g=t.oxw(2);return t.KtG(g.openPopup1(s))}),t.qZA()}}function Y(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.policyNo_req")))}function V(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.policyNoLength_req")))}function E(n,i){1&n&&(t.TgZ(0,"ion-label",31),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"enterthetext")," "))}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",32),t._UZ(2,"canvas",33,34),t.qZA(),t.TgZ(4,"span",35)(5,"ion-col",36),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.refreshCaptcha())}),t._UZ(6,"i",37),t.qZA()()()}}function R(n,i){1&n&&(t.TgZ(0,"ion-item",12),t._UZ(1,"ion-input",38,39),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(1),t.s9C("placeholder",t.lcZ(3,1,"entertextintheaboveimage")))}function j(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.captcha_req")))}function G(n,i){1&n&&(t.TgZ(0,"ion-label",40)(1,"span",10),t._uU(2,"*"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"allfieldsarecompulsory")))}function B(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",41)(2,"ion-button",42),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.checkUser())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",!e.signUpForm.controls.identityNumber.valid||!e.signUpForm.controls.policyNo.valid||!e.signUpForm.controls.captcha.valid),t.xp6(1),t.Oqu(t.lcZ(4,2,"submit"))}}function D(n,i){1&n&&(t.TgZ(0,"ion-label",15),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"fullname")," "))}function K(n,i){1&n&&(t.TgZ(0,"ion-item",12),t._UZ(1,"ion-input",43),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.s9C("placeholder",t.lcZ(2,1,"fullnamePlcHldr")))}function H(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.fullName_req")))}function X(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.nameLength_req")))}function W(n,i){1&n&&(t.TgZ(0,"ion-label",15),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"emailaddress")," "))}function $(n,i){1&n&&(t.TgZ(0,"ion-item",12),t._UZ(1,"ion-input",44),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.s9C("placeholder",t.lcZ(2,1,"emailid")))}function tt(n,i){1&n&&(t.TgZ(0,"ion-label",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Thiswillbeusedtologintosunaccess")))}function nt(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.email_req")))}function et(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.email_valid")))}function it(n,i){1&n&&(t.TgZ(0,"ion-label",46),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Signup.sourceofInfo")," "))}function ot(n,i){if(1&n&&(t.TgZ(0,"ion-select-option",49),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.type),t.xp6(1),t.Oqu(e.type)}}const A=function(){return{cssClass:"mycomponent-wider-popover"}};function st(n,i){if(1&n&&(t.TgZ(0,"ion-item",12)(1,"ion-select",47),t.YNc(2,ot,2,2,"ion-select-option",48),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("interfaceOptions",t.DdM(2,A)),t.xp6(1),t.Q6J("ngForOf",e.socialPlatforms)}}function rt(n,i){1&n&&(t.TgZ(0,"ion-label",15),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"securityquestions")," "))}function at(n,i){if(1&n&&(t.TgZ(0,"ion-select-option",49),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.type),t.xp6(1),t.Oqu(e.question)}}function ct(n,i){if(1&n&&(t.TgZ(0,"ion-item",12)(1,"ion-select",50),t.YNc(2,at,2,2,"ion-select-option",48),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("interfaceOptions",t.DdM(2,A)),t.xp6(1),t.Q6J("ngForOf",e.questions)}}function lt(n,i){1&n&&(t.TgZ(0,"ion-label",15),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4,"*"),t.qZA()()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"securityanswer")," "))}function gt(n,i){1&n&&(t.TgZ(0,"ion-item",12),t._UZ(1,"ion-input",51),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.s9C("placeholder",t.lcZ(2,1,"securityanswerPlcHldr")))}function pt(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.seqAns_req")))}function _t(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.seqAnsLength_req")))}function ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"p",15),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",10),t._uU(4," *"),t.qZA(),t.TgZ(5,"img",29),t.NdJ("click",function(s){t.CHM(e);const g=t.oxw(2);return t.KtG(g.openPopup2(s))}),t.qZA()()}2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Signup.secureword")," "))}function dt(n,i){1&n&&(t.TgZ(0,"ion-item",12),t._UZ(1,"ion-input",52),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.s9C("placeholder",t.lcZ(2,1,"Signup.secureword")))}function mt(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.secureword_req")))}function ht(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.minNewSecureWord")))}function ft(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.maxNewSecureWord")))}function xt(n,i){1&n&&(t.TgZ(0,"ion-label",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Thismaybeusedforautheticationpurpose")))}function vt(n,i){1&n&&(t.TgZ(0,"ion-label",54)(1,"span",10),t._uU(2,"*"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Allfieldsarecompulsory"),""))}function Ut(n,i){1&n&&(t.TgZ(0,"ion-row",55)(1,"ion-col",56),t._UZ(2,"ion-checkbox",57),t.qZA(),t.TgZ(3,"ion-col",58)(4,"ion-label"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",10),t._uU(8," *"),t.qZA()()()()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"termsandconditions")))}function Pt(n,i){1&n&&(t.TgZ(0,"div",30)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Signup.TandM_req")))}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",61),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.signUpUser())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!(e.signUpForm.controls.name.valid&&e.signUpForm.controls.email.valid&&e.signUpForm.controls.securityQuestion.valid&&e.signUpForm.controls.securityAns.valid&&e.signUpForm.controls.terms_and_conditions.value)),t.xp6(1),t.Oqu(t.lcZ(2,2,"submit"))}}function Zt(n,i){if(1&n&&(t.TgZ(0,"ion-row",59),t.YNc(1,Ct,3,4,"ion-button",60),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isValidUser)}}const M=function(n){return{darkInputText:n}};function Ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"form",8)(2,"p",9),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span",10),t._uU(6," *"),t.qZA(),t.YNc(7,F,1,0,"img",11),t.qZA(),t.TgZ(8,"ion-item",12),t._UZ(9,"ion-input",13),t.ALo(10,"translate"),t.qZA(),t.YNc(11,J,4,3,"div",14),t.YNc(12,L,4,3,"div",14),t.TgZ(13,"p",15),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span",10),t._uU(17," *"),t.qZA(),t.YNc(18,Q,1,0,"img",11),t.qZA(),t.TgZ(19,"ion-item",12),t._UZ(20,"ion-input",16),t.ALo(21,"translate"),t.qZA(),t.YNc(22,Y,4,3,"div",14),t.YNc(23,V,4,3,"div",14),t.TgZ(24,"ion-label",17),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.forgotPolicyNumber())}),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.YNc(27,E,5,3,"ion-label",18),t.YNc(28,z,7,0,"ion-row",19),t.YNc(29,R,4,3,"ion-item",20),t.YNc(30,j,4,3,"div",14),t.YNc(31,G,5,3,"ion-label",21),t.YNc(32,B,5,4,"ion-row",19),t.YNc(33,D,5,3,"ion-label",22),t.YNc(34,K,3,3,"ion-item",20),t.YNc(35,H,4,3,"div",14),t.YNc(36,X,4,3,"div",14),t.YNc(37,W,5,3,"ion-label",22),t.YNc(38,$,3,3,"ion-item",20),t.YNc(39,tt,3,3,"ion-label",23),t.YNc(40,nt,4,3,"div",14),t.YNc(41,et,4,3,"div",14),t.YNc(42,it,5,3,"ion-label",24),t.YNc(43,st,3,3,"ion-item",20),t.YNc(44,rt,5,3,"ion-label",22),t.YNc(45,ct,3,3,"ion-item",20),t.YNc(46,lt,5,3,"ion-label",22),t.YNc(47,gt,3,3,"ion-item",20),t.YNc(48,pt,4,3,"div",14),t.YNc(49,_t,4,3,"div",14),t.YNc(50,ut,6,3,"p",22),t.YNc(51,dt,3,3,"ion-item",20),t.YNc(52,mt,4,3,"div",14),t.YNc(53,ht,4,3,"div",14),t.YNc(54,ft,4,3,"div",14),t.YNc(55,xt,3,3,"ion-label",25),t.YNc(56,vt,5,3,"ion-label",26),t.YNc(57,Ut,9,3,"ion-row",27),t.YNc(58,Pt,4,3,"div",14),t.YNc(59,Zt,2,1,"ion-row",28),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.signUpForm),t.xp6(2),t.hij(" ",t.lcZ(4,49,"identitynumber")," "),t.xp6(4),t.Q6J("ngIf",!e.isValidUser),t.xp6(2),t.s9C("disabled",e.isValidUser),t.s9C("placeholder",t.lcZ(10,51,"newnricotheridentification")),t.Q6J("ngClass",t.VKq(59,M,e.isValidUser)),t.xp6(2),t.Q6J("ngIf",e.signUpForm.get("identityNumber").hasError("required")&&e.signUpForm.get("identityNumber").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("identityNumber").hasError("minlength")&&e.signUpForm.get("identityNumber").touched),t.xp6(2),t.hij("",t.lcZ(15,53,"policycontractnumber")," "),t.xp6(4),t.Q6J("ngIf",!e.isValidUser),t.xp6(2),t.s9C("disabled",e.isValidUser),t.s9C("placeholder",t.lcZ(21,55,"policycontractcertificatenumber")),t.Q6J("ngClass",t.VKq(61,M,e.isValidUser)),t.xp6(2),t.Q6J("ngIf",e.signUpForm.get("policyNo").hasError("required")&&e.signUpForm.get("policyNo").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("policyNo").hasError("minlength")&&e.signUpForm.get("policyNo").touched),t.xp6(2),t.Oqu(t.lcZ(26,57,"Signup.forgot_policy_text")),t.xp6(2),t.Q6J("ngIf",!e.isValidUser),t.xp6(1),t.Q6J("ngIf",!e.isValidUser),t.xp6(1),t.Q6J("ngIf",!e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("captcha").hasError("required")&&e.signUpForm.get("captcha").touched&&!e.isValidUser),t.xp6(1),t.Q6J("ngIf",!e.isValidUser),t.xp6(1),t.Q6J("ngIf",!e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("name").hasError("required")&&e.signUpForm.get("name").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("name").hasError("minlength")&&e.signUpForm.get("name").touched),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("email").hasError("required")&&e.signUpForm.get("email").touched),t.xp6(1),t.Q6J("ngIf",!e.signUpForm.get("email").hasError("required")&&e.signUpForm.get("email").hasError("pattern")&&e.signUpForm.get("email").touched),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("securityAns").hasError("required")&&e.signUpForm.get("securityAns").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("securityAns").hasError("minlength")&&e.signUpForm.get("securityAns").touched),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("secureword").hasError("required")&&e.signUpForm.get("secureword").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("secureword").hasError("minlength")&&e.signUpForm.get("secureword").touched),t.xp6(1),t.Q6J("ngIf",e.signUpForm.get("secureword").hasError("maxlength")&&e.signUpForm.get("secureword").touched),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",e.isValidUser),t.xp6(1),t.Q6J("ngIf",!1===e.signUpForm.controls.terms_and_conditions.value&&e.signUpForm.get("terms_and_conditions").touched),t.xp6(1),t.Q6J("ngIf",e.isValidUser)}}function At(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"section",62)(1,"div",63)(2,"div",64),t._UZ(3,"i",65),t.qZA(),t.TgZ(4,"p",66),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"p",66),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p",66),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"ion-row",67)(14,"ion-button",68),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.navigateToLogin())}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,4,"thankyou1")," "),t.xp6(3),t.hij(" ",t.lcZ(9,6,"thankyou2")," "),t.xp6(3),t.hij(" ",t.lcZ(12,8,"thankyou3")," "),t.xp6(4),t.Oqu(t.lcZ(16,10,"clickheretologin")))}const Mt=[{path:"",component:(()=>{class n{constructor(e,o,s,g,u,v,Tt,bt,Nt,wt,qt){this.formBuilder=e,this.securityQuesService=o,this.utils=s,this.translate=g,this.logger=u,this.popOverCtrl=v,this.signUpService=Tt,this.changeRef=bt,this.alertCtrl=Nt,this.router=wt,this.menuControl=qt,this.isValidUser=!1,this.isShowingLoader=!1,this.canTryAgain=!1,this.ShowIdentityReqError=!1,this.ShowIdentityLengthError=!1,this.str1="one",this.str2="two",this.str3="seven",this.requestForSecurityQuestions=function(){if(this.logger.trace("Security Questions--SignUp--start"),this.utils.isDeviceOnLine())this.securityQuesService.getSecurityQuestions().then(_=>{try{this.questions=_.responseJSON.array,this.signUpForm.controls.securityQuestion.setValue(this.questions[0].type,{onlySelf:!0}),this.getSocialPlatformlist()}catch(m){this.utils.dissmisProgressLoader();let l=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",l)}},_=>{this.utils.dissmisProgressLoader();let m=this.utils.handleServiceException(_);this.utils.showAlert("",m)});else{let _=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",_)}},this.signUpUser=function(){if(this.signUpForm.controls.name.valid&&this.signUpForm.controls.email.valid&&this.signUpForm.controls.securityAns.valid&&this.signUpForm.controls.terms_and_conditions.value&&this.signUpForm.controls.sourceofInfo.value&&this.signUpForm.controls.secureword.valid)if(this.utils.isDeviceOnLine())this.logger.trace("Post Registration Submit--SignUp--start"),this.utils.showProgressLoader(),this.signUpService.postRegistartionSubmit(this.signUpForm.controls.identityNumber.value,this.signUpForm.controls.policyNo.value,this.signUpForm.controls.name.value,this.signUpForm.controls.email.value,this.signUpForm.controls.sourceofInfo.value,this.signUpForm.controls.securityQuestion.value,this.signUpForm.controls.securityAns.value,this.signUpForm.controls.secureword.value,"No",this.signUpForm.controls.terms_and_conditions.value?"Yes":"No").then(p=>{try{this.utils.dissmisProgressLoader(),this.isRegistered=!0,p.responseJSON&&p.responseJSON.statusCode==h.OK?(this.errorMsg=p.responseJSON.userMessage||this.translate.instant("Signup.reg_success"),this.isSuccess=!0,this.showDialog("",this.errorMsg)):p.responseJSON&&p.responseJSON.statusCode==h.yI&&(this.errorMsg=p.responseJSON.userMessage||this.translate.instant("Signup.reg_success"),this.showDialog("",this.errorMsg))}catch(S){this.utils.dissmisProgressLoader(),this.isRegistered=!1;let Yt=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",Yt)}},p=>{this.utils.dissmisProgressLoader(),this.isRegistered=!1;let S=this.utils.handleServiceException(p);this.utils.showAlert("",S)});else{let p=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",p)}},this.checkUser=function(){if(this.signUpForm.controls.identityNumber.valid&&this.signUpForm.controls.policyNo.valid&&this.signUpForm.controls.captcha.valid){if(this.mainCaptcha.trim()!=this.signUpForm.controls.captcha.value.trim())return this.refreshCaptcha(),void this.utils.showAlert("",this.translate.instant("Signup.captcha_error"));if(this.logger.trace("Validate User--SignUp--start"),this.utils.isDeviceOnLine()){this.utils.showProgressLoader();var _=this.signUpForm.controls.identityNumber.value.trim(),m=this.signUpForm.controls.policyNo.value.trim();this.signUpService.postRegistartionCheck(_,m).then(l=>{try{if(l.responseJSON)if(l.responseJSON.statusCode==h.yI||l.responseJSON.statusCode==h.OK)this.isValidUser=!0,this.requestForSecurityQuestions();else{this.refreshCaptcha(),this.utils.dissmisProgressLoader(),this.isValidUser=!1;let d=l.responseJSON.message||l.responseJSON.userMessage||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",d)}else{this.refreshCaptcha(),this.utils.dissmisProgressLoader(),this.isValidUser=!1;let d=l.responseJSON.message||l.responseJSON.userMessage||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",d)}}catch(d){this.refreshCaptcha(),this.utils.dissmisProgressLoader(),this.isValidUser=!1;let Z=l.responseJSON.message||l.responseJSON.userMessage||this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",Z)}},l=>{this.refreshCaptcha(),this.utils.dissmisProgressLoader(),this.isValidUser=!1;let d=this.utils.handleServiceException(l);this.utils.showAlert("",d)})}else{let l=this.translate.instant("generic_msgs.network_err");this.utils.showAlert("",l)}}};let It=T.i.EMAIL_PATTERN;this.signUpForm=this.formBuilder.group({identityNumber:["",[r.kI.required,r.kI.minLength(3)]],policyNo:["",[r.kI.required,r.kI.minLength(3)]],captcha:["",r.kI.required],name:["",[r.kI.required,r.kI.minLength(3)]],email:["",[r.kI.required,r.kI.pattern(It)]],sourceofInfo:["",r.kI.required],securityQuestion:["",r.kI.required],securityAns:["",[r.kI.required,r.kI.minLength(1)]],secureword:["",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(10)]],terms_and_conditions:[{value:!0,disabled:!1}]}),this.isValidUser=!1,this.isRegistered=!1}ngOnInit(){console.log("1")}ionViewDidEnter(){this.menuControl.enable(!0,"first"),this.utils.component.emit(y.c.SIGN_UP)}getSocialPlatformlist(){this.utils.isDeviceOnLine()?this.securityQuesService.getSocialData().then(e=>{try{e.responseJSON&&200==e.status?(this.socialPlatforms=e.responseJSON.registrationData.socialPlatforms,this.signUpForm.controls.sourceofInfo.setValue(this.socialPlatforms[0].type,{onlySelf:!0}),this.utils.dissmisProgressLoader()):(this.utils.dissmisProgressLoader(),this.logger.error("GET Banks list: "+JSON.stringify(e)),this.errorMsg=this.translate.instant("generic_msgs.server_err"))}catch(o){this.isShowingLoader=!1,this.canTryAgain=!0,this.logger.error("get banks catch eror : "+JSON.stringify(o)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},e=>{this.isShowingLoader=!1,this.errorMsg=this.utils.handleServiceException(e)}):(this.isShowingLoader=!1,this.canTryAgain=!0,this.logger.error("Get Banks generic_msgs.network_err"),this.errorMsg=this.translate.instant("generic_msgs.network_err"))}navigateToLogin(){this.router.navigate(["/login-first"])}ngAfterViewInit(){this._CANVAS=this.canvasEl.nativeElement,this._CANVAS.height=48,this._CANVAS.width=200,this.initialiseCanvas()}initialiseCanvas(){this._CANVAS.getContext&&this.setupCanvas()}setupCanvas(){var o,e=new Array("A","B","C","D","E","F","G","H","J","K","M","N","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","j","k","m","n","p","q","r","s","t","u","v","w","x","y","z"),s="";for(o=0;o<6;o++)s=s+e[this.utils.getRandomInt()]+"";this.mainCaptcha=s,this._CONTEXT=this._CANVAS.getContext("2d"),this._CONTEXT.fillStyle="white",this._CONTEXT.clearRect(0,0,this._CANVAS.width,this._CANVAS.height),this._CONTEXT.font="15px Arial",this._CONTEXT.textAlign="center",this._CONTEXT.fillText(s,100,30)}refreshCaptcha(){this.captchIn._isFocus=!1,this.signUpForm.controls.captcha.reset(),this.signUpForm.controls.captcha.markAsUntouched(),this.signUpForm.controls.captcha.markAsPristine(),this.signUpForm.controls.captcha.updateValueAndValidity(),this.setupCanvas()}keyUpChecker(e){let o=e.target.value;new RegExp("[A-Za-z]").test(o)||(e.target.value=o.slice(0,-1))}openPopup(e){var o=this;return(0,x.Z)(function*(){yield(yield o.popOverCtrl.create({component:C.j,showBackdrop:!1,event:e,componentProps:{msg:o.str1},cssClass:"custom-popover"})).present()})()}openPopup1(e){var o=this;return(0,x.Z)(function*(){yield(yield o.popOverCtrl.create({component:C.j,showBackdrop:!1,event:e,componentProps:{msg:o.str2},cssClass:"custom-popover"})).present()})()}openPopup2(e){var o=this;return(0,x.Z)(function*(){yield(yield o.popOverCtrl.create({component:C.j,showBackdrop:!1,event:e,componentProps:{msg:o.str3},cssClass:"custom-popover"})).present()})()}forgotPolicyNumber(){var e=this.signUpForm.controls.identityNumber.value;if(e){if(e.length>2){this.utils.showProgressLoader();var s="AOS";"ios"==this.utils.getPlatform()&&(s="IOS"),this.signUpService.postForgotPolicyNumber(e,!1,s).then(g=>{try{g.responseJSON&&g.responseJSON.statusCode==h.yI&&(this.errorMsg=g.responseJSON.userMessage,this.utils.dissmisProgressLoader(),this.showDialog("",this.errorMsg))}catch(u){this.utils.dissmisProgressLoader(),this.isRegistered=!1;let v=this.translate.instant("generic_msgs.server_err");this.presentAlert("",v)}},g=>{this.utils.dissmisProgressLoader(),this.isRegistered=!1;let u=this.utils.handleServiceException(g);this.presentAlert("",u)})}}else this.errorMsg=this.translate.instant("Signup.identityNo_req"),this.showDialog("",this.errorMsg)}showDialog(e,o){this.alertCtrl.create({header:e,message:o,buttons:[{text:"Ok",cssClass:"alertbutton"}]}).then(u=>u.present())}presentAlert(e,o,s,g){var u=this;return(0,x.Z)(function*(){(yield u.alertCtrl.create({message:e,buttons:["ok"]})).present()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(b.z),t.Y36(N.f),t.Y36(U.sK),t.Y36(w.U),t.Y36(a.Dh),t.Y36(q.i),t.Y36(t.sBO),t.Y36(a.Br),t.Y36(P.F0),t.Y36(a._q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sign-up"]],viewQuery:function(e,o){if(1&e&&(t.Gf(I,5),t.Gf(k,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.canvasEl=s.first),t.iGM(s=t.CRH())&&(o.captchIn=s.first)}},decls:9,vars:5,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start","auto-hide","false","color","secondary"],[1,"bold-font"],[1,"text_color_base","padding_15","ion-padding"],["class","white_container_border_radius padding_15",4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"white_container_border_radius","padding_15"],[1,"padding_15",3,"formGroup"],["stacked","","clear",""],[1,"mandatory_star"],["src","../../../assets/imgs/circle-question-solid.svg","alt","...","style","width: 15px; float: right;",3,"click",4,"ngIf"],["lines","none",1,"border"],["restrict-input","","restrictInput","alphanumeric","amaxlength","40","type","text","formControlName","identityNumber",3,"disabled","placeholder","ngClass"],["class","errPosition",4,"ngIf"],["stacked",""],["restrict-input","","restrictInput","alphanumeric","amaxlength","40","formControlName","policyNo",3,"disabled","placeholder","ngClass"],[1,"forgotPolicyLink",3,"click"],["stacked","","class","label",4,"ngIf"],[4,"ngIf"],["lines","none","class","border",4,"ngIf"],["class","mandatoryText",4,"ngIf"],["stacked","",4,"ngIf"],["class","italic_font",4,"ngIf"],["style","display: block;margin-top: 20px;","stacked","","class","longtextLable",4,"ngIf"],["style","display: block;","class","italic_font",4,"ngIf"],["style","margin-top:20px","class","italic_font",4,"ngIf"],["style","margin-top:10px;","class","terms_conditions flex",4,"ngIf"],["ion-text-center","",4,"ngIf"],["src","../../../assets/imgs/circle-question-solid.svg","alt","...",2,"width","15px","float","right",3,"click"],[1,"errPosition"],["stacked","",1,"label"],["size","10"],[1,"canvas_background"],["canvas",""],[2,"margin-top","17px"],["size","2",1,"canvas_background","padding_15",3,"click"],[1,"fas","fa-redo-alt","refreshiconsize"],["restrict-input","","restrictInput","alphanumeric","formControlName","captcha",3,"placeholder"],["captchInput",""],[1,"mandatoryText"],["size","6","ion-text-center","","offset","3",1,"subBtn"],[1,"btn_center1",3,"disabled","click"],["restrict-input","","restrictInput","name","amaxlength","100","formControlName","name",3,"placeholder"],["type","email","restrict-input","","restrictInput","username","formControlName","email",3,"placeholder"],[1,"italic_font"],["stacked","",1,"longtextLable",2,"display","block","margin-top","20px"],["slot","start","mode","ios","interface","popover","interface","popover","formControlName","sourceofInfo",3,"interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","start","mode","ios","interface","popover","formControlName","securityQuestion",3,"interfaceOptions"],["restrict-input","","restrictInput","alphanumericwithspace","amaxlength","50","formControlName","securityAns",3,"placeholder"],["restrict-input","","restrictInput","alphanumericwithspace","amaxlength","10","type","text","formControlName","secureword",3,"placeholder"],[1,"italic_font",2,"display","block"],[1,"italic_font",2,"margin-top","20px"],[1,"terms_conditions","flex",2,"margin-top","10px"],["size","1",2,"padding-top","10px"],["mode","md","formControlName","terms_and_conditions"],["size","11"],["ion-text-center",""],["ion-button","","class","btn_center",3,"disabled","click",4,"ngIf"],["ion-button","",1,"btn_center",3,"disabled","click"],[1,"ion-padding"],["ion-text-center","",1,"white_container_border_radius","ion-padding"],["ion-text-center","",1,"tick_icon"],[1,"fas","fa-check-circle"],[1,"center"],["text-center",""],["ion-button","",1,"btn_center",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),t._UZ(2,"ion-menu-button",2),t.TgZ(3,"ion-title",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"ion-content",4),t.YNc(7,Ot,60,63,"div",5),t.YNc(8,At,17,12,"section",6),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,3,"newuser")," "),t.xp6(3),t.Q6J("ngIf",!o.isRegistered),t.xp6(1),t.Q6J("ngIf",o.isRegistered))},dependencies:[f.mk,f.sg,f.O5,r._Y,r.JJ,r.JL,a.YG,a.nz,a.wI,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.fG,a.Nd,a.t9,a.n0,a.wd,a.sr,a.w,a.QI,a.j9,r.sg,r.u,U.X$],styles:["ion-content[_ngcontent-%COMP%]{--background: url(/../assets/imgs/register_bg.jpg) no-repeat center center / cover}ion-content[_ngcontent-%COMP%]   .white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}ion-content[_ngcontent-%COMP%]   .text_color_base[_ngcontent-%COMP%]{color:--ion-color-secondary!important}ion-content[_ngcontent-%COMP%]   .padding_15[_ngcontent-%COMP%]{padding:15px!important}ion-content[_ngcontent-%COMP%]   .mandatory_star[_ngcontent-%COMP%]{color:red}ion-content[_ngcontent-%COMP%]   .errPosition[_ngcontent-%COMP%]{margin-top:4px}ion-content[_ngcontent-%COMP%]   .btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;min-height:45px;width:100%!important;font-family:Agenda-Regular!important}ion-content[_ngcontent-%COMP%]   .btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px !important;min-width:200px;margin-left:-31px;min-height:45px;width:100%!important;font-family:Agenda-Regular!important}ion-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-left:0;background:transparent}ion-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-input.ng-valid.item-input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .item.item-input.ng-valid.input-has-value[_ngcontent-%COMP%]:not(.input-has-focus):not(.item-input-has-focus)   .item-inner[_ngcontent-%COMP%]{border-bottom-color:none!important;box-shadow:none!important}ion-content[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0!important;border-bottom:none!important}ion-content[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid #eee;padding-right:0;background:white}ion-content[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border:1px solid #e0e0e0;margin-bottom:10px}ion-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.2rem!important;color:--ion-color-secondary!important;font-weight:400}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem}ion-content[_ngcontent-%COMP%]   .italic_font[_ngcontent-%COMP%]{font-style:italic;font-family:Open Sans,sans-serif;color:--ion-color-secondary!important;font-size:13px;margin-bottom:10px;margin-top:10px;line-height:24px}ion-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}ion-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:25px;padding:0 10px;font-size:1.5 rem}ion-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin:0 10px 0 0!important}ion-content[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{border-width:1px!important}ion-content[_ngcontent-%COMP%]   .checkbox-checked[_ngcontent-%COMP%]{border-color:var(--ion-color-secondary)!important;background-color:#fff!important}ion-content[_ngcontent-%COMP%]   .tick_icon[_ngcontent-%COMP%]{font-size:3rem;margin-top:-60px!important;color:--ion-color-secondary;padding:15px;text-align:center}ion-content[_ngcontent-%COMP%]   .padding_40[_ngcontent-%COMP%]{padding:40px}ion-content[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{display:none!important}ion-content[_ngcontent-%COMP%]   .canvas_background[_ngcontent-%COMP%]{text-align:center;background-color:var(--ion-color-secondary);color:#fff}ion-content[_ngcontent-%COMP%]   .item-cover[_ngcontent-%COMP%]{display:none}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right!important;pointer-events:auto;padding:5px}ion-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Agenda-Regular;color:--ion-color-secondary;font-size:17px;margin-bottom:5px;margin-top:10px;line-height:1.42857143}ion-content[_ngcontent-%COMP%]   .mandatoryText[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:--ion-color-secondary;font-size:13px;margin-bottom:10px;margin-top:10px;line-height:24px}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.85em}ion-content[_ngcontent-%COMP%]   .text-input-md[_ngcontent-%COMP%]{padding:0;width:calc(100% - 16px);min-height:45px;margin:0!important}ion-content[_ngcontent-%COMP%]   .canvasrow[_ngcontent-%COMP%]{margin-top:5px}ion-content[_ngcontent-%COMP%]   .captcha[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-right:0!important}ion-content[_ngcontent-%COMP%]   .refreshiconsize[_ngcontent-%COMP%]{font-size:.85em!important}ion-content[_ngcontent-%COMP%]   .longtextLable[_ngcontent-%COMP%]{white-space:normal!important}ion-content[_ngcontent-%COMP%]   .darkInputText[_ngcontent-%COMP%]{color:#000;font-weight:700}ion-content[_ngcontent-%COMP%]   .forgotPolicyLink[_ngcontent-%COMP%]{font-size:.9rem!important;margin-top:5px;margin-bottom:20px;display:block;text-decoration:underline;white-space:unset}@media only screen and (max-width: 374px){ion-content[_ngcontent-%COMP%]   .subBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:15px!important;height:45px;letter-spacing:1px;line-height:45px;padding:0 10px;text-transform:capitalize;width:100%;border-radius:10px;font-family:Agenda-Regular}}ion-content[_ngcontent-%COMP%]   .coll[_ngcontent-%COMP%]{background-color:#002d3d;color:#fff;text-align:center}ion-content[_ngcontent-%COMP%]   .width-height[_ngcontent-%COMP%]{width:100%;height:55%}ion-content[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center}ion-content[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background-checked:none !important;--border-color-checked:none !important}ion-content[_ngcontent-%COMP%]     .mycomponent-wider-popover{--width: 95%;--max-width: 400px}ion-content[_ngcontent-%COMP%]   .alertbutton[_ngcontent-%COMP%]{justify-content:center!important;text-align:center;align-items:center}ion-content[_ngcontent-%COMP%]   .alert-button-inner.sc-ion-alert-md[_ngcontent-%COMP%]{justify-content:center!important}ion-content[_ngcontent-%COMP%]   .my-custom-class[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{justify-content:center!important}ion-content[_ngcontent-%COMP%]   .sc-ion-input-md-h[_ngcontent-%COMP%]{--padding-top: 4px}ion-content[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center;white-space:pre-wrap}"]}),n})()}];let St=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[P.Bz.forChild(Mt),P.Bz]}),n})(),yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,r.u5,a.Pc,St,U.aw,r.UX]}),n})()}}]);