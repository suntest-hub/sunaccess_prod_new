"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4232],{74232:(j,m,r)=>{r.r(m),r.d(m,{ServicePageModule:()=>R});var h=r(54463),d=r(36895),C=r(24006),c=r(48058),p=r(64228),x=r(65414),u=r(43485),f=r(22727),v=r(77636),e=r(98274),y=r(78785),T=r(26475),M=r(53025),O=r(45340),w=r(9999),Z=r(11481);const N=["Content"];function b(t,s){1&t&&e._UZ(0,"ion-icon",15)}function L(t,s){1&t&&e._UZ(0,"ion-icon",16)}function A(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"ion-row",18),e.NdJ("click",function(){const l=e.CHM(i).$implicit,a=e.oxw(4);return e.KtG(a.navToUpdateService(l.pageName))}),e.TgZ(2,"ion-col",19),e._UZ(3,"i",20),e.qZA(),e.TgZ(4,"ion-col",21),e._UZ(5,"ion-label",22),e.qZA(),e.TgZ(6,"ion-col",23),e._UZ(7,"i",24),e.qZA()()()}if(2&t){const i=s.$implicit;e.xp6(3),e.Tol(i.iconName),e.xp6(2),e.Q6J("innerHTML",i.title,e.oJD)}}function k(t,s){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,A,8,3,"div",8),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.subItems)}}function U(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div",17)(1,"ion-row",25),e._UZ(2,"ion-col",19),e.TgZ(3,"ion-col",21)(4,"ion-label",26),e._uU(5,"Please click "),e.TgZ(6,"a",27),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(3);return e.KtG(o.goToClaim())}),e.TgZ(7,"u"),e._uU(8,"here"),e.qZA()(),e._uU(9," for the claim process."),e.qZA()(),e.TgZ(10,"ion-col",28),e._UZ(11,"i",24),e.qZA()()()}}function J(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-list")(1,"ion-row",10)(2,"ion-item",11),e.NdJ("click",function(o){const a=e.CHM(i).$implicit,_=e.oxw(2);return e.KtG(_.expandItem(a,o))}),e._uU(3),e.YNc(4,b,1,0,"ion-icon",12),e.YNc(5,L,1,0,"ion-icon",13),e.qZA()(),e.YNc(6,k,2,1,"div",14),e.YNc(7,U,12,0,"div",14),e.qZA()}if(2&t){const i=s.$implicit;e.xp6(3),e.hij("",i.title," "),e.xp6(1),e.Q6J("ngIf",!i.expanded),e.xp6(1),e.Q6J("ngIf",i.expanded),e.xp6(1),e.Q6J("ngIf",i.expanded&&"Claims"!==i.title&&"Can not find a service?"!==i.name),e.xp6(1),e.Q6J("ngIf",i.expanded&&"Claims"===i.title)}}function D(t,s){1&t&&e._UZ(0,"ion-icon",15)}function F(t,s){1&t&&e._UZ(0,"ion-icon",16)}function I(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div",17)(1,"div")(2,"ion-row",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.navToUpdateService(o.subItems[0].pageName))}),e.TgZ(3,"ion-col",19),e._UZ(4,"i"),e.qZA(),e.TgZ(5,"ion-col",21),e._UZ(6,"ion-label",22),e.qZA(),e.TgZ(7,"ion-col",23),e._UZ(8,"i",24),e.qZA()(),e.TgZ(9,"ion-row",18),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.navToUpdateService(o.subItems[1].pageName))}),e.TgZ(10,"ion-col",19),e._UZ(11,"i"),e.qZA(),e.TgZ(12,"ion-col",21),e._UZ(13,"ion-label",22),e.qZA(),e.TgZ(14,"ion-col",23),e._UZ(15,"i",24),e.qZA()()()()}if(2&t){const i=e.oxw().$implicit;e.xp6(4),e.Tol(i.subItems[0].iconName),e.xp6(2),e.Q6J("innerHTML",i.subItems[0].title,e.oJD),e.xp6(5),e.Tol(i.subItems[1].iconName),e.xp6(2),e.Q6J("innerHTML",i.subItems[1].title,e.oJD)}}function z(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"div",17)(1,"ion-row",31),e._UZ(2,"ion-col",19),e.TgZ(3,"ion-col",21)(4,"ion-label",32),e._uU(5,"Check "),e.TgZ(6,"span",33),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(3);return e.KtG(o.goToClientCare())}),e._uU(7,"here"),e.qZA(),e._uU(8," for physical submission process or Call us at "),e.TgZ(9,"a",34),e._uU(10,"1300-88-5055"),e.qZA(),e._uU(11," or email "),e.TgZ(12,"a",35),e._uU(13,"wecare@sunlifemalaysia.com"),e.qZA(),e._uU(14,"."),e.qZA()(),e.TgZ(15,"ion-col",28),e._UZ(16,"i",24),e.qZA()()()}}function q(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"ion-list",29)(1,"ion-row",10)(2,"ion-item",11),e.NdJ("click",function(){const l=e.CHM(i).$implicit,a=e.oxw(2);return e.KtG(a.expandItemSecnd(l))}),e._uU(3),e.YNc(4,D,1,0,"ion-icon",12),e.YNc(5,F,1,0,"ion-icon",13),e.qZA()(),e.YNc(6,I,16,6,"div",30),e.YNc(7,z,17,0,"div",14),e.qZA()}if(2&t){const i=s.$implicit;e.xp6(3),e.hij(" ",i.title," "),e.xp6(1),e.Q6J("ngIf",!i.expanded),e.xp6(1),e.Q6J("ngIf",i.expanded),e.xp6(1),e.Q6J("ngIf",i.expanded&&"History"===i.title),e.xp6(1),e.Q6J("ngIf",i.expanded&&"Can not find a service?"===i.name)}}function Y(t,s){if(1&t&&(e.TgZ(0,"section",6)(1,"div",7),e.YNc(2,J,8,5,"ion-list",8),e.qZA(),e.TgZ(3,"div"),e.YNc(4,q,8,5,"ion-list",9),e.qZA()()),2&t){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.policyServiceOptions),e.xp6(2),e.Q6J("ngForOf",i.policyServiceSecond)}}const Q=[{path:"",component:(()=>{class t{constructor(i,n,o,l,a,_,G,$,K,B,V,W){this.policyListSrvc=i,this.UpdatePersonalService=n,this.router=o,this.utils=l,this.translateConfigService=a,this.logger=_,this.alertCtrl=G,this.config=$,this.translate=K,this._DomSanitizer=B,this.menuCtrl=V,this.platform=W,this.policyServiceOptions=[{title:"Update/change personal details",subItems:[{title:"Update Personal Details",pageName:"/update-personal-details",iconName:"fas fa-id-card font_size_20"},{title:"Update Card Details",pageName:"/update-card",iconName:"fas fa-credit-card font_size_20"},{title:"Update Payout Details",pageName:"/update-payout-details",iconName:"fas fa-wallet font_size_20"}]},{title:"Make a service request",subItems:[{title:"E-Nomination",pageName:"/e-nomination",iconName:"fas fa-file-signature font_size_20"},{title:"Fund Switching",pageName:"/fund-switching",iconName:"fas fa-exchange-alt font_size_20"},{title:"Partial withdrawal",pageName:"/partial-withdrawl",iconName:"fas fa-credit-card font_size_20"},{title:"Premium/Contribution redirection",pageName:"/premium-redirection",iconName:"fas fa-random font_size_20"},{title:"Reinstatement",pageName:"/reinstatement",iconName:"fas fa-scroll font_size_20"},{title:"Surrender / Cancellation",pageName:"/surrender-cancel",iconName:"fas fa-hand-holding-usd font_size_20"},{title:"Top-up",pageName:"/top-up",iconName:"fas fa-level-up-alt font_size_20"},{title:"Other Service Requests",pageName:"/other-services",iconName:"fas fa-plus-circle font_size_20"}]},{title:"Claims",subItems:[{title:'Please click  <span class="claim-link" (click)="goToClaim()">here</span> for the claim process.',pageName:"/claims"}]}],this.policyServiceSecond=[{title:"History",subItems:[{title:"Online Transactions History",pageName:"/payment-history",iconName:"fas fa-file-invoice-dollar font_size_20"},{title:"Service Request History",pageName:"/service-history",iconName:"fas fa-clipboard-check font_size_20"}]},{title:"Can't find a service?",name:"Can not find a service?",subItems:[{title:'Check <span class="clientCare-link" (click)="goToClientCare()">here</span> for physical submission process or Call us at  <a href="tel:1300-88-5055">1300-88-5055</a>  or email <a href="mailto:wecare@sunlifemalaysia.com" target="_blank">wecare@sunlifemalaysia.com</a>.'}]}],this.introJS=(0,v.Z)(),this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en"),this.comingFromAppTour=history.state.comingFromAppTour,this.comingFromAppTour&&(this.expandItemSecnd(this.policyServiceSecond[0]),setTimeout(()=>{var g=(0,v.Z)(),P=this.menuCtrl,S=this.utils;g.setOptions({doneLabel:"Next",hidePrev:!0,steps:[{element:document.querySelector(".dataServiceMenu1"),intro:"<h4>Submit service request</h4> <p>Update and make changes to your plan remotely. Click \u2018Make a service request\u2019 to view the available services.<p/>"},{element:document.querySelector(".dataServiceMenu2"),intro:"<h4>Review your previous transactions</h4> <p>Track the history of your submitted service requests.<p/>"}]}),g.onexit(function(){0==this._currentStep&&(P.open(),S.publishSomeData({event:"comingFromServiceAppTour",data:!0}))}),g.oncomplete(function(){P.open(),S.publishSomeData({event:"comingFromServiceAppTour",data:!0})}),g.start()},500))}ngOnInit(){this.utils.showProgressLoader(),this.getPolicyList(),this.getAlterationPDFPath()}ionViewDidLoad(){this.logger.log("ionViewDidLoad PolicyServicingPage")}ionViewWillEnter(){this.utils.component.emit(x.c.SERVICE_DETAILS)}navToUpdateService(i){console.log("pageName",i),"/surrender-cancel"==i||"/partial-withdrawl"==i||"/fund-switching"==i||"/top-up"==i||"/premium-redirection"==i?this.config.policyList.length>0?this.router.navigate([i]):this.showDialog("",'There are no active policies identified. Service request cannot be submitted. For more clarification, please contact Client Careline <a href="tel:1300-88-5055">1300-88-5055</a> or email <a href="mailto:wecare@sunlifemalaysia.com">wecare@sunlifemalaysia.com</a>.'):"/e-nomination"==i?this.navToENomination():"/claims"==i?console.log("ClaimsPage"):"/reinstatement"==i?(this.config.policyList.length>0&&this.reinstatemnetPossible&&this.config.lapsedPolicy.length>0?this.router.navigate([i]):this.showDialog("",'There are no lapsed policies. Service request cannot be submitted. For more clarification, please contact Client Careline <a href="tel:1300-88-5055">1300-88-5055</a> or email <a href="mailto:wecare@sunlifemalaysia.com">wecare@sunlifemalaysia.com</a>.'),console.log("ClaimsPage")):this.router.navigate([i])}expandItem(i,n){this.policyServiceOptions.map(o=>(i==o?setTimeout(()=>{o.expanded=!o.expanded},100):setTimeout(()=>{o.expanded=!1},150),o))}expandItemSecnd(i){this.policyServiceSecond.map(n=>(i==n?setTimeout(()=>{n.expanded=!n.expanded},100):setTimeout(()=>{n.expanded=!1},150),n))}getPolicyList(){this.utils.isDeviceOnLine()?(this.utils.showProgressLoader(),setTimeout(()=>{this.utils.dissmisProgressLoader()},500),this.policyListSrvc.getPolicyList(this.utils.getUserIdentity()).then(i=>{try{if(i.responseJSON&&i.responseJSON.statusCode==f.OK){if(this.config.policyList=i.responseJSON.array,this.config.lapsedPolicy=[],this.config.policyList.length>0){console.log("this.config.policyList",this.config.policyList);for(var n=0;n<this.config.policyList.length;n++)("Lapsed"==this.config.policyList[n].policyStatus||"Lapse"==this.config.policyList[n].policyStatus)&&(this.reinstatemnetPossible=!0,this.config.lapsedPolicy.push(this.config.policyList[n]),console.log(this.config.lapsedPolicy))}}else{let o=i.responseJSON.message||i.responseJSON.userMessage||this.translate.instant("generic_msgs.server_err");this.showDialog("",o)}}catch(o){this.utils.dissmisProgressLoader(),this.logger.error("loginSuccess catch eror : "+JSON.stringify(o)),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.showDialog("",this.errorMsg)}},i=>{this.utils.dissmisProgressLoader(),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.showDialog("",this.errorMsg)})):(this.utils.dissmisProgressLoader(),this.errorMsg=this.translate.instant("generic_msgs.network_err"),this.showDialog("",this.errorMsg))}getAlterationPDFPath(){this.utils.isDeviceOnLine()?(this.utils.showProgressLoader(),this.UpdatePersonalService.getAlterationPDFLink().then(i=>{try{i.responseJSON&&i.responseJSON.statusCode==f.OK&&(this.config.alterationRequestFormLink=i.responseJSON.link)}catch(n){this.utils.dissmisProgressLoader(),this.logger.error("loginSuccess catch eror : "+JSON.stringify(n)),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.showDialog("",this.errorMsg)}},i=>{this.utils.dissmisProgressLoader(),this.errorMsg=this.translate.instant("generic_msgs.server_err"),this.showDialog("",this.errorMsg)})):(this.utils.dissmisProgressLoader(),this.errorMsg=this.translate.instant("generic_msgs.network_err"),this.showDialog("",this.errorMsg))}showDialog(i,n){this.alertCtrl.create({header:i,message:n,buttons:[{text:"ok",handler:()=>{}}]}).then(a=>a.present())}goToClaim(){this.router.navigate(["/claims"])}goToClientCare(){this.utils.openLink("https://www.sunlifemalaysia.com/client-care/make-a-service-request/insurance/")}navToENomination(){if(this.utils.isDeviceOnLine())this.utils.showProgressLoader(),this.getEnominationPath().then(i=>{try{this.platform.is("ios")?this.utils.openLink(i.responseJSON.url):this.utils.openLinkEnominationInAndroid(i.responseJSON.url),this.menuCtrl.close(),this.utils.dissmisProgressLoader()}catch(n){this.utils.dissmisProgressLoader(),this.menuCtrl.close();let o=this.translate.instant("generic_msgs.server_err");this.utils.showAlert("",o)}},i=>{this.showServiceError(i)});else{let i=this.translate.instant("generic_msgs.network_err");this.showError(i)}}getEnominationPath(){this.logger.trace("App.component--eNominationService--start");let i=new Promise((n,o)=>{try{var l=new WLResourceRequest(u.i.getEnominationlinkAdapterPath,WLResourceRequest.GET);l.setQueryParameter("params",[this.utils.getUserIdentity(),this.utils.getToken()]),l.send().then(a=>{n(a)},a=>{this.logger.error("App.component--eNominationService Adapter calling error:"+JSON.stringify(a)),o(a)})}catch(a){o(a),this.logger.log("App.component--eNominationService adapter calling catch error:"+JSON.stringify(a))}});return this.logger.trace("App.component--eNominationService--end"),i}showServiceError(i){this.utils.dissmisProgressLoader(),this.menuCtrl.close();let n=this.utils.handleServiceException(i);this.utils.showAlert("",n)}showError(i){this.utils.dissmisProgressLoader(),this.utils.showAlert("",i)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(y.r),e.Y36(T.Y),e.Y36(p.F0),e.Y36(M.f),e.Y36(O.w),e.Y36(w.U),e.Y36(c.Br),e.Y36(u.i),e.Y36(h.sK),e.Y36(Z.H7),e.Y36(c._q),e.Y36(c.t4))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-service"]],viewQuery:function(i,n){if(1&i&&e.Gf(N,5),2&i){let o;e.iGM(o=e.CRH())&&(n.content=o.first)}},decls:7,vars:1,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start","auto-hide","false","color","secondary"],[1,"bold-font"],["no-bounce","",1,"app_bg2","text_color_base","ion-padding"],["class","white_container_border_radius padding_15 ",4,"ngIf"],[1,"white_container_border_radius","padding_15"],[1,"dataServiceMenu1"],[4,"ngFor","ngForOf"],["class","dataServiceMenu2",4,"ngFor","ngForOf"],[2,"display","block"],[1,"font_size_14",3,"click"],["style","color:black","slot","end","name","chevron-forward-outline",4,"ngIf"],["style","color:black","slot","end","name","chevron-down-outline",4,"ngIf"],["class","accordianContent",4,"ngIf"],["slot","end","name","chevron-forward-outline",2,"color","black"],["slot","end","name","chevron-down-outline",2,"color","black"],[1,"accordianContent"],[2,"padding-left","10px",3,"click"],["size","1","text-center","",1,"margin_top_bottom_auto"],[2,"font-size","1rem"],["size","9",1,"margin_top_bottom_auto"],[1,"label-margin",2,"display","flex",3,"innerHTML"],["size","2","text-center","",1,"margin_top_bottom_auto",2,"padding-left","15px"],[1,"fas","fa-angle-right","font_size_20"],[2,"padding-left","10px"],[1,"label-margin"],[2,"color","#6095c9",3,"click"],["size","2","text-center","",1,"margin_top_bottom_auto"],[1,"dataServiceMenu2"],["class","accordianContent ",4,"ngIf"],[2,"display","block","padding-left","10px"],[1,"label-margin",2,"display","block"],[1,"clientCare-link",3,"click"],["href","tel:1300-88-5055",2,"color","#6095c9"],["href","mailto:wecare@sunlifemalaysia.com","target","_blank",2,"color","#6095c9"]],template:function(i,n){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"ion-menu-button",2),e.TgZ(3,"ion-title",3),e._uU(4,"Services "),e.qZA()()(),e.TgZ(5,"ion-content",4),e.YNc(6,Y,5,2,"section",5),e.qZA()),2&i&&(e.xp6(6),e.Q6J("ngIf",n.policyServiceOptions.length>0))},dependencies:[d.sg,d.O5,c.wI,c.W2,c.Gu,c.gu,c.Ie,c.Q$,c.q_,c.fG,c.Nd,c.wd,c.sr],styles:[".white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important}.padding_15[_ngcontent-%COMP%]{padding:15px}.margin_top_bottom_auto[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}.font_size_14[_ngcontent-%COMP%]{font-size:.9rem!important}.label-margin[_ngcontent-%COMP%]{margin-left:13%}.font_size_20[_ngcontent-%COMP%]{font-size:1.2rem!important}ion-list[_ngcontent-%COMP%]{margin:0!important;padding:0 8px}ion-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 8px!important}ion-list[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0!important}ion-list[_ngcontent-%COMP%]:last-child   .accordianContent[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]:nth-child(4)   .accordianContent[_ngcontent-%COMP%]{font-size:.9rem!important}ion-list[_ngcontent-%COMP%]:last-child   .accordianContent[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]:nth-child(4)   .accordianContent[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:8px 0;white-space:normal}ion-list[_ngcontent-%COMP%]:last-child   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child, ion-list[_ngcontent-%COMP%]:nth-child(4)   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child{display:none}ion-list[_ngcontent-%COMP%]:last-child   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child, ion-list[_ngcontent-%COMP%]:nth-child(4)   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child{display:none}ion-list[_ngcontent-%COMP%]:last-child   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2), ion-list[_ngcontent-%COMP%]:nth-child(4)   .accordianContent[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2){flex:100%;max-width:100%;width:100%}.claim-link[_ngcontent-%COMP%], .clientCare-link[_ngcontent-%COMP%]{cursor:pointer;color:#337ab7;text-decoration:underline}.list-md[_ngcontent-%COMP%]{background:none!important;color:#002d3d}"]}),t})()}];let H=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(Q),p.Bz]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,C.u5,c.Pc,h.aw,H]}),t})()}}]);