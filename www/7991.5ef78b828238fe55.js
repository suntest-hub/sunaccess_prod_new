"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7991],{67991:(U,u,a)=>{a.r(u),a.d(u,{PaymentRecordsPageModule:()=>S});var l=a(54463),g=a(36895),h=a(24006),i=a(48058),d=a(64228),f=a(22727),t=a(98274),_=a(45340),y=a(92126),P=a(9999),b=a(53025),x=a(43485);function R(n,o){1&n&&(t.TgZ(0,"section",13),t._UZ(1,"ion-spinner",14),t.qZA())}function v(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.getPaymentRecords())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"generic_msgs.try_again"),""))}function C(n,o){if(1&n&&(t.TgZ(0,"section",15)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,v,3,3,"ion-button",16),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.errorMsg),t.xp6(1),t.Q6J("ngIf",e.canTryAgain)}}function M(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-icon",26),t.NdJ("tap",function(s){t.CHM(e);const p=t.oxw().$implicit,m=t.oxw(2);return t.KtG(m.openPopup(s,p.unsuccessfulReason))}),t._UZ(1,"i",27),t.qZA()}}const O=function(n,o){return{odd:n,even:o}};function Z(n,o){if(1&n&&(t.TgZ(0,"ion-row",21)(1,"ion-col",22)(2,"div"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col",22)(5,"div",23),t._uU(6),t.qZA(),t.YNc(7,M,2,0,"ion-icon",24),t.qZA(),t.TgZ(8,"ion-col",25)(9,"div"),t._uU(10),t.qZA()()()),2&n){const e=o.$implicit;t.Q6J("ngClass",t.WLB(5,O,o.odd,o.even)),t.xp6(3),t.hij(" ",e.dueDate," "),t.xp6(3),t.hij(" ",e.status," "),t.xp6(1),t.Q6J("ngIf",e.unsuccessfulReason),t.xp6(3),t.hij(" ",e.amount," ")}}function T(n,o){if(1&n&&(t.TgZ(0,"ion-list")(1,"ion-row",18)(2,"ion-col",19),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-col",19),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"ion-col",19),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.YNc(11,Z,11,8,"ion-row",20),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,4,"payment_records.due_date")," "),t.xp6(3),t.hij(" ",t.lcZ(7,6,"payment_records.status")," "),t.xp6(3),t.hij(" ",t.lcZ(10,8,"payment_records.premium_amt")," "),t.xp6(2),t.Q6J("ngForOf",e.paymentRecords)}}const A=function(n,o){return{"bg-conventional":n,"bg-takaful":o}},w=[{path:"",component:(()=>{class n{constructor(e,r,s,p,m,L,z,J){this.translateConfigService=e,this.translate=r,this.paymentRecordsService=s,this.logger=p,this.popOverCtrl=m,this.router=L,this.utils=z,this.config=J,this.paymentRecords=[],this.isShowingLoader=!0,this.canTryAgain=!1,this.str1="eight",this.getPaymentRecords=function(){this.utils.isDeviceOnLine()?(this.canTryAgain=!1,this.paymentRecordsService.getPaymentRecords(this.encryptedPolicyNo).then(c=>{try{this.isShowingLoader=!1,c.responseJSON&&c.responseJSON.statusCode==f.OK?(this.paymentRecords=c.responseJSON.array,this.paymentRecords.length>0||(this.errorMsg=this.translate.instant("generic_msgs.no_data"))):this.errorMsg=c.responseJSON.error_description}catch(k){this.isShowingLoader=!1,this.canTryAgain=!0,this.logger.error("getPaymentRecords catch eror : "+JSON.stringify(k)),this.errorMsg=this.translate.instant("generic_msgs.no_data")}},c=>{this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.utils.handleServiceException(c)})):(this.isShowingLoader=!1,this.canTryAgain=!0,this.errorMsg=this.translate.instant("generic_msgs.network_err"))},this.selectedLanguage=this.translateConfigService.getDefaultLanguage(),this.translateConfigService.setLanguage("en"),this.utils.analytics("paymentRecords"),this.config.currentPage.pageName="PaymentRecordsPage",this.selectedPolicyData=history.state.policyData,this.selectedPlanType=this.selectedPolicyData.planType,this.encryptedPolicyNo=this.selectedPolicyData.encryptedPolicyNo}ngOnInit(){this.getPaymentRecords()}ionViewDidLoad(){this.logger.log("ionViewDidLoad PaymentRecordsPage"),this.getPaymentRecords()}payNow(){this.router.navigate(["payment-user-details"],{state:{encryptedPlNo:this.encryptedPolicyNo,polNo:this.selectedPolicyData.policyNumber,planType:this.selectedPlanType}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.w),t.Y36(l.sK),t.Y36(y.T),t.Y36(P.U),t.Y36(i.Dh),t.Y36(d.F0),t.Y36(b.f),t.Y36(x.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payment-records"]],decls:19,vars:14,consts:[["mode","ios"],["color","primary",2,"border-bottom","3px solid white"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["color","primary",1,"tabs"],[2,"margin-bottom","5px",3,"ngClass"],[1,"sub-header"],["no-bounce","",1,"ion-padding"],["class","spinnersection ion-text-center",4,"ngIf"],["class","errorMsgSection white_container_border_radius","margin","",4,"ngIf"],[4,"ngIf"],["expand","block",1,"btn_center1",3,"click"],[1,"spinnersection","ion-text-center"],["name","lines-sharp-small",2,"height","98%"],["margin","",1,"errorMsgSection","white_container_border_radius"],["style","--background:var(--ion-color-white);",3,"click",4,"ngIf"],[2,"--background","var(--ion-color-white)",3,"click"],[1,"heading","font_size_17","text_color_base"],["size","4",1,"ion-text-center",2,"font-family","var(--ion-font-Agenda-Semibold)"],["class","font_size_17 content",3,"ngClass",4,"ngFor","ngForOf"],[1,"font_size_17","content",3,"ngClass"],["size","4",1,"ion-text-center"],[1,"statusDiv"],["class","securetooltip",3,"tap",4,"ngIf"],["size","4",1,"ion-text-center",2,"padding","7px 20px"],[1,"securetooltip",3,"tap"],[1,"fas","fa-question-circle"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5),t.qZA()(),t.TgZ(6,"ion-toolbar",5)(7,"ion-row",6)(8,"ion-label",7),t._uU(9),t.ALo(10,"translate"),t.qZA()()()(),t.TgZ(11,"ion-content",8),t.YNc(12,R,2,0,"section",9),t.YNc(13,C,4,2,"section",10),t.YNc(14,T,12,10,"ion-list",11),t.qZA(),t.TgZ(15,"div")(16,"ion-button",12),t.NdJ("click",function(){return r.payNow()}),t._uU(17),t.ALo(18,"translate"),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(r.selectedPolicyData.policyNumber),t.xp6(2),t.Q6J("ngClass",t.WLB(11,A,"Conventional"===r.selectedPlanType,"Conventional"!==r.selectedPlanType)),t.xp6(2),t.Oqu(t.lcZ(10,7,"payment_records.title")),t.xp6(3),t.Q6J("ngIf",r.isShowingLoader),t.xp6(1),t.Q6J("ngIf",!(r.paymentRecords.length>0||r.isShowingLoader)),t.xp6(1),t.Q6J("ngIf",r.paymentRecords.length>0),t.xp6(3),t.Oqu(t.lcZ(18,9,"payment_records.pay_now")))},dependencies:[g.mk,g.sg,g.O5,i.oU,i.YG,i.Sm,i.wI,i.W2,i.Gu,i.gu,i.Q$,i.q_,i.Nd,i.PQ,i.wd,i.sr,i.cs,l.X$],styles:[".app_bg2[_ngcontent-%COMP%]{--background: url(app_bg_2.54dc544248702eeb.jpg) no-repeat center center / cover;background-size:cover;background-repeat:no-repeat;height:100%;background-position:bottom}.sub-header[_ngcontent-%COMP%]{color:#fff;padding:10px 25px!important;margin:0!important;font-size:1.1rem!important;font-family:Agenda-Regular}.tabs[_ngcontent-%COMP%]{border-top:3px solid color white;--padding-top: -4px;--padding-start: -4px;--padding-end: -4px;--min-height: 44px}.white_container_border_radius[_ngcontent-%COMP%]{padding:25px}.scroll-content[_ngcontent-%COMP%]{padding:0!important}.col[_ngcontent-%COMP%]{padding:7px 20px!important}.grid[_ngcontent-%COMP%]{padding:0!important}.content[_ngcontent-%COMP%]{color:#4e4e4e}.header-md[_ngcontent-%COMP%]:after, .tabs-md[tabsPlacement=top][_ngcontent-%COMP%] > .tabbar[_ngcontent-%COMP%]:after, .footer-md[_ngcontent-%COMP%]:before, .tabs-md[tabsPlacement=bottom][_ngcontent-%COMP%] > .tabbar[_ngcontent-%COMP%]:before{background-image:unset!important}.btn_center1[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;font-size:1.1rem;border-radius:20px;min-height:40px;--border-radius: 10px !important;width:80%!important;margin-bottom:20px;font-family:Agenda-Regular!important;margin-left:auto;margin-right:auto}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:15px;--border-radius: 10px;min-height:45px;width:100%!important;font-family:Agenda-Regular!important}.securetooltip[_ngcontent-%COMP%]{position:absolute;margin-top:-22px;margin-left:35%;font-size:15px}.statusDiv[_ngcontent-%COMP%]{width:120%;margin-left:-12%}.heading[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold)}.font_size_17[_ngcontent-%COMP%]{font-size:1rem!important}.text_color_base[_ngcontent-%COMP%]{color:#002d3d!important}.download_modal[_ngcontent-%COMP%]{background:rgba(0,0,0,.7)!important}.download_modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute!important;width:90%!important;top:20%!important;max-height:70%!important;left:5%!important;background:rgba(255,255,255,.7)!important;border-radius:15px}.even[_ngcontent-%COMP%]{background:white}.odd[_ngcontent-%COMP%]{background:#e5eaeb}"]}),n})()}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(w),d.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,h.u5,i.Pc,l.aw,N]}),n})()}}]);