{"version":3,"file":"src_app_pages_e-medical-card_e-medical-card_module_ts.js","mappings":"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","sources":["./src/app/pages/e-medical-card/e-medical-card-routing.module.ts","./src/app/pages/e-medical-card/e-medical-card.module.ts","./src/app/pages/e-medical-card/e-medical-card.page.html","./src/app/pages/e-medical-card/e-medical-card.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EMedicalCardPage } from './e-medical-card.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EMedicalCardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EMedicalCardPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EMedicalCardPageRoutingModule } from './e-medical-card-routing.module';\r\n\r\nimport { EMedicalCardPage } from './e-medical-card.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EMedicalCardPageRoutingModule\r\n  ],\r\n  declarations: [EMedicalCardPage]\r\n})\r\nexport class EMedicalCardPageModule {}\r\n","<ion-header mode=\"ios\">\r\n  <ion-toolbar color=\"primary\" class=\"toolbar\">\r\n    <ion-menu-button slot=\"start\" auto-hide=\"false\" color=\"secondary\"></ion-menu-button>\r\n    <ion-title> E-Medical Card </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content padding class=\"app_bg2 text_color_base\" no-bounce>\r\n\r\n  <section class=\"white_container_border_radius padding_15\">\r\n    <div class=\"radio-container\" id=\"selectpolicySection\">\r\n      <ion-label class=\"heading\">Select Policy</ion-label>\r\n      <div class=\"select-plan\">\r\n        <!-- <div>\r\n          <ion-radio-group (ionChange)=\"onSelectPolicy($event.detail.value)\">\r\n            <ion-row  class=\"policy-container\" >\r\n              <ion-item  lines=\"none\" size=\"12\" lines=\"none\">\r\n                <ion-radio slot=\"start\" [value]=\"12\" mode=\"md\" ></ion-radio>\r\n              <ion-label>2345678</ion-label>\r\n              </ion-item>\r\n              <ion-col size=\"12\" class=\"plan-container\">\r\n                <div class=\"user-name\">euueirir*</div>\r\n                <div>my policy</div>\r\n              </ion-col>\r\n            </ion-row>\r\n          </ion-radio-group> \r\n        </div> -->\r\n        <div>\r\n          <ion-radio-group (ionChange)=\"onSelectPolicy($event.detail.value)\">\r\n            <ion-row  class=\"policy-container\" *ngFor=\"let policy of policyList, let i = index\">\r\n              <ion-item  lines=\"none\" size=\"12\" lines=\"none\">\r\n                <ion-radio slot=\"start\" [value]=\"policy\" mode=\"md\" ></ion-radio>\r\n              <ion-label style=\"color: white;\">{{policy.policyNo}}</ion-label>\r\n              </ion-item>\r\n              <ion-col size=\"12\" class=\"plan-container\">\r\n                <div class=\"user-name\">{{policy.insuredName}}*</div>\r\n                <div>{{policy.basePlanName}}</div>\r\n              </ion-col>\r\n            </ion-row>\r\n          </ion-radio-group> \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <p class=\"note\">* Life Assured / Person covered</p>\r\n    <p class=\"note\">- Plans eligible for Medical cards are shown here</p>\r\n    <ion-row text-center align-items-center>\r\n      <ion-col>\r\n        <ion-button  class=\"btn_center\" [disabled]=\"!enableButton\" (click)=\"submitPolicy()\">Submit</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AlertController} from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LoggerServiceProvider } from 'src/providers/logger-service/logger-service';\r\nimport { ConfigProvider } from 'src/providers/utils/config';\r\nimport { UtilService } from 'src/providers/utils/utils.service';\r\nimport { EMedicalCardService } from './eMedicalCardService';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-e-medical-card',\r\n  templateUrl: './e-medical-card.page.html',\r\n  styleUrls: ['./e-medical-card.page.scss'],\r\n})\r\nexport class EMedicalCardPage implements OnInit {\r\n // @ViewChild(Nav) nav: Nav;\r\n  policyList = [];\r\n  isFlipped = false;\r\n  container: any;\r\n  enableButton = false;\r\n  errorMsg: any;\r\n  selectedPolicyNo;\r\n  policyDetails = {};\r\n  navCtrl: any;\r\n  constructor(\r\n    private config: ConfigProvider,\r\n    public eMedicalCardSrvc: EMedicalCardService,\r\n    public utils: UtilService, public alertCtrl: AlertController,\r\n    public logger: LoggerServiceProvider, public translate: TranslateService,public router: Router,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n   \r\n    this.policyList = history.state.policylist['array'];\r\n    console.log('this.policyList',this.policyList)\r\n  }\r\n\r\n\r\n  submitPolicy() {\r\n    this.utils.showProgressLoader();\r\n    this.eMedicalCardSrvc.getMedicalCardDetails(this.selectedPolicyNo).then((res) => {\r\n      try {\r\n        this.utils.dissmisProgressLoader();\r\n        if (res['responseJSON']['array'].length) {\r\n          console.log('resp',res['responseJSON']['array'])\r\n          this.policyDetails = res['responseJSON']['array'][0];\r\n          this.policyDetails['encryptedPolicyNo'] = this.selectedPolicyNo;\r\n          console.log('this.policyDetails',this.policyDetails['encryptedPolicyNo'])\r\n          if (this.policyDetails['medicalCardStatus'] === 'VALID') {\r\n            this.router.navigate(['/download-medicard'],{state:{ policyDetails : this.policyDetails }})\r\n            //this.navCtrl.push(DownloadMedicardPage, this.policyDetails);\r\n          } else if (this.policyDetails['medicalCardStatus'] === 'NOTINFORCE') {\r\n            this.showDialog('not-active', this.policyDetails, \"Medical card may not be active\", \"Medical card may not work as intended if the Policy / Medical Rider is not in-force. Do you still want to proceed with E-Medical card download? <p>For further info, please contact our Client Careline at \" + '<u><a href=\"tel:1300-88-5055\">1300-88-5055</a></u>' + \" or email us at \" + '<u><a href=\"mailto:wecare@sunlifemalaysia.com\" target=\"_blank\">wecare@sunlifemalaysia.com</a></u>' + \".</p>\");\r\n          }\r\n        } else {\r\n          this.showDialog('not-linked', '', \"Medical card not applicable\", \"E-Medical card cannot be generated as Medical Rider is not linked to this policy. Please purchase a rider to enjoy medical benefits. <p>For further info, please contact our Client Careline at \" + '<u><a href=\"tel:1300-88-5055\">1300-88-5055</a></u>' + \" or email us at \" + '<u><span style=\"color:#007bff;\"><a href=\"mailto:wecare@sunlifemalaysia.com\" target=\"_blank\">wecare@sunlifemalaysia.com</a></span></u>' + \".</p>\");\r\n        }\r\n      } catch (e) {\r\n        this.utils.dissmisProgressLoader();\r\n        this.logger.error(\"loginSuccess catch eror : \" + JSON.stringify(e));\r\n        this.errorMsg = this.translate.instant('generic_msgs.server_err');\r\n      }\r\n    }, (err) => {\r\n      this.utils.dissmisProgressLoader();\r\n      this.errorMsg = this.utils.handleServiceException(err);\r\n    });\r\n  }\r\n\r\n  showDialog(className: any, data: any, title: string, message: string) {\r\n    let buttons = [{\r\n      cssClass: 'proceed-btn',\r\n      text: \"Proceed\",\r\n      handler: () => {\r\n        if (this.policyDetails['medicalCardStatus'] === 'NOTINFORCE') {\r\n          //this.navCtrl.push(DownloadMedicardPage, data);\r\n          this.router.navigate(['/download-medicard'],{state:{ policyDetails : data }})\r\n        }\r\n      }\r\n    },\r\n    {\r\n      text: \"OK\",\r\n      cssClass: \"ok-btn\",\r\n      handler: () => { }\r\n    },\r\n    {\r\n      cssClass: 'cancel-btn',\r\n      text: \"Cancel\",\r\n      handler: () => { }\r\n    },\r\n    ];\r\n\r\n    const alert: any = this.alertCtrl.create({\r\n      header: title,\r\n      cssClass: className,\r\n      message: message,\r\n      buttons: buttons,\r\n      backdropDismiss: false,\r\n  }).then((alert) => alert.present());\r\n  }\r\n\r\n\r\n  onSelectPolicy(policy) {\r\n    console.log('policy',policy)\r\n    this.selectedPolicyNo = policy.encryptedPolicyNo;\r\n    console.log('encryptedPolicyNo',this.selectedPolicyNo)\r\n    this.enableButton = true;\r\n  }\r\n\r\n}\r\n"],"names":["RouterModule","EMedicalCardPage","routes","path","component","EMedicalCardPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","IonicModule","EMedicalCardPageModule","declarations","i0","constructor","config","eMedicalCardSrvc","utils","alertCtrl","logger","translate","router","ngOnInit","policyList","history","state","policylist","console","log","submitPolicy","showProgressLoader","getMedicalCardDetails","selectedPolicyNo","then","res","dissmisProgressLoader","length","policyDetails","navigate","showDialog","e","error","JSON","stringify","errorMsg","instant","err","handleServiceException","className","data","title","message","buttons","cssClass","text","handler","alert","create","header","backdropDismiss","present","onSelectPolicy","policy","encryptedPolicyNo","enableButton","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}