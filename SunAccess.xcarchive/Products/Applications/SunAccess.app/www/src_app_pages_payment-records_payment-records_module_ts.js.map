{"version":3,"file":"src_app_pages_payment-records_payment-records_module_ts.js","mappings":"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","sources":["./src/app/pages/payment-records/payment-records-routing.module.ts","./src/app/pages/payment-records/payment-records.module.ts","./src/app/pages/payment-records/payment-records.page.ts","./src/app/pages/payment-records/payment-records.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PaymentRecordsPage } from './payment-records.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentRecordsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentRecordsPageRoutingModule {}\r\n","import { TranslateModule } from '@ngx-translate/core';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentRecordsPageRoutingModule } from './payment-records-routing.module';\r\n\r\nimport { PaymentRecordsPage } from './payment-records.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    PaymentRecordsPageRoutingModule\r\n  ],\r\n  declarations: [PaymentRecordsPage]\r\n})\r\nexport class PaymentRecordsPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TranslateConfigService } from 'src/app/services/translate-config.service';\r\nimport { LoggerServiceProvider } from 'src/providers/logger-service/logger-service';\r\nimport { ConfigProvider } from 'src/providers/utils/config';\r\nimport { UtilService } from 'src/providers/utils/utils.service';\r\nimport { PaymentRecordsService } from './paymentRecordsService';\r\nimport * as HttpStatus from 'http-status-codes';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-payment-records',\r\n  templateUrl: './payment-records.page.html',\r\n  styleUrls: ['./payment-records.page.scss'],\r\n})\r\nexport class PaymentRecordsPage implements OnInit {\r\n  selectedLanguage:string;\r\n  paymentRecords :any =[];\r\n  isShowingLoader = true;\r\n  errorMsg : any;\r\n  encryptedPolicyNo:any;\r\n  selectedPolicyData :any;\r\n  selectedPlanType :any;\r\n  canTryAgain : any = false;\r\n  policyNo : any;\r\n  str1:any=\"eight\";\r\n\r\n  constructor(\r\n    private translateConfigService: TranslateConfigService,\r\n    public translate:TranslateService,\r\n    public paymentRecordsService:PaymentRecordsService,\r\n    public logger: LoggerServiceProvider,\r\n    public popOverCtrl: PopoverController,\r\n    private router: Router,public utils:UtilService, public config:ConfigProvider\r\n\r\n  ) {\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n      this.translateConfigService.setLanguage('en');\r\n      this.utils.analytics(\"paymentRecords\");\r\n      this.config.currentPage.pageName = \"PaymentRecordsPage\";\r\n\r\n      this.selectedPolicyData =  history.state.policyData;\r\n       this.selectedPlanType = this.selectedPolicyData['planType'];\r\n      this.encryptedPolicyNo = this.selectedPolicyData['encryptedPolicyNo'];\r\n   }\r\n   ngOnInit() {\r\n    this.getPaymentRecords();\r\n  }\r\n\r\n   ionViewDidLoad() {\r\n    this.logger.log('ionViewDidLoad PaymentRecordsPage');\r\n    this.getPaymentRecords();\r\n  }\r\n  getPaymentRecords =function(){\r\n    if (this.utils.isDeviceOnLine()) {\r\n      this.canTryAgain = false;\r\n      this.paymentRecordsService.getPaymentRecords(this.encryptedPolicyNo).then((res) => {\r\n        try {\r\n        this.isShowingLoader=false;\r\n          if (res['responseJSON'] && res['responseJSON']['statusCode'] == HttpStatus.OK) {\r\n            this.paymentRecords = res['responseJSON']['array'];\r\n            if(!(this.paymentRecords.length>0)){\r\n              this.errorMsg = this.translate.instant('generic_msgs.no_data');\r\n        }\r\n          }else{\r\n            this.errorMsg = res['responseJSON']['error_description'];\r\n          }\r\n        }catch (e) {\r\n          this.isShowingLoader=false;\r\n          this.canTryAgain = true;\r\n          this.logger.error(\"getPaymentRecords catch eror : \" + JSON.stringify(e));\r\n          this.errorMsg = this.translate.instant('generic_msgs.no_data');\r\n        }\r\n      }, (err) => {\r\n      this.isShowingLoader=false;\r\n      this.canTryAgain = true;\r\n      this.errorMsg = this.utils.handleServiceException(err);\r\n      });\r\n    }else{\r\n      this.isShowingLoader=false;\r\n      this.canTryAgain =true;\r\n      this.errorMsg = this.translate.instant('generic_msgs.network_err');\r\n    }\r\n}\r\npayNow(){\r\n  this.router.navigate(['payment-user-details'], { state: { encryptedPlNo:this.encryptedPolicyNo, polNo: this.selectedPolicyData['policyNumber'],planType:this.selectedPlanType} });\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n","<ion-header mode=\"ios\" >\r\n  <ion-toolbar color=\"primary\" style=\"border-bottom:3px solid white;\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button style=\"padding-left:15px; font-size:0.7rem;\" text=\"\" icon=\"chevron-back-outline\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title class=\"bold-font\">{{selectedPolicyData['policyNumber']}}</ion-title>\r\n   </ion-toolbar >\r\n   <ion-toolbar color=\"primary\" class=\"tabs\">\r\n    <ion-row [ngClass]=\"{'bg-conventional' : (selectedPlanType === 'Conventional'),'bg-takaful': (selectedPlanType !=='Conventional')}\" style=\"margin-bottom: 5px;\">\r\n        <ion-label class=\"sub-header\">{{\"payment_records.title\"|translate}}</ion-label>\r\n    </ion-row>\r\n  </ion-toolbar>\r\n  </ion-header>\r\n\r\n  <ion-content  no-bounce class=\"ion-padding\">\r\n    <section class=\"spinnersection ion-text-center\" *ngIf=\"isShowingLoader\">\r\n      <ion-spinner style=\"height:98%;\" name=\"lines-sharp-small\"></ion-spinner>\r\n  </section>\r\n    <section class=\"errorMsgSection white_container_border_radius\" margin *ngIf=\"!(paymentRecords.length>0) && !isShowingLoader\">\r\n        <span>{{errorMsg}}</span>\r\n        <ion-button *ngIf=\"canTryAgain\" (click)=\"getPaymentRecords()\"> {{\"generic_msgs.try_again\" | translate }}</ion-button>\r\n    </section>\r\n      <ion-list  *ngIf=\"(paymentRecords.length>0)\" >\r\n        <ion-row class=\"heading font_size_17 text_color_base\">\r\n          <ion-col  style=\"font-family: Agenda-semibold;\"  class=\"ion-text-center\" size=\"4\">\r\n                  {{\"payment_records.due_date\"|translate}}\r\n          </ion-col>\r\n          <ion-col  style=\"font-family: Agenda-semibold;\"  class=\"ion-text-center\" size=\"4\">\r\n                  {{\"payment_records.status\"|translate}}\r\n          </ion-col>\r\n          <ion-col  style=\"font-family: Agenda-semibold;\"  class=\"ion-text-center\" size=\"4\">\r\n                  {{\"payment_records.premium_amt\"|translate}}\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row  *ngFor=\"let payment of paymentRecords; let odd=odd; let even=even;\" [ngClass]=\"{ odd: odd, even: even }\" class=\"font_size_17 content\" >\r\n          <ion-col class=\"ion-text-center\" size=\"4\">\r\n            <div>\r\n              {{payment.dueDate}}\r\n            </div>\r\n          </ion-col>\r\n          <ion-col class=\"ion-text-center\" size=\"4\">\r\n            <div class=\"statusDiv\">\r\n              {{payment.status}}\r\n              </div>\r\n              <ion-icon *ngIf=\"payment.unsuccessfulReason\" on-tap=\"openPopup($event,payment.unsuccessfulReason)\" class=\"securetooltip\">\r\n                <i class=\"fas fa-question-circle\" ></i>\r\n                </ion-icon>\r\n          </ion-col>\r\n          <ion-col class=\"ion-text-center\" size=\"4\">\r\n            <div>\r\n              {{payment.amount}}\r\n            </div>\r\n            </ion-col>\r\n          </ion-row>\r\n      </ion-list>\r\n\r\n\r\n  </ion-content>\r\n  <!-- <ion-item  lines=\"none\">\r\n      <ion-row class=\"ion-text-center\" >\r\n          <ion-col> -->\r\n            <div>\r\n\r\n\r\n              <ion-button  class=\"btn_center1\"  expand=\"block\" (click)=\"payNow()\">{{\"payment_records.pay_now\"|translate}}</ion-button>\r\n            </div>\r\n              <!-- </ion-col>\r\n      </ion-row>\r\n  </ion-item> -->\r\n"],"names":["RouterModule","PaymentRecordsPage","routes","path","component","PaymentRecordsPageRoutingModule","forChild","imports","exports","TranslateModule","CommonModule","FormsModule","IonicModule","PaymentRecordsPageModule","declarations","HttpStatus","i0","constructor","translateConfigService","translate","paymentRecordsService","logger","popOverCtrl","router","utils","config","isDeviceOnLine","canTryAgain","getPaymentRecords","encryptedPolicyNo","then","res","isShowingLoader","OK","paymentRecords","length","errorMsg","instant","e","error","JSON","stringify","err","handleServiceException","selectedLanguage","getDefaultLanguage","setLanguage","analytics","currentPage","pageName","selectedPolicyData","history","state","policyData","selectedPlanType","ngOnInit","ionViewDidLoad","log","payNow","navigate","encryptedPlNo","polNo","planType","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}