"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2855],{82855:(w,p,i)=>{i.r(p),i.d(p,{EMedicalCardPageModule:()=>_});var h=i(36895),u=i(24006),n=i(48058),s=i(64228),t=i(98274),f=i(43485),C=i(27323),P=i(53025),M=i(9999),y=i(54463);function b(o,r){if(1&o&&(t.TgZ(0,"ion-row",15)(1,"ion-item",16),t._UZ(2,"ion-radio",17),t.TgZ(3,"ion-label",18),t._uU(4),t.qZA()(),t.TgZ(5,"ion-col",19)(6,"div",20),t._uU(7),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(2),t.Oqu(e.policyNo),t.xp6(3),t.hij("",e.insuredName,"*"),t.xp6(2),t.Oqu(e.basePlanName)}}const O=[{path:"",component:(()=>{class o{constructor(e,a,c,l,d,m,g){this.config=e,this.eMedicalCardSrvc=a,this.utils=c,this.alertCtrl=l,this.logger=d,this.translate=m,this.router=g,this.policyList=[],this.isFlipped=!1,this.enableButton=!1,this.policyDetails={}}ngOnInit(){this.policyList=history.state.policylist.array,console.log("this.policyList",this.policyList)}submitPolicy(){this.utils.showProgressLoader(),this.eMedicalCardSrvc.getMedicalCardDetails(this.selectedPolicyNo).then(e=>{try{e.responseJSON.array.length?(this.policyDetails=e.responseJSON.array[0],this.policyDetails.encryptedPolicyNo=this.selectedPolicyNo,"VALID"===this.policyDetails.medicalCardStatus?(this.utils.dissmisProgressLoader(),this.router.navigate(["/download-medicard"],{state:{policyDetails:this.policyDetails}})):"NOTINFORCE"===this.policyDetails.medicalCardStatus&&(this.utils.dissmisProgressLoader(),this.showDialog("not-active",this.policyDetails,"Medical card may not be active",'Medical card may not work as intended if the Policy / Medical Rider is not in-force. Do you still want to proceed with E-Medical card download? <p>For further info, please contact our Client Careline at <u><a href="tel:1300-88-5055">1300-88-5055</a></u> or email us at <u><a href="mailto:wecare@sunlifemalaysia.com" target="_blank">wecare@sunlifemalaysia.com</a></u>.</p>'))):(this.utils.dissmisProgressLoader(),this.showDialog("not-linked","","Medical card not applicable",'E-Medical card cannot be generated as Medical Rider is not linked to this policy. Please purchase a rider to enjoy medical benefits. <p>For further info, please contact our Client Careline at <u><a href="tel:1300-88-5055">1300-88-5055</a></u> or email us at <u><span style="color:#6095c9;"><a href="mailto:wecare@sunlifemalaysia.com" target="_blank">wecare@sunlifemalaysia.com</a></span></u>.</p>'))}catch(a){this.utils.dissmisProgressLoader(),this.logger.error("loginSuccess catch eror : "+JSON.stringify(a)),this.errorMsg=this.translate.instant("generic_msgs.server_err")}},e=>{this.utils.dissmisProgressLoader(),this.errorMsg=this.utils.handleServiceException(e)})}showDialog(e,a,c,l){this.alertCtrl.create({header:c,cssClass:e,message:l,buttons:[{cssClass:"proceed-btn",text:"Proceed",handler:()=>{"NOTINFORCE"===this.policyDetails.medicalCardStatus&&this.router.navigate(["/download-medicard"],{state:{policyDetails:a}})}},{text:"OK",cssClass:"ok-btn",handler:()=>{}},{cssClass:"cancel-btn",text:"Cancel",handler:()=>{}}],backdropDismiss:!1}).then(g=>g.present())}onSelectPolicy(e){console.log("policy",e),this.selectedPolicyNo=e.encryptedPolicyNo,console.log("encryptedPolicyNo",this.selectedPolicyNo),this.enableButton=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.i),t.Y36(C.C),t.Y36(P.f),t.Y36(n.Br),t.Y36(M.U),t.Y36(y.sK),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-e-medical-card"]],decls:22,vars:2,consts:[["mode","ios"],["color","primary",1,"toolbar"],["slot","start"],["text","","icon","chevron-back-outline",2,"padding-left","15px","font-size","0.7rem"],[1,"bold-font"],["padding","","no-bounce","",1,"app_bg2","text_color_base"],[1,"white_container_border_radius","padding_15"],["id","selectpolicySection",1,"radio-container"],[1,"heading"],[2,"margin-top","5px"],[3,"ionChange"],["class","policy-container",4,"ngFor","ngForOf"],[1,"note"],["text-center","","align-items-center",""],[1,"btn_center",3,"disabled","click"],[1,"policy-container"],["lines","none","size","12","lines","none"],["slot","start","mode","md",1,"radio-size",3,"value"],[2,"color","white"],["size","12",1,"plan-container"],[1,"user-name"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title",4),t._uU(5," E-Medical Card "),t.qZA()()(),t.TgZ(6,"ion-content",5)(7,"section",6)(8,"div",7)(9,"ion-label",8),t._uU(10,"Select Policy"),t.qZA(),t.TgZ(11,"div",9)(12,"ion-radio-group",10),t.NdJ("ionChange",function(l){return a.onSelectPolicy(l.detail.value)}),t.YNc(13,b,10,4,"ion-row",11),t.qZA()()(),t.TgZ(14,"p",12),t._uU(15,"* Life Assured / Person covered"),t.qZA(),t.TgZ(16,"p",12),t._uU(17,"- Plans eligible for Medical cards are shown here"),t.qZA(),t.TgZ(18,"ion-row",13)(19,"ion-col")(20,"ion-button",14),t.NdJ("click",function(){return a.submitPolicy()}),t._uU(21,"Submit"),t.qZA()()()()()),2&e&&(t.xp6(13),t.Q6J("ngForOf",a.policyList),t.xp6(7),t.Q6J("disabled",!a.enableButton))},dependencies:[h.sg,n.oU,n.YG,n.Sm,n.wI,n.W2,n.Gu,n.Ie,n.Q$,n.B7,n.se,n.Nd,n.wd,n.sr,n.U5,n.QI,n.cs],styles:[".policy-container[_ngcontent-%COMP%]{border:1px solid var(--ion-color-secondary);margin-bottom:15px}.policy-container[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{background:var(--ion-color-secondary);margin-bottom:0;padding:8px}.policy-container[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff!important}.policy-container[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checked[_ngcontent-%COMP%]{border-color:#fff}.policy-container[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checked[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%]{background-color:#fff}.policy-container[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{border-color:#fff}.policy-container[_ngcontent-%COMP%]   .plan-container[_ngcontent-%COMP%]{display:block;padding:8px}.policy-container[_ngcontent-%COMP%]   .plan-container[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px}.text_color_base[_ngcontent-%COMP%]{color:var(--ion-color-secondary)!important}.white_container_border_radius[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.7)!important;border-radius:15px!important;margin:15px;padding:15px}.btn_center[_ngcontent-%COMP%]{text-transform:capitalize;--background: #002d3d !important;color:#fff;margin-top:5px;--border-radius: 10px !important;min-width:200px;min-height:45px;width:100%!important;font-family:Agenda-Regular!important}ion-item[_ngcontent-%COMP%]{padding:-8px;--background: #002d3d;width:100%;height:45px}.item[_ngcontent-%COMP%]   .sc-ion-label-md-h[_ngcontent-%COMP%]{--color: initial;display:block;color:#fff;font-family:Agenda-Regular!important;font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;box-sizing:border-box}.radio-icon[_ngcontent-%COMP%]{margin:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:#fff}ion-radio[_ngcontent-%COMP%]{--color-checked: white !important}ion-label.item-radio-checked[_ngcontent-%COMP%]{--color: white}a[_ngcontent-%COMP%]{background-color:transparent;color:#6095c9}.alert-wrapper[_ngcontent-%COMP%]   .alert-head[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{margin-top:0;padding:16px 16px 0;font-size:18px}.alert-wrapper[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{font-size:.8rem;min-height:80px;padding:16px!important;text-align:left}.alert-wrapper[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{border-top:1px solid #9a9a9a;padding:16px 24px;display:block}.alert-wrapper[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#febe10;border-radius:4px;color:#002d3d;font-weight:700;flex:inherit;min-width:225px;padding:8px;text-transform:capitalize;margin-bottom:5px;align-items:center}.proceed-btn[_ngcontent-%COMP%]{display:none}.cancel-btn[_ngcontent-%COMP%]{display:block}.heading[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;font-family:var(--ion-font-Agenda-Semibold)}.note[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px!important}.bold-font[_ngcontent-%COMP%]{font-family:var(--ion-font-agenda-semibold);text-align:center!important;font-size:1.3rem!important;color:#002d3d;text-overflow:unset;white-space:unset;font-weight:400!important}.policy-label[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:700}.sc-ion-alert-md-h[_ngcontent-%COMP%]{--min-width: 250px !important;--width: auto !important;--min-height: 57% !important;--height: auto !important;--max-height: 90% !important}"]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(O),s.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.ez,u.u5,n.Pc,x]}),o})()}}]);